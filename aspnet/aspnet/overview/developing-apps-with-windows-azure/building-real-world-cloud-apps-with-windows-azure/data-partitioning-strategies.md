---
uid: aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/data-partitioning-strategies
title: 資料分割策略（使用 Azure 建立真實世界的雲端應用程式） |Microsoft Docs
author: MikeWasson
description: 使用 Azure 電子書建立真實世界的雲端應用程式，是以 Scott Guthrie 所開發的簡報為基礎。 它會說明13個模式和實務，
ms.author: riande
ms.date: 06/12/2014
ms.assetid: 513837a7-cfea-4568-a4e9-1f5901245d24
msc.legacyurl: /aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/data-partitioning-strategies
msc.type: authoredcontent
ms.openlocfilehash: b8c901ec30b6d37237f80100a2978350ac389b7a
ms.sourcegitcommit: 88fc80e3f65aebdf61ec9414810ddbc31c543f04
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/22/2020
ms.locfileid: "76519163"
---
# <a name="data-partitioning-strategies-building-real-world-cloud-apps-with-azure"></a><span data-ttu-id="188f1-104">資料分割策略（使用 Azure 建立真實世界的雲端應用程式）</span><span class="sxs-lookup"><span data-stu-id="188f1-104">Data Partitioning Strategies (Building Real-World Cloud Apps with Azure)</span></span>

<span data-ttu-id="188f1-105">由[Mike Wasson](https://github.com/MikeWasson)， [Rick Anderson]((https://twitter.com/RickAndMSFT))， [Tom 作者: dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="188f1-105">by [Mike Wasson](https://github.com/MikeWasson), [Rick Anderson]((https://twitter.com/RickAndMSFT)), [Tom Dykstra](https://github.com/tdykstra)</span></span>

<span data-ttu-id="188f1-106">[下載 Fix It 專案](https://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4)或[下載電子書](https://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span><span class="sxs-lookup"><span data-stu-id="188f1-106">[Download Fix It Project](https://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) or [Download E-book](https://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span></span>

> <span data-ttu-id="188f1-107">**使用 Azure 電子書建立真實世界的雲端應用程式**，是以 Scott Guthrie 所開發的簡報為基礎。</span><span class="sxs-lookup"><span data-stu-id="188f1-107">The **Building Real World Cloud Apps with Azure** e-book is based on a presentation developed by Scott Guthrie.</span></span> <span data-ttu-id="188f1-108">其中說明13種模式和作法，可協助您成功開發雲端 web 應用程式。</span><span class="sxs-lookup"><span data-stu-id="188f1-108">It explains 13 patterns and practices that can help you be successful developing web apps for the cloud.</span></span> <span data-ttu-id="188f1-109">如需有關數列的詳細資訊，請參閱[第一章](introduction.md)。</span><span class="sxs-lookup"><span data-stu-id="188f1-109">For information about the series, see [the first chapter](introduction.md).</span></span>

<span data-ttu-id="188f1-110">我們稍早看到，藉由新增和移除網頁伺服器，調整雲端應用程式的 web 層有多容易。</span><span class="sxs-lookup"><span data-stu-id="188f1-110">Earlier we saw how easy it is to scale the web tier of a cloud application, by adding and removing web servers.</span></span> <span data-ttu-id="188f1-111">但是，如果它們全都到達相同的資料存放區，您應用程式的瓶頸就會從前端移至後端，而資料層則是最難調整的。</span><span class="sxs-lookup"><span data-stu-id="188f1-111">But if they're all hitting the same data store, your application's bottleneck moves from the front-end to the back-end, and the data tier is the hardest to scale.</span></span> <span data-ttu-id="188f1-112">在本章中，我們將探討如何藉由將資料分割成多個關係資料庫，或是結合關係資料庫儲存體與其他資料儲存選項，讓您的資料層可擴充。</span><span class="sxs-lookup"><span data-stu-id="188f1-112">In this chapter we look at how you can make your data tier scalable by partitioning data into multiple relational databases, or by combining relational database storage with other data storage options.</span></span>

<span data-ttu-id="188f1-113">設定資料分割配置最適合先前所述的相同原因：在應用程式進入生產階段之後，很難以變更您的資料儲存策略。</span><span class="sxs-lookup"><span data-stu-id="188f1-113">Setting up a partitioning scheme is best done up front for the same reason mentioned earlier: it's very difficult to change your data storage strategy after an app is in production.</span></span> <span data-ttu-id="188f1-114">如果您想要瞭解不同的方法，可以在您重新組織應用程式的資料和資料存取程式碼時，避免在您的應用程式損毀或長時間關閉時出現「Twitter 時刻」。</span><span class="sxs-lookup"><span data-stu-id="188f1-114">If you think hard up front about different approaches, you can avoid having a "Twitter moment" when your app crashes or goes down for a long time while you reorganize your app's data and data access code.</span></span>

## <a name="the-three-vs-of-data-storage"></a><span data-ttu-id="188f1-115">資料儲存體的三種與</span><span class="sxs-lookup"><span data-stu-id="188f1-115">The three Vs of data storage</span></span>

<span data-ttu-id="188f1-116">若要判斷您是否需要資料分割策略及其應有的內容，請考慮您的資料有三個問題：</span><span class="sxs-lookup"><span data-stu-id="188f1-116">In order to determine whether you need a partitioning strategy and what it should be, consider three questions about your data:</span></span>

- <span data-ttu-id="188f1-117">磁片區–您最終會儲存多少資料？</span><span class="sxs-lookup"><span data-stu-id="188f1-117">Volume – How much data will you ultimately store?</span></span> <span data-ttu-id="188f1-118">有幾 gb？</span><span class="sxs-lookup"><span data-stu-id="188f1-118">A couple gigabytes?</span></span> <span data-ttu-id="188f1-119">數百 gb？</span><span class="sxs-lookup"><span data-stu-id="188f1-119">A couple hundred gigabytes?</span></span> <span data-ttu-id="188f1-120">Tb?</span><span class="sxs-lookup"><span data-stu-id="188f1-120">Terabytes?</span></span> <span data-ttu-id="188f1-121">Pt?</span><span class="sxs-lookup"><span data-stu-id="188f1-121">Petabytes?</span></span>
- <span data-ttu-id="188f1-122">速度–資料成長的速度為何？</span><span class="sxs-lookup"><span data-stu-id="188f1-122">Velocity – What is the rate at which your data will grow?</span></span> <span data-ttu-id="188f1-123">這是不會產生大量資料的內部應用程式嗎？</span><span class="sxs-lookup"><span data-stu-id="188f1-123">Is it an internal app that isn't generating a lot of data?</span></span> <span data-ttu-id="188f1-124">客戶將在其中上傳影像和影片的外部應用程式？</span><span class="sxs-lookup"><span data-stu-id="188f1-124">An external app that customers will be uploading images and videos into?</span></span>
- <span data-ttu-id="188f1-125">各種–您會儲存哪些類型的資料？</span><span class="sxs-lookup"><span data-stu-id="188f1-125">Variety – What type of data will you store?</span></span> <span data-ttu-id="188f1-126">關聯式、影像、索引鍵/值組、社交圖形？</span><span class="sxs-lookup"><span data-stu-id="188f1-126">Relational, images, key-value pairs, social graphs?</span></span>

<span data-ttu-id="188f1-127">如果您認為您的磁片區、速度或種類很大，您必須仔細考慮哪種資料分割配置可讓您的應用程式在成長時有效率且有效率地進行調整，並確保不會遇到任何瓶頸。</span><span class="sxs-lookup"><span data-stu-id="188f1-127">If you think you're going to have a lot of volume, velocity, or variety, you have to carefully consider what kind of partitioning scheme will best enable your app to scale efficiently and effectively as it grows, and to ensure you don't run into any bottlenecks.</span></span>

<span data-ttu-id="188f1-128">基本上，分割的方法有三種：</span><span class="sxs-lookup"><span data-stu-id="188f1-128">There are basically three approaches to partitioning:</span></span>

- <span data-ttu-id="188f1-129">垂直資料分割</span><span class="sxs-lookup"><span data-stu-id="188f1-129">Vertical partitioning</span></span>
- <span data-ttu-id="188f1-130">水平資料分割</span><span class="sxs-lookup"><span data-stu-id="188f1-130">Horizontal partitioning</span></span>
- <span data-ttu-id="188f1-131">混合式資料分割</span><span class="sxs-lookup"><span data-stu-id="188f1-131">Hybrid partitioning</span></span>

## <a name="vertical-partitioning"></a><span data-ttu-id="188f1-132">垂直資料分割</span><span class="sxs-lookup"><span data-stu-id="188f1-132">Vertical partitioning</span></span>

<span data-ttu-id="188f1-133">垂直 portioning 與依資料行分割資料表：一組資料行會放入一個資料存放區，而另一組資料行則會進入不同的資料存放區。</span><span class="sxs-lookup"><span data-stu-id="188f1-133">Vertical portioning is like splitting up a table by columns: one set of columns goes into one data store, and another set of columns goes into a different data store.</span></span>

<span data-ttu-id="188f1-134">例如，假設我的應用程式儲存人員的相關資料，包括影像：</span><span class="sxs-lookup"><span data-stu-id="188f1-134">For example, suppose my app stores data about people, including images:</span></span>

![資料表](data-partitioning-strategies/_static/image1.png)

<span data-ttu-id="188f1-136">當您以資料表的形式表示此資料並查看不同的資料時，您可以看到左邊的三個數據行具有可有效率地儲存在關係資料庫中的字串資料，而右邊的兩個數據行則是 c 的位元組陣列。從影像檔案 ome。</span><span class="sxs-lookup"><span data-stu-id="188f1-136">When you represent this data as a table and look at the different varieties of data, you can see that the three columns on the left have string data that can be efficiently stored by a relational database, while the two columns on the right are essentially byte arrays that come from image files.</span></span> <span data-ttu-id="188f1-137">您可以將影像檔案資料儲存在關係資料庫中，而且有很多人都這麼做，因為他們不想要將資料儲存到檔案系統。</span><span class="sxs-lookup"><span data-stu-id="188f1-137">It's possible to store image file data in a relational database, and a lot of people do that because they don't want to save the data to the file system.</span></span> <span data-ttu-id="188f1-138">它們可能沒有能夠儲存所需資料量的檔案系統，或不想要管理個別的備份和還原系統。</span><span class="sxs-lookup"><span data-stu-id="188f1-138">They might not have a file system capable of storing the required volumes of data or they might not want to manage a separate back-up and restore system.</span></span> <span data-ttu-id="188f1-139">這種方法適用于內部部署資料庫和雲端資料庫中的少量資料。</span><span class="sxs-lookup"><span data-stu-id="188f1-139">This approach works well for on-premises databases and for small amounts of data in cloud databases.</span></span> <span data-ttu-id="188f1-140">在內部部署環境中，只是讓 DBA 處理所有專案，可能比較容易。</span><span class="sxs-lookup"><span data-stu-id="188f1-140">In the on-premises environment, it might be easier to just let the DBA take care of everything.</span></span>

<span data-ttu-id="188f1-141">但是在雲端資料庫中，儲存體的成本相當高，而大量的映射可能會使資料庫的大小增加超過其可有效率地運作的限制。</span><span class="sxs-lookup"><span data-stu-id="188f1-141">But in a cloud database, storage is relatively expensive, and a high volume of images could make the size of the database grow beyond the limits at which it can operate efficiently.</span></span> <span data-ttu-id="188f1-142">若要解決這些問題，您可以垂直分割資料，這表示您會針對資料表中的每個資料行，選擇最適當的資料存放區。</span><span class="sxs-lookup"><span data-stu-id="188f1-142">You can address these problems by partitioning the data vertically, which means you choose the most appropriate data store for each column in your table of data.</span></span> <span data-ttu-id="188f1-143">在此範例中，最適合使用的是將字串資料放在關係資料庫和 Blob 儲存體中的影像。</span><span class="sxs-lookup"><span data-stu-id="188f1-143">What might work best for this example is to put the string data in a relational database and the images in Blob storage.</span></span>

![以垂直方式分割的資料表](data-partitioning-strategies/_static/image2.png)

<span data-ttu-id="188f1-145">將影像儲存在 Blob 儲存體中，而不是在內部部署環境中，因為您不需要擔心設定檔案伺服器，或管理儲存在關係資料庫外部之資料的備份與還原，因此在雲端中的工作會更實用。Blob 儲存體服務會自動為您處理。</span><span class="sxs-lookup"><span data-stu-id="188f1-145">Storing images in Blob storage instead of a database is more practical in the cloud than in an on-premises environment because you don't have to worry about setting up file servers or managing back-up and restore of data stored outside of the relational database: all that is handled for you automatically by the Blob storage service.</span></span>

<span data-ttu-id="188f1-146">這是我們在修正 It 應用程式中所實行的分割方式，我們將在[Blob 儲存體一章](unstructured-blob-storage.md)中查看該方法的程式碼。</span><span class="sxs-lookup"><span data-stu-id="188f1-146">This is the partitioning approach we implemented in the Fix It app, and we'll look at the code for that in the [Blob storage chapter](unstructured-blob-storage.md).</span></span> <span data-ttu-id="188f1-147">如果沒有此資料分割配置，而且假設平均映射大小為 3 mb，則修正 It 應用程式只能儲存大約40000個工作，再達到 150 gb 的資料庫大小上限。</span><span class="sxs-lookup"><span data-stu-id="188f1-147">Without this partitioning scheme, and assuming an average image size of 3 megabytes, the Fix It app would only be able to store about 40,000 tasks before hitting the maximum database size of 150 gigabytes.</span></span> <span data-ttu-id="188f1-148">移除映射之後，資料庫可以將10倍的工作儲存為許多工作;您可以花更長的時間來思考如何執行水準資料分割配置。</span><span class="sxs-lookup"><span data-stu-id="188f1-148">After removing the images, the database can store 10 times as many tasks; you can go much longer before you have to think about implementing a horizontal partitioning scheme.</span></span> <span data-ttu-id="188f1-149">隨著應用程式的調整，您的支出成長會變得更慢，因為您的儲存空間需求將會非常便宜。</span><span class="sxs-lookup"><span data-stu-id="188f1-149">And as the app scales, your expenses grow more slowly because the bulk of your storage needs are going into very inexpensive Blob storage.</span></span>

## <a name="horizontal-partitioning-sharding"></a><span data-ttu-id="188f1-150">水平資料分割 (分區化)</span><span class="sxs-lookup"><span data-stu-id="188f1-150">Horizontal partitioning (sharding)</span></span>

<span data-ttu-id="188f1-151">水準 portioning 就像是依資料列分割資料表：一組資料列會進入一個資料存放區，而另一組資料列會進入不同的資料存放區。</span><span class="sxs-lookup"><span data-stu-id="188f1-151">Horizontal portioning is like splitting up a table by rows: one set of rows goes into one data store, and another set of rows goes into a different data store.</span></span>

<span data-ttu-id="188f1-152">假設有一組相同的資料，另一個選項是在不同的資料庫中儲存不同的客戶名稱範圍。</span><span class="sxs-lookup"><span data-stu-id="188f1-152">Given the same set of data, another option would be to store different ranges of customer names in different databases.</span></span>

![資料表格水準分割](data-partitioning-strategies/_static/image3.png)

<span data-ttu-id="188f1-154">您想要非常小心分區化配置，以確保資料會平均分散，以避免作用點。</span><span class="sxs-lookup"><span data-stu-id="188f1-154">You want to be very careful about your sharding scheme to make sure that data is evenly distributed in order to avoid hot spots.</span></span> <span data-ttu-id="188f1-155">使用姓氏的第一個字母的簡單範例不符合該需求，因為很多人都有一個以特定通用字母開頭的名字。</span><span class="sxs-lookup"><span data-stu-id="188f1-155">This simple example using the first letter of the last name doesn't meet that requirement, because a lot of people have last names that start with certain common letters.</span></span> <span data-ttu-id="188f1-156">您所叫用的資料表大小限制早于預期，因為某些資料庫會變得非常大，但大部分的情況下都很小。</span><span class="sxs-lookup"><span data-stu-id="188f1-156">You'd hit table size limitations earlier than you might expect because some databases would get very large while most would remain small.</span></span>

<span data-ttu-id="188f1-157">水準資料分割的下層在於，在所有資料上執行查詢可能會很困難。</span><span class="sxs-lookup"><span data-stu-id="188f1-157">A down side of horizontal partitioning is that it might be hard to do queries across all of the data.</span></span> <span data-ttu-id="188f1-158">在此範例中，查詢必須從最多26個不同的資料庫中繪製，以取得應用程式所儲存的所有資料。</span><span class="sxs-lookup"><span data-stu-id="188f1-158">In this example, a query would have to draw from up to 26 different databases to get all of the data stored by the app.</span></span>

## <a name="hybrid-partitioning"></a><span data-ttu-id="188f1-159">混合式資料分割</span><span class="sxs-lookup"><span data-stu-id="188f1-159">Hybrid partitioning</span></span>

<span data-ttu-id="188f1-160">您可以結合垂直和水準資料分割。</span><span class="sxs-lookup"><span data-stu-id="188f1-160">You can combine vertical and horizontal partitioning.</span></span> <span data-ttu-id="188f1-161">例如，在範例資料中，您可以將影像儲存在 Blob 儲存體中，並水準分割字串資料。</span><span class="sxs-lookup"><span data-stu-id="188f1-161">For example, in the example data you could store the images in Blob storage and horizontally partition the string data.</span></span>

![資料表混合式資料分割](data-partitioning-strategies/_static/image4.png)

## <a name="partitioning-a-production-application"></a><span data-ttu-id="188f1-163">分割生產應用程式</span><span class="sxs-lookup"><span data-stu-id="188f1-163">Partitioning a production application</span></span>

<span data-ttu-id="188f1-164">在概念上，很容易就能看出資料分割配置的運作方式，但任何資料分割配置都會增加程式碼的複雜度，而且引進了許多您必須處理的新複雜性。</span><span class="sxs-lookup"><span data-stu-id="188f1-164">Conceptually it's easy to see how a partitioning scheme would work, but any partitioning scheme does increase code complexity and introduces many new complications that you have to deal with.</span></span> <span data-ttu-id="188f1-165">如果您要將映射移至 blob 儲存體，當儲存體服務關閉時該怎麼做？</span><span class="sxs-lookup"><span data-stu-id="188f1-165">If you're moving images to blob storage, what do you do when the storage service is down?</span></span> <span data-ttu-id="188f1-166">如何處理 blob 安全性？</span><span class="sxs-lookup"><span data-stu-id="188f1-166">How do you handle blob security?</span></span> <span data-ttu-id="188f1-167">如果資料庫和 blob 儲存體不同步，會發生什麼事？</span><span class="sxs-lookup"><span data-stu-id="188f1-167">What happens if the database and blob storage get out of sync?</span></span> <span data-ttu-id="188f1-168">如果您要分區化，您要如何處理所有資料庫的查詢？</span><span class="sxs-lookup"><span data-stu-id="188f1-168">If you're sharding, how will you handle querying across all of the databases?</span></span>

<span data-ttu-id="188f1-169">如果您在進入生產環境之前進行規劃，就可以管理複雜的問題。</span><span class="sxs-lookup"><span data-stu-id="188f1-169">The complications are manageable so long as you're planning for them before you go to production.</span></span> <span data-ttu-id="188f1-170">很多人都不願意這麼做。</span><span class="sxs-lookup"><span data-stu-id="188f1-170">Many people who didn't do that wish they had later.</span></span> <span data-ttu-id="188f1-171">我們的客戶諮詢團隊（CAT）團隊平均每個月會從應用程式以非常大的方式處理的客戶驚慌失措電話，而不會進行這項規劃。</span><span class="sxs-lookup"><span data-stu-id="188f1-171">On average our Customer Advisory Team (CAT) team gets panicked phone calls about once a month from customers whose apps are taking off in a really big way, and they didn't do this planning.</span></span> <span data-ttu-id="188f1-172">而他們說的就是：「說明！</span><span class="sxs-lookup"><span data-stu-id="188f1-172">And they say something like: "Help!</span></span> <span data-ttu-id="188f1-173">我將所有專案都放在單一資料存放區中，而且在45天內，我的空間將會用盡！」</span><span class="sxs-lookup"><span data-stu-id="188f1-173">I put everything in a single data store, and in 45 days I'm going to run out of space on it!"</span></span> <span data-ttu-id="188f1-174">而且，如果您在存取資料存放區的過程中內建了許多商務邏輯，而且您有使用應用程式的客戶，則在您遷移時，不會有足夠的時間可讓您一天停機。</span><span class="sxs-lookup"><span data-stu-id="188f1-174">And if you have a lot of business logic built into how you access your data store and you have customers who are using your app, there's no good time to go down for a day while you migrate.</span></span> <span data-ttu-id="188f1-175">我們最終會經歷項的努力，協助客戶在不停機的時間即時分割其資料。</span><span class="sxs-lookup"><span data-stu-id="188f1-175">We end up going through herculean efforts to help the customer partition their data on the fly with no down time.</span></span> <span data-ttu-id="188f1-176">它非常令人興奮，而且非常可怕，如果可以避免，也不是您想要加入的東西！</span><span class="sxs-lookup"><span data-stu-id="188f1-176">It's very exciting and very scary, and not something you want to be involved in if you can avoid it!</span></span> <span data-ttu-id="188f1-177">事先思考並將它整合到您的應用程式，可以讓應用程式在稍後成長時變得更容易。</span><span class="sxs-lookup"><span data-stu-id="188f1-177">Thinking about this up front and integrating it into your app will make your life a lot easier if the app grows later.</span></span>

## <a name="summary"></a><span data-ttu-id="188f1-178">總結</span><span class="sxs-lookup"><span data-stu-id="188f1-178">Summary</span></span>

<span data-ttu-id="188f1-179">有效的資料分割配置可讓您的雲端應用程式在雲端中擴充至數以 pb 計的資料，而不會產生瓶頸。</span><span class="sxs-lookup"><span data-stu-id="188f1-179">An effective partitioning scheme can enable your cloud app to scale to petabytes of data in the cloud without bottlenecks.</span></span> <span data-ttu-id="188f1-180">如果您在內部部署資料中心內執行應用程式，就不需要支付大規模機器或廣泛基礎結構的正面。</span><span class="sxs-lookup"><span data-stu-id="188f1-180">And you don't have to pay up front for massive machines or extensive infrastructure as you might if you were running the app in an on-premises data center.</span></span> <span data-ttu-id="188f1-181">在雲端中，您可以視需要累加地新增容量，而您只需支付使用時所使用的數量。</span><span class="sxs-lookup"><span data-stu-id="188f1-181">In the cloud you can incrementally add capacity as you need it, and you're only paying for as much as you're using when you use it.</span></span>

<span data-ttu-id="188f1-182">在[下一章](unstructured-blob-storage.md)中，我們將瞭解如何藉由將影像儲存在 Blob 儲存體中，來修正 It 應用程式如何執行垂直資料分割。</span><span class="sxs-lookup"><span data-stu-id="188f1-182">In the [next chapter](unstructured-blob-storage.md) we'll see how the Fix It app implements vertical partitioning by storing images in Blob storage.</span></span>

## <a name="resources"></a><span data-ttu-id="188f1-183">資源</span><span class="sxs-lookup"><span data-stu-id="188f1-183">Resources</span></span>

<span data-ttu-id="188f1-184">如需資料分割策略的詳細資訊，請參閱下列資源。</span><span class="sxs-lookup"><span data-stu-id="188f1-184">For more information about partitioning strategies, see the following resources.</span></span>

<span data-ttu-id="188f1-185">文件：</span><span class="sxs-lookup"><span data-stu-id="188f1-185">Documentation:</span></span>

- <span data-ttu-id="188f1-186">[Windows Azure 雲端服務上大規模服務設計的最佳作法](https://msdn.microsoft.com/library/windowsazure/jj717232.aspx)。</span><span class="sxs-lookup"><span data-stu-id="188f1-186">[Best Practices for the Design of Large-Scale Services on Windows Azure Cloud Services](https://msdn.microsoft.com/library/windowsazure/jj717232.aspx).</span></span> <span data-ttu-id="188f1-187">以標記 Simm 和 Michael Thomassy 的技術白皮書。</span><span class="sxs-lookup"><span data-stu-id="188f1-187">White paper by Mark Simms and Michael Thomassy.</span></span>
- <span data-ttu-id="188f1-188">[Microsoft 模式和實務-雲端設計模式](https://msdn.microsoft.com/library/dn568099.aspx)。</span><span class="sxs-lookup"><span data-stu-id="188f1-188">[Microsoft Patterns and Practices - Cloud Design Patterns](https://msdn.microsoft.com/library/dn568099.aspx).</span></span> <span data-ttu-id="188f1-189">請參閱資料分割指引，分區化模式。</span><span class="sxs-lookup"><span data-stu-id="188f1-189">See Data Partitioning guidance, Sharding pattern.</span></span>

<span data-ttu-id="188f1-190">影片：</span><span class="sxs-lookup"><span data-stu-id="188f1-190">Videos:</span></span>

- <span data-ttu-id="188f1-191">[防安全功能：建立可擴充、可復原的雲端服務](https://channel9.msdn.com/Series/FailSafe)。</span><span class="sxs-lookup"><span data-stu-id="188f1-191">[FailSafe: Building Scalable, Resilient Cloud Services](https://channel9.msdn.com/Series/FailSafe).</span></span> <span data-ttu-id="188f1-192">Ulrich Homann、Marc Mercuri 和 Mark Simm 的九部分系列。</span><span class="sxs-lookup"><span data-stu-id="188f1-192">Nine-part series by Ulrich Homann, Marc Mercuri, and Mark Simms.</span></span> <span data-ttu-id="188f1-193">以非常容易存取且有趣的方式呈現高階概念和架構原則，並提供 Microsoft 客戶諮詢小組（CAT）體驗與實際客戶的故事。</span><span class="sxs-lookup"><span data-stu-id="188f1-193">Presents high-level concepts and architectural principles in a very accessible and interesting way, with stories drawn from Microsoft Customer Advisory Team (CAT) experience with actual customers.</span></span> <span data-ttu-id="188f1-194">請參閱第7集的資料分割討論。</span><span class="sxs-lookup"><span data-stu-id="188f1-194">See the partitioning discussion in episode 7.</span></span>
- <span data-ttu-id="188f1-195">[打造 Big：從 Windows Azure 客戶學習到的經驗-第一部分](https://channel9.msdn.com/Events/Build/2012/3-029)。Mark Simm 討論資料分割配置、分區化策略、如何執行分區化，以及 SQL Database 同盟，從19:49 開始。</span><span class="sxs-lookup"><span data-stu-id="188f1-195">[Building Big: Lessons learned from Windows Azure customers - Part I](https://channel9.msdn.com/Events/Build/2012/3-029). Mark Simms discusses partitioning schemes, sharding strategies, how to implement sharding, and SQL Database Federations, starting at 19:49.</span></span> <span data-ttu-id="188f1-196">類似于防故障的系列，並深入探討如何詳細說明。</span><span class="sxs-lookup"><span data-stu-id="188f1-196">Similar to the Failsafe series but goes into more how-to details.</span></span>

<span data-ttu-id="188f1-197">範例程式碼：</span><span class="sxs-lookup"><span data-stu-id="188f1-197">Sample code:</span></span>

- <span data-ttu-id="188f1-198">[Windows Azure 中的雲端服務基本](https://code.msdn.microsoft.com/Cloud-Service-Fundamentals-4ca72649)概念。</span><span class="sxs-lookup"><span data-stu-id="188f1-198">[Cloud Service Fundamentals in Windows Azure](https://code.msdn.microsoft.com/Cloud-Service-Fundamentals-4ca72649).</span></span> <span data-ttu-id="188f1-199">包含分區化資料庫的範例應用程式。</span><span class="sxs-lookup"><span data-stu-id="188f1-199">Sample application that includes a sharded database.</span></span> <span data-ttu-id="188f1-200">如需所實分區化配置的說明，請參閱 Windows Azure blog 上的[DAL – RDBMS 分區化](https://blogs.msdn.com/b/windowsazure/archive/2013/09/05/dal-sharding-of-rdbms.aspx)。</span><span class="sxs-lookup"><span data-stu-id="188f1-200">For a description of the sharding scheme implemented, see [DAL – Sharding of RDBMS](https://blogs.msdn.com/b/windowsazure/archive/2013/09/05/dal-sharding-of-rdbms.aspx) on the Windows Azure blog.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="188f1-201">[上一頁](data-storage-options.md)
> [下一頁](unstructured-blob-storage.md)</span><span class="sxs-lookup"><span data-stu-id="188f1-201">[Previous](data-storage-options.md)
[Next](unstructured-blob-storage.md)</span></span>
