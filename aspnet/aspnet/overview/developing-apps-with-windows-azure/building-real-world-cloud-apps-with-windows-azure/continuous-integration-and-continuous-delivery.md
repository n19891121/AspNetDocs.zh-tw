---
uid: aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/continuous-integration-and-continuous-delivery
title: 持續整合與持續傳遞（使用 Azure 建立真實世界的雲端應用程式） |Microsoft Docs
author: MikeWasson
description: 使用 Azure 電子書建立真實世界的雲端應用程式，是以 Scott Guthrie 所開發的簡報為基礎。 它會說明13個模式和實務，
ms.author: riande
ms.date: 06/12/2014
ms.assetid: eaece9f5-f80c-428b-b771-5db66d275b7d
msc.legacyurl: /aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/continuous-integration-and-continuous-delivery
msc.type: authoredcontent
ms.openlocfilehash: cf3c65ef95528173eed3fb08984035b2512861c4
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/06/2020
ms.locfileid: "78617835"
---
# <a name="continuous-integration-and-continuous-delivery-building-real-world-cloud-apps-with-azure"></a><span data-ttu-id="bb656-104">持續整合與持續傳遞（使用 Azure 建立真實世界的雲端應用程式）</span><span class="sxs-lookup"><span data-stu-id="bb656-104">Continuous Integration and Continuous Delivery (Building Real-World Cloud Apps with Azure)</span></span>

<span data-ttu-id="bb656-105">由[Mike Wasson](https://github.com/MikeWasson)， [Rick Anderson](https://twitter.com/RickAndMSFT)， [Tom 作者: dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="bb656-105">by [Mike Wasson](https://github.com/MikeWasson), [Rick Anderson](https://twitter.com/RickAndMSFT), [Tom Dykstra](https://github.com/tdykstra)</span></span>

<span data-ttu-id="bb656-106">[下載 Fix It 專案](https://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4)或[下載電子書](https://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span><span class="sxs-lookup"><span data-stu-id="bb656-106">[Download Fix It Project](https://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) or [Download E-book](https://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span></span>

> <span data-ttu-id="bb656-107">**使用 Azure 電子書建立真實世界的雲端應用程式**，是以 Scott Guthrie 所開發的簡報為基礎。</span><span class="sxs-lookup"><span data-stu-id="bb656-107">The **Building Real World Cloud Apps with Azure** e-book is based on a presentation developed by Scott Guthrie.</span></span> <span data-ttu-id="bb656-108">其中說明13種模式和作法，可協助您成功開發雲端 web 應用程式。</span><span class="sxs-lookup"><span data-stu-id="bb656-108">It explains 13 patterns and practices that can help you be successful developing web apps for the cloud.</span></span> <span data-ttu-id="bb656-109">如需電子書的相關資訊，請參閱[第一章](introduction.md)。</span><span class="sxs-lookup"><span data-stu-id="bb656-109">For information about the e-book, see [the first chapter](introduction.md).</span></span>

<span data-ttu-id="bb656-110">前兩個建議的開發程式模式會將[所有專案](automate-everything.md)和[原始檔控制](source-control.md)自動化，而第三個進程模式會將它們結合在一起。</span><span class="sxs-lookup"><span data-stu-id="bb656-110">The first two recommended development process patterns were [Automate Everything](automate-everything.md) and [Source Control](source-control.md), and the third process pattern combines them.</span></span> <span data-ttu-id="bb656-111">持續整合（CI）表示每當開發人員將程式碼簽入來源存放庫時，就會自動觸發組建。</span><span class="sxs-lookup"><span data-stu-id="bb656-111">Continuous integration (CI) means that whenever a developer checks in code to the source repository, a build is automatically triggered.</span></span> <span data-ttu-id="bb656-112">持續傳遞（CD）更進一步：在組建和自動化單元測試成功之後，您會自動將應用程式部署到可執行更深入測試的環境。</span><span class="sxs-lookup"><span data-stu-id="bb656-112">Continuous delivery (CD) takes this one step further: after a build and automated unit tests are successful, you automatically deploy the application to an environment where you can do more in-depth testing.</span></span>

<span data-ttu-id="bb656-113">雲端可讓您將維護測試環境的成本降到最低，因為只有在使用環境資源時才需要付費。</span><span class="sxs-lookup"><span data-stu-id="bb656-113">The cloud enables you to minimize the cost of maintaining a test environment because you only pay for the environment resources as long as you're using them.</span></span> <span data-ttu-id="bb656-114">您的 CD 程式可以在需要時設定測試環境，而且當您完成測試時，可以關閉環境。</span><span class="sxs-lookup"><span data-stu-id="bb656-114">Your CD process can set up the test environment when you need it, and you can take down the environment when you're done testing.</span></span>

## <a name="continuous-integration-and-continuous-delivery-workflow"></a><span data-ttu-id="bb656-115">持續整合與持續傳遞工作流程</span><span class="sxs-lookup"><span data-stu-id="bb656-115">Continuous Integration and Continuous Delivery workflow</span></span>

<span data-ttu-id="bb656-116">一般來說，我們建議您持續傳遞至您的開發和預備環境。</span><span class="sxs-lookup"><span data-stu-id="bb656-116">Generally we recommend that you do continuous delivery to your development and staging environments.</span></span> <span data-ttu-id="bb656-117">大部分的小組（甚至是 Microsoft）都需要手動審查和核准，才能進行生產環境部署。</span><span class="sxs-lookup"><span data-stu-id="bb656-117">Most teams, even at Microsoft, require a manual review and approval process for production deployment.</span></span> <span data-ttu-id="bb656-118">針對生產環境部署，您可能會想要確保開發小組的重要人員可支援，或在低流量期間發生。</span><span class="sxs-lookup"><span data-stu-id="bb656-118">For a production deployment you might want to make sure it happens when key people on the development team are available for support, or during low-traffic periods.</span></span> <span data-ttu-id="bb656-119">但是，沒有任何功能可防止您完全自動化您的開發和測試環境，讓開發人員只需要簽入變更，並設定環境來進行接受度測試。</span><span class="sxs-lookup"><span data-stu-id="bb656-119">But there's nothing to prevent you from completely automating your development and test environments so that all a developer has to do is check in a change and an environment is set up for acceptance testing.</span></span>

<span data-ttu-id="bb656-120">下圖來自[Microsoft 模式和實務電子書關於持續傳遞](https://aka.ms/ReleasePipeline)說明一般工作流程。</span><span class="sxs-lookup"><span data-stu-id="bb656-120">The following diagram from [a Microsoft Patterns and Practices e-book about continuous delivery](https://aka.ms/ReleasePipeline) illustrates a typical workflow.</span></span> <span data-ttu-id="bb656-121">按一下影像，以查看其原始內容中的完整大小。</span><span class="sxs-lookup"><span data-stu-id="bb656-121">Click the image to see it full size in its original context.</span></span>

<span data-ttu-id="bb656-122">[![持續傳遞工作流程](continuous-integration-and-continuous-delivery/_static/image1.png)](https://msdn.microsoft.com/library/dn449955.aspx)</span><span class="sxs-lookup"><span data-stu-id="bb656-122">[![Continuous delivery workflow](continuous-integration-and-continuous-delivery/_static/image1.png)](https://msdn.microsoft.com/library/dn449955.aspx)</span></span>

## <a name="how-the-cloud-enables-cost-effective-ci-and-cd"></a><span data-ttu-id="bb656-123">雲端如何實現符合成本效益的 CI 和 CD</span><span class="sxs-lookup"><span data-stu-id="bb656-123">How the cloud enables cost-effective CI and CD</span></span>

<span data-ttu-id="bb656-124">在 Azure 中自動化這些程式很簡單。</span><span class="sxs-lookup"><span data-stu-id="bb656-124">Automating these processes in Azure is easy.</span></span> <span data-ttu-id="bb656-125">因為您是在雲端中執行所有專案，所以您不需要為組建或測試環境購買或管理伺服器。</span><span class="sxs-lookup"><span data-stu-id="bb656-125">Because you're running everything in the cloud, you don't have to buy or manage servers for your builds or your test environments.</span></span> <span data-ttu-id="bb656-126">而且您不需要等候伺服器在上執行測試。</span><span class="sxs-lookup"><span data-stu-id="bb656-126">And you don't have to wait for a server to be available to do your testing on.</span></span> <span data-ttu-id="bb656-127">在您執行的每個組建中，您可以使用自動化腳本來加速 Azure 中的測試環境、執行接受度測試或對其進行更深入的測試，然後在完成時將它卸載。</span><span class="sxs-lookup"><span data-stu-id="bb656-127">With every build that you do, you could spin up a test environment in Azure using your automation script, run acceptance tests or more in-depth tests against it, and then when you're done just tear it down.</span></span> <span data-ttu-id="bb656-128">而且，如果您只執行了2小時或8小時或一天的伺服器，就必須支付費用，因為您只需支付機器實際執行的時間。</span><span class="sxs-lookup"><span data-stu-id="bb656-128">And if you only run that server for 2 hours or 8 hours or a day, the amount of money that you have to pay for it is minimal, because you're only paying for the time that a machine is actually running.</span></span> <span data-ttu-id="bb656-129">例如，如果您從免費層級往上移一層，則修正 it 應用程式所需的環境基本上會花費大約每小時1美分的成本。</span><span class="sxs-lookup"><span data-stu-id="bb656-129">For example, the environment required for the Fix it application basically costs about 1 cent per hour if you go one tier up from the free level.</span></span> <span data-ttu-id="bb656-130">在一個月的過程中，如果您一次只執行一個小時的環境，則您的測試環境可能會比您在星巴克購買的 latte 還便宜。</span><span class="sxs-lookup"><span data-stu-id="bb656-130">Over the course of a month, if you only ran the environment an hour at a time, your testing environment would probably cost less than a latte that you buy at Starbucks.</span></span>

## <a name="azure-devops-services"></a><span data-ttu-id="bb656-131">Azure DevOps Services</span><span class="sxs-lookup"><span data-stu-id="bb656-131">Azure DevOps Services</span></span> 

<span data-ttu-id="bb656-132">Azure DevOps Services 提供許多功能，可協助您從規劃部署進行應用程式開發。</span><span class="sxs-lookup"><span data-stu-id="bb656-132">Azure DevOps Services provides a number of features to assist you with application development from planning to deployment.</span></span>

- <span data-ttu-id="bb656-133">它同時支援 Git （分散式）和 TFVC （集中式）原始檔控制。</span><span class="sxs-lookup"><span data-stu-id="bb656-133">It supports both Git (distributed) and TFVC (centralized) source control.</span></span>
- <span data-ttu-id="bb656-134">它提供彈性組建服務，這表示它會在需要時動態建立組建伺服器，並在完成時將其關閉。</span><span class="sxs-lookup"><span data-stu-id="bb656-134">It offers an elastic build service, which means it dynamically creates build servers when they're needed and takes them down when they're done.</span></span> <span data-ttu-id="bb656-135">當有人簽入原始程式碼變更時，您可以自動啟動組建，而且您不需要為自己的組建伺服器進行配置和付費，而是大部分時間都處於閒置狀態。</span><span class="sxs-lookup"><span data-stu-id="bb656-135">You can automatically kick off a build when someone checks in source code changes, and you don't have to have allocate and pay for your own build servers that lie idle most of the time.</span></span> <span data-ttu-id="bb656-136">只要您未超過特定數目的組建，組建服務就是免費的。</span><span class="sxs-lookup"><span data-stu-id="bb656-136">The build service is free as long as you don't exceed a certain number of builds.</span></span> <span data-ttu-id="bb656-137">如果您預期會執行大量的組建，您可以為保留的組建伺服器額外支付一些費用。</span><span class="sxs-lookup"><span data-stu-id="bb656-137">If you expect to do a high volume of builds, you can pay a little extra for reserved build servers.</span></span>
- <span data-ttu-id="bb656-138">它支援持續傳遞至 Azure。</span><span class="sxs-lookup"><span data-stu-id="bb656-138">It supports continuous delivery to Azure.</span></span>
- <span data-ttu-id="bb656-139">它支援自動化的負載測試。</span><span class="sxs-lookup"><span data-stu-id="bb656-139">It supports automated load testing.</span></span> <span data-ttu-id="bb656-140">負載測試對雲端應用程式很重要，但通常會被忽略，直到延遲太晚為止。</span><span class="sxs-lookup"><span data-stu-id="bb656-140">Load testing is critical to a cloud app but is often neglected until it's too late.</span></span> <span data-ttu-id="bb656-141">負載測試會模擬數以千計的使用者大量使用應用程式，讓您在將應用程式發行至生產環境之前，可以找出瓶頸並改善輸送量。</span><span class="sxs-lookup"><span data-stu-id="bb656-141">Load testing simulates heavy use of an app by thousands of users, enabling you to find bottlenecks and improve throughput —before you release the app to production.</span></span>
- <span data-ttu-id="bb656-142">它支援小組室共同作業，可協助小型 agile 團隊進行即時通訊和協同作業。</span><span class="sxs-lookup"><span data-stu-id="bb656-142">It supports team room collaboration, which facilitates real-time communication and collaboration for small agile teams.</span></span>
- <span data-ttu-id="bb656-143">它支援 agile 專案管理。</span><span class="sxs-lookup"><span data-stu-id="bb656-143">It supports agile project management.</span></span>

<span data-ttu-id="bb656-144">如需 Azure DevOps Services 的持續整合和傳遞功能的詳細資訊，請參閱[Azure DevOps 檔](/azure/devops/index)。</span><span class="sxs-lookup"><span data-stu-id="bb656-144">For more information on the continuous integration and delivery features of Azure DevOps Services, see [the Azure DevOps documentation](/azure/devops/index).</span></span>

<span data-ttu-id="bb656-145">如果您要尋找一個關鍵專案管理、小組共同作業和原始檔控制解決方案，請參閱 Azure DevOps Services。</span><span class="sxs-lookup"><span data-stu-id="bb656-145">If you're looking for a turn-key project management, team collaboration, and source control solution, check out Azure DevOps Services.</span></span> <span data-ttu-id="bb656-146">在[Azure DevOps Services](https://dev.azure.com/)註冊。</span><span class="sxs-lookup"><span data-stu-id="bb656-146">Sign up at [Azure DevOps Services](https://dev.azure.com/).</span></span>

## <a name="summary"></a><span data-ttu-id="bb656-147">總結</span><span class="sxs-lookup"><span data-stu-id="bb656-147">Summary</span></span>

<span data-ttu-id="bb656-148">前三個雲端開發模式是關於如何以低週期時間執行可重複、可靠且可預測的開發流程。</span><span class="sxs-lookup"><span data-stu-id="bb656-148">The first three cloud development patterns have been about how to implement a repeatable, reliable, predictable development process with low cycle time.</span></span> <span data-ttu-id="bb656-149">在[下一章](web-development-best-practices.md)中，我們將開始探討架構和程式碼撰寫模式。</span><span class="sxs-lookup"><span data-stu-id="bb656-149">In the [next chapter](web-development-best-practices.md) we start to look at architectural and coding patterns.</span></span>

## <a name="resources"></a><span data-ttu-id="bb656-150">資源</span><span class="sxs-lookup"><span data-stu-id="bb656-150">Resources</span></span>

<span data-ttu-id="bb656-151">如需詳細資訊，請參閱[在 Azure App Service 中部署 web 應用程式](https://azure.microsoft.com/documentation/articles/web-sites-deploy/)。</span><span class="sxs-lookup"><span data-stu-id="bb656-151">For more information, see [Deploy a web app in Azure App Service](https://azure.microsoft.com/documentation/articles/web-sites-deploy/).</span></span>

<span data-ttu-id="bb656-152">另請參閱下列資源：</span><span class="sxs-lookup"><span data-stu-id="bb656-152">See also the following resources:</span></span>

- <span data-ttu-id="bb656-153">[使用 Team Foundation Server 2012 建立發行管線](https://aka.ms/ReleasePipeline)。</span><span class="sxs-lookup"><span data-stu-id="bb656-153">[Building a Release Pipeline with Team Foundation Server 2012](https://aka.ms/ReleasePipeline).</span></span> <span data-ttu-id="bb656-154">電子書、實際操作實驗室，以及 Microsoft 模式與實務的範例程式碼，提供持續傳遞的深入介紹。</span><span class="sxs-lookup"><span data-stu-id="bb656-154">E-book, hands-on labs, and sample code by Microsoft Patterns and Practices, provides an in-depth introduction to continuous delivery.</span></span> <span data-ttu-id="bb656-155">涵蓋使用 Visual Studio Lab Management 和 Visual Studio Release Management。</span><span class="sxs-lookup"><span data-stu-id="bb656-155">Covers use of Visual Studio Lab Management and Visual Studio Release Management.</span></span>
- <span data-ttu-id="bb656-156">[ALM Ranger DevOps 工具和指引](https://aka.ms/vsarsolutions/)。</span><span class="sxs-lookup"><span data-stu-id="bb656-156">[ALM Rangers DevOps Tooling and Guidance](https://aka.ms/vsarsolutions/).</span></span> <span data-ttu-id="bb656-157">ALM Ranger 引進了 DevOps 工作臺範例附屬解決方案，以及與使用*tfs 2012 建立發行管線*的 &amp; 模式共同作業的實務指導方針，這是開始學習 tfs 2012 的 DevOps &amp; Release Management 的概念並開始使用的絕佳方法。</span><span class="sxs-lookup"><span data-stu-id="bb656-157">The ALM Rangers introduced the DevOps Workbench sample companion solution and practical guidance in collaboration with the Patterns &amp; Practices book *Building a Release Pipeline with TFS 2012*, as a great way to start learning the concepts of DevOps &amp; Release Management for TFS 2012 and to kick the tires.</span></span> <span data-ttu-id="bb656-158">本指南將說明如何建立一次，並部署至多個環境。</span><span class="sxs-lookup"><span data-stu-id="bb656-158">The guidance shows how to build once and deploy to multiple environments.</span></span>
- <span data-ttu-id="bb656-159">[使用 Visual Studio 2012 來測試持續傳遞](https://msdn.microsoft.com/library/jj159345.aspx)。</span><span class="sxs-lookup"><span data-stu-id="bb656-159">[Testing for Continuous Delivery with Visual Studio 2012](https://msdn.microsoft.com/library/jj159345.aspx).</span></span> <span data-ttu-id="bb656-160">Microsoft 的模式和實務電子書，說明如何將自動化測試與持續傳遞整合在一起。</span><span class="sxs-lookup"><span data-stu-id="bb656-160">E-book by Microsoft Patterns and Practices, explains how to integrate automated testing with continuous delivery.</span></span>
- <span data-ttu-id="bb656-161">[WindowsAzureDeploymentTracker](https://github.com/RyanTBerry/WindowsAzureDeploymentTracker)。</span><span class="sxs-lookup"><span data-stu-id="bb656-161">[WindowsAzureDeploymentTracker](https://github.com/RyanTBerry/WindowsAzureDeploymentTracker).</span></span> <span data-ttu-id="bb656-162">專為從 TFS （根據標籤）來捕獲組建而設計的工具原始程式碼、建立它、封裝它、允許 DevOps 角色中的人員設定 it 的特定層面，並將其推送至 Azure。</span><span class="sxs-lookup"><span data-stu-id="bb656-162">Source code for a tool designed to capture a build from TFS (based on a label), build it, package it, allow someone in the DevOps role to configure specific aspects of it, and push it into Azure.</span></span> <span data-ttu-id="bb656-163">此工具會追蹤部署程式，以便讓作業「復原」至先前部署的版本。</span><span class="sxs-lookup"><span data-stu-id="bb656-163">The tool tracks the deployment process in order to enable operations to "roll back" to a previously deployed version.</span></span> <span data-ttu-id="bb656-164">此工具沒有外部相依性，可以使用 TFS Api 和 Azure SDK 獨立運作。</span><span class="sxs-lookup"><span data-stu-id="bb656-164">The tool has no external dependencies and can function stand-alone using TFS APIs and the Azure SDK.</span></span>
- <span data-ttu-id="bb656-165">[持續傳遞：透過組建、測試和部署自動化，可靠的軟體發行](https://www.amazon.com/Continuous-Delivery-Deployment-Automation-Addison-Wesley/dp/0321601912/ref=sr_1_1?s=books&amp;ie=UTF8&amp;qid=1377126361)。</span><span class="sxs-lookup"><span data-stu-id="bb656-165">[Continuous Delivery: Reliable Software Releases through Build, Test, and Deployment Automation](https://www.amazon.com/Continuous-Delivery-Deployment-Automation-Addison-Wesley/dp/0321601912/ref=sr_1_1?s=books&amp;ie=UTF8&amp;qid=1377126361).</span></span> <span data-ttu-id="bb656-166">Book by Jez Humble。</span><span class="sxs-lookup"><span data-stu-id="bb656-166">Book by Jez Humble.</span></span>
- <span data-ttu-id="bb656-167">[發行！設計和部署已準備好用於生產環境的軟體](https://www.amazon.com/Release-It-Production-Ready-Pragmatic-Programmers/dp/0978739213)。</span><span class="sxs-lookup"><span data-stu-id="bb656-167">[Release It! Design and Deploy Production-Ready Software](https://www.amazon.com/Release-It-Production-Ready-Pragmatic-Programmers/dp/0978739213).</span></span> <span data-ttu-id="bb656-168">依 Michael T Nygard。</span><span class="sxs-lookup"><span data-stu-id="bb656-168">Book by Michael T. Nygard.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="bb656-169">[上一頁](source-control.md)
> [下一頁](web-development-best-practices.md)</span><span class="sxs-lookup"><span data-stu-id="bb656-169">[Previous](source-control.md)
[Next](web-development-best-practices.md)</span></span>
