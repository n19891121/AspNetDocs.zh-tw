---
uid: mvc/overview/older-versions/working-with-the-dropdownlist-box-and-jquery/using-the-dropdownlist-helper-with-aspnet-mvc
title: 搭配使用 DropDownList Helper 與 ASP.NET MVC |Microsoft Docs
author: Rick-Anderson
description: ''
ms.author: riande
ms.date: 01/12/2012
ms.assetid: 53767e05-c8ab-42e1-a94b-22d906195200
msc.legacyurl: /mvc/overview/older-versions/working-with-the-dropdownlist-box-and-jquery/using-the-dropdownlist-helper-with-aspnet-mvc
msc.type: authoredcontent
ms.openlocfilehash: 6375bb2be158cea18309ffa71c71ac3e67bc91ed
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/06/2020
ms.locfileid: "78538742"
---
# <a name="using-the-dropdownlist-helper-with-aspnet-mvc"></a><span data-ttu-id="2f542-102">使用 DropDownList 協助程式與 ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="2f542-102">Using the DropDownList Helper with ASP.NET MVC</span></span>

<span data-ttu-id="2f542-103">依[Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="2f542-103">by [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

<span data-ttu-id="2f542-104">本教學課程將告訴您在 ASP.NET MVC Web 應用程式中使用[DropDownList](https://msdn.microsoft.com/library/dd492948.aspx) Helper 和[ListBox](https://msdn.microsoft.com/library/system.web.mvc.html.selectextensions.listbox.aspx) helper 的基本概念。</span><span class="sxs-lookup"><span data-stu-id="2f542-104">This tutorial will teach you the basics of working with the [DropDownList](https://msdn.microsoft.com/library/dd492948.aspx) helper and the [ListBox](https://msdn.microsoft.com/library/system.web.mvc.html.selectextensions.listbox.aspx) helper in an ASP.NET MVC Web application.</span></span> <span data-ttu-id="2f542-105">您可以使用 Microsoft Visual Web Developer 2010 Express Service Pack 1，這是 Microsoft Visual Studio 的免費版本，可遵循本教學課程。</span><span class="sxs-lookup"><span data-stu-id="2f542-105">You can use Microsoft Visual Web Developer 2010 Express Service Pack 1, which is a free version of Microsoft Visual Studio to follow the tutorial.</span></span> <span data-ttu-id="2f542-106">開始之前，請先確定您已安裝下列必要條件。</span><span class="sxs-lookup"><span data-stu-id="2f542-106">Before you start, make sure you've installed the prerequisites listed below.</span></span> <span data-ttu-id="2f542-107">您可以按一下下列連結來安裝所有這些專案： [Web Platform Installer](https://www.microsoft.com/web/gallery/install.aspx?appid=VWD2010SP1Pack)。</span><span class="sxs-lookup"><span data-stu-id="2f542-107">You can install all of them by clicking the following link: [Web Platform Installer](https://www.microsoft.com/web/gallery/install.aspx?appid=VWD2010SP1Pack).</span></span> <span data-ttu-id="2f542-108">或者，您可以使用下列連結個別安裝必要條件：</span><span class="sxs-lookup"><span data-stu-id="2f542-108">Alternatively, you can individually install the prerequisites using the following links:</span></span>

- <span data-ttu-id="2f542-109">[Visual Studio Web Developer EXPRESS SP1 必要條件](https://www.microsoft.com/web/gallery/install.aspx?appid=VWD2010SP1Pack)<a id="post"></a></span><span class="sxs-lookup"><span data-stu-id="2f542-109">[Visual Studio Web Developer Express SP1 prerequisites](https://www.microsoft.com/web/gallery/install.aspx?appid=VWD2010SP1Pack) <a id="post"></a></span></span>
- [<span data-ttu-id="2f542-110">ASP.NET MVC 3 工具更新</span><span class="sxs-lookup"><span data-stu-id="2f542-110">ASP.NET MVC 3 Tools Update</span></span>](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=MVC3)
- <span data-ttu-id="2f542-111">[SQL Server Compact 4.0](https://www.microsoft.com/web/gallery/install.aspx?appid=SQLCE;SQLCEVSTools_4_0)（執行時間 + 工具支援）</span><span class="sxs-lookup"><span data-stu-id="2f542-111">[SQL Server Compact 4.0](https://www.microsoft.com/web/gallery/install.aspx?appid=SQLCE;SQLCEVSTools_4_0)(runtime + tools support)</span></span>

<span data-ttu-id="2f542-112">如果您使用 Visual Studio 2010，而不是 Visual Web Developer 2010，請按一下下列連結來安裝必要條件： [Visual Studio 2010 必要條件](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=VS2010SP1Pack)。</span><span class="sxs-lookup"><span data-stu-id="2f542-112">If you're using Visual Studio 2010 instead of Visual Web Developer 2010, install the prerequisites by clicking the following link: [Visual Studio 2010 prerequisites](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=VS2010SP1Pack).</span></span> <span data-ttu-id="2f542-113">本教學課程假設您已完成[ASP.NET mvc](../getting-started-with-aspnet-mvc3/cs/intro-to-aspnet-mvc-3.md)教學課程或[ASP.NET MVC 音樂商店](../mvc-music-store/mvc-music-store-part-1.md)教學課程的簡介，或您已熟悉 ASP.NET mvc 開發。</span><span class="sxs-lookup"><span data-stu-id="2f542-113">This tutorial assumes you have completed the [Intro to ASP.NET MVC](../getting-started-with-aspnet-mvc3/cs/intro-to-aspnet-mvc-3.md) tutorial or the[ASP.NET MVC Music Store](../mvc-music-store/mvc-music-store-part-1.md) tutorial or you are familiar with ASP.NET MVC development.</span></span> <span data-ttu-id="2f542-114">本教學課程從[ASP.NET MVC 音樂存放](../mvc-music-store/mvc-music-store-part-1.md)教學課程中的已修改專案開始。</span><span class="sxs-lookup"><span data-stu-id="2f542-114">This tutorial starts with a modified project from the [ASP.NET MVC Music Store](../mvc-music-store/mvc-music-store-part-1.md) tutorial.</span></span> <span data-ttu-id="2f542-115">您可以下載具有下列連結的入門專案[下載C#版本](https://archive.msdn.microsoft.com/Project/Download/FileDownload.aspx?ProjectName=aspnetmvcsamples&amp;DownloadId=15829)。</span><span class="sxs-lookup"><span data-stu-id="2f542-115">You can download the starter project with the following link [Download the C# version](https://archive.msdn.microsoft.com/Project/Download/FileDownload.aspx?ProjectName=aspnetmvcsamples&amp;DownloadId=15829).</span></span>

<span data-ttu-id="2f542-116">本主題提供具有完成之教學C#課程原始程式碼的 Visual Web Developer 專案。</span><span class="sxs-lookup"><span data-stu-id="2f542-116">A Visual Web Developer project with the completed tutorial C# source code is available to accompany this topic.</span></span> <span data-ttu-id="2f542-117">[下載](https://code.msdn.microsoft.com/Using-the-DropDownList-67f9367d)。</span><span class="sxs-lookup"><span data-stu-id="2f542-117">[Download](https://code.msdn.microsoft.com/Using-the-DropDownList-67f9367d).</span></span>

### <a name="what-youll-build"></a><span data-ttu-id="2f542-118">您要建置的內容</span><span class="sxs-lookup"><span data-stu-id="2f542-118">What You'll Build</span></span>

<span data-ttu-id="2f542-119">您將建立使用[DropDownList](https://msdn.microsoft.com/library/system.web.mvc.html.selectextensions.dropdownlist.aspx) helper 來選取類別目錄的動作方法和視圖。</span><span class="sxs-lookup"><span data-stu-id="2f542-119">You'll create action methods and views that use the [DropDownList](https://msdn.microsoft.com/library/system.web.mvc.html.selectextensions.dropdownlist.aspx) helper to select a category.</span></span> <span data-ttu-id="2f542-120">您也會使用**jQuery**來新增 [插入類別] 對話方塊，以便在需要新的分類（例如內容類型或演出者）時使用。</span><span class="sxs-lookup"><span data-stu-id="2f542-120">You will also use **jQuery** to add an insert category dialog that can be used when a new category (such as genre or artist) is needed.</span></span> <span data-ttu-id="2f542-121">以下是 [建立] 視圖的螢幕擷取畫面，其中顯示可新增內容類型和加入新演出者的連結。</span><span class="sxs-lookup"><span data-stu-id="2f542-121">Below is a screenshot of the Create view showing links to add a new genre and add a new artist.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image1.png)

### <a name="skills-youll-learn"></a><span data-ttu-id="2f542-122">您要學習的技術</span><span class="sxs-lookup"><span data-stu-id="2f542-122">Skills You'll Learn</span></span>

<span data-ttu-id="2f542-123">以下是您要學習的內容：</span><span class="sxs-lookup"><span data-stu-id="2f542-123">Here's what you'll learn:</span></span>

- <span data-ttu-id="2f542-124">如何使用[DropDownList](https://msdn.microsoft.com/library/system.web.mvc.html.selectextensions.dropdownlist.aspx) helper 來選取類別目錄資料。</span><span class="sxs-lookup"><span data-stu-id="2f542-124">How to use the [DropDownList](https://msdn.microsoft.com/library/system.web.mvc.html.selectextensions.dropdownlist.aspx) helper to select category data.</span></span>
- <span data-ttu-id="2f542-125">如何新增**jQuery**對話方塊來加入新的類別目錄。</span><span class="sxs-lookup"><span data-stu-id="2f542-125">How to add a **jQuery** dialog to add new categories.</span></span>

### <a name="getting-started"></a><span data-ttu-id="2f542-126">快速入門</span><span class="sxs-lookup"><span data-stu-id="2f542-126">Getting Started</span></span>

<span data-ttu-id="2f542-127">首先，使用下列[連結下載入門專案。](https://archive.msdn.microsoft.com/Project/Download/FileDownload.aspx?ProjectName=aspnetmvcsamples&amp;DownloadId=15829)</span><span class="sxs-lookup"><span data-stu-id="2f542-127">Start by downloading the starter project with the following link, [Download](https://archive.msdn.microsoft.com/Project/Download/FileDownload.aspx?ProjectName=aspnetmvcsamples&amp;DownloadId=15829).</span></span> <span data-ttu-id="2f542-128">在 Windows Explorer 中，以滑鼠右鍵按一下*DDL\_Starter .zip*檔案，然後選取 [屬性]。</span><span class="sxs-lookup"><span data-stu-id="2f542-128">In Windows Explorer, right click on the *DDL\_Starter.zip* file and select properties.</span></span> <span data-ttu-id="2f542-129">在 [ **DDL\_Starter .Zip 屬性**] 對話方塊中，選取 [解除封鎖]。</span><span class="sxs-lookup"><span data-stu-id="2f542-129">In the **DDL\_Starter.zip Properties** dialog box, select Unblock.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image2.png)

<span data-ttu-id="2f542-130">以滑鼠右鍵按一下 DDL\_Starter .zip 檔案，然後選取 [**全部解壓縮**] 來解壓縮檔案。</span><span class="sxs-lookup"><span data-stu-id="2f542-130">Right click the DDL\_Starter.zip file and select **Extract All** to unzip the file.</span></span> <span data-ttu-id="2f542-131">使用 Visual Web Developer 2010 Express （簡稱 "Visual Web Developer" 或 "VWD"）或 Visual Studio 2010 開啟*StartMusicStore .sln*檔案。</span><span class="sxs-lookup"><span data-stu-id="2f542-131">Open the *StartMusicStore.sln* file with Visual Web Developer 2010 Express ("Visual Web Developer" or "VWD" for short) or Visual Studio 2010.</span></span>

<span data-ttu-id="2f542-132">按 CTRL + F5 執行應用程式，然後按一下 [**測試**] 連結。</span><span class="sxs-lookup"><span data-stu-id="2f542-132">Press CTRL+F5 to run the application and click the **Test** link.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image3.png)

<span data-ttu-id="2f542-133">選取 [**選取電影類別目錄（簡單）** ] 連結。</span><span class="sxs-lookup"><span data-stu-id="2f542-133">Select the **Select Movie Category (Simple)** link.</span></span> <span data-ttu-id="2f542-134">[電影類型] 選取 [清單] 隨即顯示，並喜劇所選的值。</span><span class="sxs-lookup"><span data-stu-id="2f542-134">A Movie Type Select list is displayed, with Comedy the selected value.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image4.png)

<span data-ttu-id="2f542-135">在瀏覽器中按一下滑鼠右鍵，然後選取 [view source]。</span><span class="sxs-lookup"><span data-stu-id="2f542-135">Right click in the browser and select view source.</span></span> <span data-ttu-id="2f542-136">網頁的 HTML 隨即顯示。</span><span class="sxs-lookup"><span data-stu-id="2f542-136">The HTML for the page is displayed.</span></span> <span data-ttu-id="2f542-137">下列程式碼顯示 select 元素的 HTML。</span><span class="sxs-lookup"><span data-stu-id="2f542-137">The code below shows the HTML for the select element.</span></span>

[!code-html[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample1.html)]

<span data-ttu-id="2f542-138">您可以看到選取清單中的每個專案都有值（0代表動作，1代表戲劇，2代表喜劇，3代表科學小說）和顯示名稱（Action、戲劇、喜劇和科學小說）。</span><span class="sxs-lookup"><span data-stu-id="2f542-138">You can see that each item in the select list has a value (0 for Action, 1 for Drama, 2 for Comedy and 3 for Science Fiction) and a display name (Action, Drama, Comedy and Science Fiction).</span></span> <span data-ttu-id="2f542-139">上述程式碼是選取清單的標準 HTML。</span><span class="sxs-lookup"><span data-stu-id="2f542-139">The code above is standard HTML for a select list.</span></span>

<span data-ttu-id="2f542-140">將選取清單變更為戲劇，然後按 [**提交**] 按鈕。</span><span class="sxs-lookup"><span data-stu-id="2f542-140">Change the select list to Drama and hit the **Submit** button.</span></span> <span data-ttu-id="2f542-141">瀏覽器中的 URL 是 `http://localhost:2468/Home/CategoryChosen?MovieType=1`，而您選取的頁面會顯示 **： 1**。</span><span class="sxs-lookup"><span data-stu-id="2f542-141">The URL in the browser is `http://localhost:2468/Home/CategoryChosen?MovieType=1` and the page displays **You Selected: 1**.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image5.png)

<span data-ttu-id="2f542-142">開啟*Controllers\HomeController.cs*檔案，並檢查 `SelectCategory` 方法。</span><span class="sxs-lookup"><span data-stu-id="2f542-142">Open the *Controllers\HomeController.cs* file and examine the `SelectCategory` method.</span></span>

[!code-csharp[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample2.cs)]

<span data-ttu-id="2f542-143">用來建立 HTML 選取清單的[DropDownList](https://msdn.microsoft.com/library/dd492738.aspx) Helper 需要**IEnumerable&lt;SelectListItem &gt;** （明確或隱含）。</span><span class="sxs-lookup"><span data-stu-id="2f542-143">The [DropDownList](https://msdn.microsoft.com/library/dd492738.aspx) helper used to create an HTML select list requires a **IEnumerable&lt;SelectListItem &gt;**, either explicitly or implicitly.</span></span> <span data-ttu-id="2f542-144">也就是說，您可以明確地將**ienumerable&lt;SelectListItem &gt;** 傳遞給[DropDownList](https://msdn.microsoft.com/library/dd492738.aspx) helper，也可以使用**SelectListItem**的相同名稱做為模型屬性，將**ienumerable&lt;SelectListItem &gt;** 加入[ViewBag](https://blogs.msdn.com/b/rickandy/archive/2011/01/28/dynamic-v-strongly-typed-views.aspx)中。</span><span class="sxs-lookup"><span data-stu-id="2f542-144">That is, you can pass the **IEnumerable&lt;SelectListItem &gt;** explicitly to the [DropDownList](https://msdn.microsoft.com/library/dd492738.aspx) helper or you can add the **IEnumerable&lt;SelectListItem &gt;** to the [ViewBag](https://blogs.msdn.com/b/rickandy/archive/2011/01/28/dynamic-v-strongly-typed-views.aspx) using the same name for the **SelectListItem** as the model property.</span></span> <span data-ttu-id="2f542-145">本教學課程的下一個部分將涵蓋以隱含和明確方式傳入**SelectListItem** 。</span><span class="sxs-lookup"><span data-stu-id="2f542-145">Passing in the **SelectListItem** implicitly and explicitly is covered in the next part of the tutorial.</span></span> <span data-ttu-id="2f542-146">上述程式碼顯示建立**IEnumerable&lt;SelectListItem &gt;** 的最簡單方式，並將文字和值填入其中。</span><span class="sxs-lookup"><span data-stu-id="2f542-146">The code above shows the simplest possible way to create an **IEnumerable&lt;SelectListItem &gt;** and populate it with text and values.</span></span> <span data-ttu-id="2f542-147">請注意，`Comedy`[SelectListItem](https://msdn.microsoft.com/library/system.web.mvc.selectlistitem.aspx)將[選取](https://msdn.microsoft.com/library/system.web.mvc.selectlistitem.selected.aspx)的屬性設定為**true** ，這會導致轉譯的選取清單顯示**喜劇**做為清單中的選取專案。</span><span class="sxs-lookup"><span data-stu-id="2f542-147">Note the `Comedy`[SelectListItem](https://msdn.microsoft.com/library/system.web.mvc.selectlistitem.aspx) has the [Selected](https://msdn.microsoft.com/library/system.web.mvc.selectlistitem.selected.aspx) property set to **true;** this will cause the rendered select list to show **Comedy** as the selected item in the list.</span></span>

<span data-ttu-id="2f542-148">先前建立的**IEnumerable&lt;SelectListItem &gt;** 會新增至名稱為 MovieType 的[ViewBag](https://blogs.msdn.com/b/rickandy/archive/2011/01/28/dynamic-v-strongly-typed-views.aspx) 。</span><span class="sxs-lookup"><span data-stu-id="2f542-148">The **IEnumerable&lt;SelectListItem &gt;** created above is added to the [ViewBag](https://blogs.msdn.com/b/rickandy/archive/2011/01/28/dynamic-v-strongly-typed-views.aspx) with the name MovieType.</span></span> <span data-ttu-id="2f542-149">這就是我們如何將**IEnumerable&lt;SelectListItem &gt;** 隱含地傳遞給如下所示的[DropDownList](https://msdn.microsoft.com/library/dd492738.aspx) helper。</span><span class="sxs-lookup"><span data-stu-id="2f542-149">This is how we pass the **IEnumerable&lt;SelectListItem &gt;** implicitly to the [DropDownList](https://msdn.microsoft.com/library/dd492738.aspx) helper shown below.</span></span>

<span data-ttu-id="2f542-150">開啟*Views\Home\SelectCategory.cshtml*檔案，並檢查標記。</span><span class="sxs-lookup"><span data-stu-id="2f542-150">Open the *Views\Home\SelectCategory.cshtml* file and examine the markup.</span></span>

[!code-cshtml[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample3.cshtml)]

<span data-ttu-id="2f542-151">在第三行中，我們將版面配置設定為 Views/Shared/\_Simple\_Layout，這是標準版面配置檔案的簡化版本。</span><span class="sxs-lookup"><span data-stu-id="2f542-151">On the third line, we set the layout to Views/Shared/\_Simple\_Layout.cshtml, which is a simplified version of the standard layout file.</span></span> <span data-ttu-id="2f542-152">這麼做是為了讓顯示和呈現的 HTML 變得簡單。</span><span class="sxs-lookup"><span data-stu-id="2f542-152">We do this to keep the display and rendered HTML simple.</span></span>

<span data-ttu-id="2f542-153">在此範例中，我們不會變更應用程式的狀態，因此我們將使用**HTTP GET**而非**HTTP POST**來提交資料。</span><span class="sxs-lookup"><span data-stu-id="2f542-153">In this sample we are not changing the state of the application, so we will submit the data using an **HTTP GET**, not **HTTP POST**.</span></span> <span data-ttu-id="2f542-154">請參閱 W3C 一節[快速檢查清單，以選擇 HTTP GET 或 POST](http://www.w3.org/2001/tag/doc/whenToUseGet.html#checklist)。</span><span class="sxs-lookup"><span data-stu-id="2f542-154">See the W3C section [Quick Checklist for Choosing HTTP GET or POST](http://www.w3.org/2001/tag/doc/whenToUseGet.html#checklist).</span></span> <span data-ttu-id="2f542-155">因為我們不會變更應用程式並張貼表單，所以我們會使用[html.beginform](https://msdn.microsoft.com/library/dd460344.aspx)多載，讓我們指定動作方法、控制器和表單方法（**Http POST**或**HTTP GET**）。</span><span class="sxs-lookup"><span data-stu-id="2f542-155">Because we are not changing the application and posting the form, we use the [Html.BeginForm](https://msdn.microsoft.com/library/dd460344.aspx) overload that allows us to specify the action method, controller and form method (**HTTP POST** or **HTTP GET**).</span></span> <span data-ttu-id="2f542-156">Views 通常會包含不採用任何參數的[html.beginform](https://msdn.microsoft.com/library/dd505244.aspx)多載。</span><span class="sxs-lookup"><span data-stu-id="2f542-156">Typically views contain the [Html.BeginForm](https://msdn.microsoft.com/library/dd505244.aspx) overload that takes no parameters.</span></span> <span data-ttu-id="2f542-157">[無參數版本] 預設會將表單資料張貼至相同動作方法和控制器的 POST 版本。</span><span class="sxs-lookup"><span data-stu-id="2f542-157">The no parameter version defaults to posting the form data to the POST version of the same action method and controller.</span></span>

<span data-ttu-id="2f542-158">下面這行</span><span class="sxs-lookup"><span data-stu-id="2f542-158">The following line</span></span>

[!code-cshtml[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample4.cshtml)]

<span data-ttu-id="2f542-159">將字串引數傳遞給**DropDownList** helper。</span><span class="sxs-lookup"><span data-stu-id="2f542-159">passes a string argument to the **DropDownList** helper.</span></span> <span data-ttu-id="2f542-160">這個字串（在我們的範例中為 "MovieType"）會執行兩項動作：</span><span class="sxs-lookup"><span data-stu-id="2f542-160">This string, "MovieType" in our example, does two things:</span></span>

- <span data-ttu-id="2f542-161">它會提供**DropDownList** helper 的索引鍵，以在**ViewBag**中尋找**IEnumerable&lt;SelectListItem &gt;** 。</span><span class="sxs-lookup"><span data-stu-id="2f542-161">It provides the key for the **DropDownList** helper to find a **IEnumerable&lt;SelectListItem &gt;** in the **ViewBag**.</span></span>
- <span data-ttu-id="2f542-162">它會系結至 MovieType form 元素的資料系結。</span><span class="sxs-lookup"><span data-stu-id="2f542-162">It is data-bound to the MovieType form element.</span></span> <span data-ttu-id="2f542-163">如果 submit 方法是**HTTP GET**，`MovieType` 將會是查詢字串。</span><span class="sxs-lookup"><span data-stu-id="2f542-163">If the submit method is **HTTP GET**, `MovieType` will be a query string.</span></span> <span data-ttu-id="2f542-164">如果 submit 方法是**HTTP POST**，`MovieType` 將會加入訊息本文中。</span><span class="sxs-lookup"><span data-stu-id="2f542-164">If the submit method is **HTTP POST**, `MovieType` will be added in the message body.</span></span> <span data-ttu-id="2f542-165">下圖顯示查詢字串，其值為1。</span><span class="sxs-lookup"><span data-stu-id="2f542-165">The following image shows the query string with the value of 1.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image6.png)

<span data-ttu-id="2f542-166">下列程式碼顯示提交表單的 `CategoryChosen` 方法。</span><span class="sxs-lookup"><span data-stu-id="2f542-166">The following code shows the `CategoryChosen` method the form was submitted to.</span></span>

[!code-csharp[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample5.cs)]

<span data-ttu-id="2f542-167">流覽回到 [測試] 頁面，然後選取 [ **HTML SelectList** ] 連結。</span><span class="sxs-lookup"><span data-stu-id="2f542-167">Navigate back to the test page and select the **HTML SelectList** link.</span></span> <span data-ttu-id="2f542-168">HTML 網頁會呈現類似于 simple ASP.NET MVC 測試頁面的 select 專案。</span><span class="sxs-lookup"><span data-stu-id="2f542-168">The HTML page renders a select element similar to the simple ASP.NET MVC test page.</span></span> <span data-ttu-id="2f542-169">以滑鼠右鍵按一下瀏覽器視窗，然後選取 [ **view source**]。</span><span class="sxs-lookup"><span data-stu-id="2f542-169">Right click the browser window and select **view source**.</span></span> <span data-ttu-id="2f542-170">選取清單的 HTML 標籤基本上完全相同。</span><span class="sxs-lookup"><span data-stu-id="2f542-170">The HTML markup for the select list is essentially identical.</span></span> <span data-ttu-id="2f542-171">測試 HTML 網頁，其運作方式類似于我們先前測試過的 ASP.NET MVC 動作方法和 view。</span><span class="sxs-lookup"><span data-stu-id="2f542-171">Test the HTML page, it works like the ASP.NET MVC action method and view we previously tested.</span></span>

### <a name="improving-the-movie-select-list-with-enums"></a><span data-ttu-id="2f542-172">使用列舉來改善電影選取清單</span><span class="sxs-lookup"><span data-stu-id="2f542-172">Improving the Movie Select List with Enums</span></span>

<span data-ttu-id="2f542-173">如果您應用程式中的類別已固定且不會變更，您可以利用列舉，讓您的程式碼更穩定且更容易擴充。</span><span class="sxs-lookup"><span data-stu-id="2f542-173">If the categories in your application are fixed and will not change, you can take advantage of enums to make your code more robust and simpler to extend.</span></span> <span data-ttu-id="2f542-174">當您加入新的類別時，就會產生正確的類別目錄值。</span><span class="sxs-lookup"><span data-stu-id="2f542-174">When you add a new category, the correct category value is generated.</span></span> <span data-ttu-id="2f542-175">當您加入新的類別，但忘了更新類別目錄值時，會避免複製和貼上錯誤。</span><span class="sxs-lookup"><span data-stu-id="2f542-175">The avoids copy and paste errors when you add a new category but forget to update the category value.</span></span>

<span data-ttu-id="2f542-176">開啟*Controllers\HomeController.cs*檔案，並檢查下列程式碼：</span><span class="sxs-lookup"><span data-stu-id="2f542-176">Open the *Controllers\HomeController.cs* file and examine the following code:</span></span>

[!code-csharp[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample6.cs)]

<span data-ttu-id="2f542-177">[Enum](https://msdn.microsoft.com/library/sbbt4032(VS.80).aspx) `eMovieCategories` 會捕捉這四種電影類型。</span><span class="sxs-lookup"><span data-stu-id="2f542-177">The [enum](https://msdn.microsoft.com/library/sbbt4032(VS.80).aspx) `eMovieCategories` captures the four movie types.</span></span> <span data-ttu-id="2f542-178">`SetViewBagMovieType` 方法會從 `eMovieCategories`**列舉**建立**IEnumerable&lt;SelectListItem &gt;** ，並從 `Selected` 參數設定 `selectedMovie` 屬性。</span><span class="sxs-lookup"><span data-stu-id="2f542-178">The `SetViewBagMovieType` method creates the **IEnumerable&lt;SelectListItem &gt;** from the `eMovieCategories`**enum**, and sets the `Selected` property from the `selectedMovie` parameter.</span></span> <span data-ttu-id="2f542-179">`SelectCategoryEnum` 動作方法會使用與 `SelectCategory` 動作方法相同的視圖。</span><span class="sxs-lookup"><span data-stu-id="2f542-179">The `SelectCategoryEnum` action method uses the same view as the `SelectCategory` action method.</span></span>

<span data-ttu-id="2f542-180">流覽至 [測試] 頁面，然後按一下 [`Select Movie Category (Enum)`] 連結。</span><span class="sxs-lookup"><span data-stu-id="2f542-180">Navigate to the Test page and click on the `Select Movie Category (Enum)` link.</span></span> <span data-ttu-id="2f542-181">這次不會顯示值（數位），而是顯示代表列舉的字串。</span><span class="sxs-lookup"><span data-stu-id="2f542-181">This time, instead of a value (number) being displayed, a string representing the enum is displayed.</span></span>

### <a name="posting-enum-values"></a><span data-ttu-id="2f542-182">張貼列舉值</span><span class="sxs-lookup"><span data-stu-id="2f542-182">Posting Enum Values</span></span>

<span data-ttu-id="2f542-183">HTML 表單通常用來將資料張貼至伺服器。</span><span class="sxs-lookup"><span data-stu-id="2f542-183">HTML Forms are typically used to post data to the server.</span></span> <span data-ttu-id="2f542-184">下列程式碼顯示 `SelectCategoryEnumPost` 方法的 `HTTP GET` 和 `HTTP POST` 版本。</span><span class="sxs-lookup"><span data-stu-id="2f542-184">The following code shows the `HTTP GET` and `HTTP POST` versions of the `SelectCategoryEnumPost` method.</span></span>

[!code-csharp[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample7.cs)]

<span data-ttu-id="2f542-185">藉由將 `eMovieCategories` 列舉傳遞給 `POST` 方法，我們可以將列舉值和列舉字串解壓縮。</span><span class="sxs-lookup"><span data-stu-id="2f542-185">By passing a `eMovieCategories` enum to the `POST` method, we can extract both the enum value and the enum string.</span></span> <span data-ttu-id="2f542-186">執行範例，然後流覽至 [測試] 頁面。</span><span class="sxs-lookup"><span data-stu-id="2f542-186">Run the sample and navigate to the Test page.</span></span> <span data-ttu-id="2f542-187">按一下 [`Select Movie Category(Enum Post)`] 連結。</span><span class="sxs-lookup"><span data-stu-id="2f542-187">Click on the `Select Movie Category(Enum Post)` link.</span></span> <span data-ttu-id="2f542-188">選取電影類型，然後按 [提交] 按鈕。</span><span class="sxs-lookup"><span data-stu-id="2f542-188">Select a movie type and then hit the submit button.</span></span> <span data-ttu-id="2f542-189">顯示的畫面會顯示電影類型的值和名稱。</span><span class="sxs-lookup"><span data-stu-id="2f542-189">The display shows both the value and the name of the movie type.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image7.png)

### <a name="creating-a-multiple-section-select-element"></a><span data-ttu-id="2f542-190">建立多個區段的 Select 元素</span><span class="sxs-lookup"><span data-stu-id="2f542-190">Creating a Multiple Section Select Element</span></span>

<span data-ttu-id="2f542-191">[清單方塊](https://msdn.microsoft.com/library/system.web.mvc.html.selectextensions.listbox.aspx)html helper 會以 `multiple` 屬性轉譯 HTML `<select>` 專案，讓使用者可以進行多個選擇。</span><span class="sxs-lookup"><span data-stu-id="2f542-191">The [ListBox](https://msdn.microsoft.com/library/system.web.mvc.html.selectextensions.listbox.aspx) HTML helper renders the HTML `<select>` element with the `multiple` attribute, which allows the users to make multiple selections.</span></span> <span data-ttu-id="2f542-192">流覽至 [測試] 連結，然後選取 [**多重選取國家/地區**] 連結。</span><span class="sxs-lookup"><span data-stu-id="2f542-192">Navigate to the Test link, then select the **Multi Select Country** link.</span></span> <span data-ttu-id="2f542-193">呈現的 UI 可讓您選取多個國家/地區。</span><span class="sxs-lookup"><span data-stu-id="2f542-193">The rendered UI allows you to select multiple countries.</span></span> <span data-ttu-id="2f542-194">在下圖中，已選取 [加拿大] 和 [中國]。</span><span class="sxs-lookup"><span data-stu-id="2f542-194">In the image below, Canada and China are selected.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image8.png)

### <a name="examining-the-multiselectcountry-code"></a><span data-ttu-id="2f542-195">檢查 MultiSelectCountry 程式碼</span><span class="sxs-lookup"><span data-stu-id="2f542-195">Examining the MultiSelectCountry Code</span></span>

<span data-ttu-id="2f542-196">檢查*Controllers\HomeController.cs*檔案中的下列程式碼。</span><span class="sxs-lookup"><span data-stu-id="2f542-196">Examine the following code from the *Controllers\HomeController.cs* file.</span></span>

[!code-csharp[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample8.cs)]

<span data-ttu-id="2f542-197">`GetCountries` 方法會建立國家/地區的清單，然後將它傳遞給 `MultiSelectList` 的「函式」。</span><span class="sxs-lookup"><span data-stu-id="2f542-197">The `GetCountries` method creates a list of countries, then passes it to the `MultiSelectList` constructor.</span></span> <span data-ttu-id="2f542-198">在上述的 `GetCountries` 方法中使用的 `MultiSelectList` 的函式多載會採用四個參數：</span><span class="sxs-lookup"><span data-stu-id="2f542-198">The `MultiSelectList` constructor overload used in the `GetCountries` method above takes four parameters:</span></span>

[!code-csharp[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample9.cs)]

1. <span data-ttu-id="2f542-199">*items*： [IEnumerable](https://msdn.microsoft.com/library/system.collections.ienumerable.aspx) ，其中包含清單中的專案。</span><span class="sxs-lookup"><span data-stu-id="2f542-199">*items*: An [IEnumerable](https://msdn.microsoft.com/library/system.collections.ienumerable.aspx) containing the items in the list.</span></span> <span data-ttu-id="2f542-200">在上述範例中，國家/地區清單。</span><span class="sxs-lookup"><span data-stu-id="2f542-200">In the example above, the list of Countries.</span></span>
2. <span data-ttu-id="2f542-201">*dataValueField*： **IEnumerable**清單中包含值的屬性名稱。</span><span class="sxs-lookup"><span data-stu-id="2f542-201">*dataValueField*: The name of the property in the **IEnumerable** list that contains the value.</span></span> <span data-ttu-id="2f542-202">在上述範例中，`ID` 屬性。</span><span class="sxs-lookup"><span data-stu-id="2f542-202">In the example above, the `ID` property.</span></span>
3. <span data-ttu-id="2f542-203">*dataTextField*： **IEnumerable**清單中包含要顯示之資訊的屬性名稱。</span><span class="sxs-lookup"><span data-stu-id="2f542-203">*dataTextField*: The name of the property in the **IEnumerable** list that contains the information to display.</span></span> <span data-ttu-id="2f542-204">在上述範例中，`name` 屬性。</span><span class="sxs-lookup"><span data-stu-id="2f542-204">In the example above, the `name` property.</span></span>
4. <span data-ttu-id="2f542-205">*selectedValues*：選取的值清單。</span><span class="sxs-lookup"><span data-stu-id="2f542-205">*selectedValues*: The list of selected values.</span></span>

<span data-ttu-id="2f542-206">在上述範例中，`MultiSelectCountry` 方法會為選取的國家/地區傳遞 `null` 值，因此在顯示 UI 時不會選取任何國家/地區。</span><span class="sxs-lookup"><span data-stu-id="2f542-206">In the example above, the `MultiSelectCountry` method passes a `null` value for the selected countries, so no countries are selected when the UI is displayed.</span></span> <span data-ttu-id="2f542-207">下列程式碼顯示用來呈現 `MultiSelectCountry` 視圖的 Razor 標記。</span><span class="sxs-lookup"><span data-stu-id="2f542-207">The following code shows the Razor markup used to render the `MultiSelectCountry` view.</span></span>

[!code-cshtml[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample10.cshtml)]

<span data-ttu-id="2f542-208">上述使用的 HTML helper [ListBox](https://msdn.microsoft.com/library/dd470200.aspx)方法會採用兩個參數，將屬性名稱設為模型系結，以及包含 select 選項和值的[MultiSelectList](https://msdn.microsoft.com/library/system.web.mvc.multiselectlist.aspx) 。</span><span class="sxs-lookup"><span data-stu-id="2f542-208">The HTML helper [ListBox](https://msdn.microsoft.com/library/dd470200.aspx) method used above take two parameters, the name of the property to model bind and the [MultiSelectList](https://msdn.microsoft.com/library/system.web.mvc.multiselectlist.aspx) containing the select options and values.</span></span> <span data-ttu-id="2f542-209">上述的 `ViewBag.YouSelected` 程式碼是用來顯示您提交表單時選取的國家/地區值。</span><span class="sxs-lookup"><span data-stu-id="2f542-209">The `ViewBag.YouSelected` code above is used to display the values of the countries you selected when you submit the form.</span></span> <span data-ttu-id="2f542-210">檢查 `MultiSelectCountry` 方法的 HTTP POST 多載。</span><span class="sxs-lookup"><span data-stu-id="2f542-210">Examine the HTTP POST overload of the `MultiSelectCountry` method.</span></span>

[!code-csharp[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample11.cs)]

<span data-ttu-id="2f542-211">`ViewBag.YouSelected` 動態屬性包含選取的國家/地區，取得表單集合中的 `Countries` 專案。</span><span class="sxs-lookup"><span data-stu-id="2f542-211">The `ViewBag.YouSelected` dynamic property contains the selected countries, obtained for the `Countries` entry in the form collection.</span></span> <span data-ttu-id="2f542-212">在此版本中，會將所選國家/地區的清單傳遞給 GetCountries 方法，因此當顯示 [`MultiSelectCountry`] 視圖時，會在 UI 中選取選取的國家/地區。</span><span class="sxs-lookup"><span data-stu-id="2f542-212">In this version the GetCountries method is passed a list of the selected countries, so when the `MultiSelectCountry` view is displayed, the selected countries are selected in the UI.</span></span>

### <a name="making-a-select-element-friendly-with-the-harvest-chosen-jquery-plugin"></a><span data-ttu-id="2f542-213">使用搜集選擇的 jQuery 外掛程式讓 Select 元素變得易懂</span><span class="sxs-lookup"><span data-stu-id="2f542-213">Making a Select Element Friendly with the Harvest Chosen jQuery Plugin</span></span>

<span data-ttu-id="2f542-214">[搜集[選擇](https://harvesthq.github.com/chosen/)的 jQuery 外掛程式] 可以加入至 HTML &lt;選取 [&gt;] 元素，以建立使用者易記的 UI。</span><span class="sxs-lookup"><span data-stu-id="2f542-214">The Harvest [Chosen](https://harvesthq.github.com/chosen/) jQuery plugin can be added to an HTML &lt;select&gt; element to create a user friendly UI.</span></span> <span data-ttu-id="2f542-215">下列影像示範使用 `MultiSelectCountry` view 來搜集[選擇](https://harvesthq.github.com/chosen/)的 jQuery 外掛程式。</span><span class="sxs-lookup"><span data-stu-id="2f542-215">The images below demonstrate the Harvest [Chosen](https://harvesthq.github.com/chosen/) jQuery plugin with `MultiSelectCountry` view.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image9.png)

<span data-ttu-id="2f542-216">在下列兩個影像中，已選取 [**加拿大**]。</span><span class="sxs-lookup"><span data-stu-id="2f542-216">In the two images below, **Canada** is selected.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image10.png)

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image11.png)

<span data-ttu-id="2f542-217">在上圖中，已選取 [加拿大]，其中包含**x** ，您可以按一下以移除選取專案。</span><span class="sxs-lookup"><span data-stu-id="2f542-217">In the image above, Canada is selected, and it contains an **x** you can click to remove the selection.</span></span> <span data-ttu-id="2f542-218">下圖顯示已選取 [加拿大]、[中國] 和 [日本]。</span><span class="sxs-lookup"><span data-stu-id="2f542-218">The image below shows Canada, China, and Japan selected.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image12.png)

### <a name="hooking-up-the-harvest-chosen-jquery-plugin"></a><span data-ttu-id="2f542-219">連結到搜集選擇的 jQuery 外掛程式</span><span class="sxs-lookup"><span data-stu-id="2f542-219">Hooking up the Harvest Chosen jQuery Plugin</span></span>

<span data-ttu-id="2f542-220">如果您有 jQuery 的經驗，下一節將更容易遵循。</span><span class="sxs-lookup"><span data-stu-id="2f542-220">The following section is easier to follow if you have some experience with jQuery.</span></span> <span data-ttu-id="2f542-221">如果您從未使用過 jQuery，您可能會想要嘗試下列其中一個 jQuery 教學課程。</span><span class="sxs-lookup"><span data-stu-id="2f542-221">If you have never used jQuery before, you might want to try one of the following jQuery tutorials.</span></span>

- <span data-ttu-id="2f542-222">[JQuery 如何](http://docs.jquery.com/Tutorials:How_jQuery_Works)由[John Resig](http://ejohn.org/)運作</span><span class="sxs-lookup"><span data-stu-id="2f542-222">[How jQuery Works](http://docs.jquery.com/Tutorials:How_jQuery_Works) by [John Resig](http://ejohn.org/)</span></span>
- <span data-ttu-id="2f542-223">[Jörn Zaefferer](http://bassistance.de/)的[jQuery 消費者入門](http://docs.jquery.com/Tutorials:Getting_Started_with_jQuery)</span><span class="sxs-lookup"><span data-stu-id="2f542-223">[Getting Started with jQuery](http://docs.jquery.com/Tutorials:Getting_Started_with_jQuery) by [Jörn Zaefferer](http://bassistance.de/)</span></span>
- <span data-ttu-id="2f542-224">JQuery by [Cody Lindley](http://codylindley.com/)的[即時範例](http://codylindley.com/blogstuff/js/jquery/#)</span><span class="sxs-lookup"><span data-stu-id="2f542-224">[Live Examples of jQuery](http://codylindley.com/blogstuff/js/jquery/#) by [Cody Lindley](http://codylindley.com/)</span></span>

<span data-ttu-id="2f542-225">所選擇的外掛程式會包含在本教學課程隨附的入門和已完成的範例專案中。</span><span class="sxs-lookup"><span data-stu-id="2f542-225">The Chosen plugin is included in the starter and completed sample projects that accompany this tutorial.</span></span> <span data-ttu-id="2f542-226">在本教學課程中，您只需要使用 jQuery 將它連結至 UI。</span><span class="sxs-lookup"><span data-stu-id="2f542-226">For this tutorial you will only need to use jQuery to hook it up to the UI.</span></span> <span data-ttu-id="2f542-227">若要在 ASP.NET MVC 專案中使用 [搜集選擇的 jQuery] 外掛程式，您必須：</span><span class="sxs-lookup"><span data-stu-id="2f542-227">To use the Harvest Chosen jQuery plugin in an ASP.NET MVC project, you must:</span></span>

1. <span data-ttu-id="2f542-228">從[github](https://github.com/harvesthq/chosen/)下載選擇的外掛程式。</span><span class="sxs-lookup"><span data-stu-id="2f542-228">Download Chosen plugin from [github](https://github.com/harvesthq/chosen/).</span></span> <span data-ttu-id="2f542-229">已為您完成此步驟。</span><span class="sxs-lookup"><span data-stu-id="2f542-229">This step has been done for you.</span></span>
2. <span data-ttu-id="2f542-230">將選擇的資料夾新增至您的 ASP.NET MVC 專案。</span><span class="sxs-lookup"><span data-stu-id="2f542-230">Add the Chosen folder to your ASP.NET MVC project.</span></span> <span data-ttu-id="2f542-231">從您在上一個步驟中下載的選擇外掛程式，將資產新增至所選的資料夾。</span><span class="sxs-lookup"><span data-stu-id="2f542-231">Add the assets from the Chosen plugin you downloaded in the previous step to the Chosen folder.</span></span> <span data-ttu-id="2f542-232">已為您完成此步驟。</span><span class="sxs-lookup"><span data-stu-id="2f542-232">This step has been done for you.</span></span>
3. <span data-ttu-id="2f542-233">將選擇的外掛程式連結至**DropDownList**或**ListBox** HTML helper。</span><span class="sxs-lookup"><span data-stu-id="2f542-233">Hook up the chosen plugin to the **DropDownList** or **ListBox** HTML helper.</span></span>

### <a name="hooking-up-the-chosen-plugin-to-the-multiselectcountry-view"></a><span data-ttu-id="2f542-234">將選擇的外掛程式連結到 MultiSelectCountry 視圖。</span><span class="sxs-lookup"><span data-stu-id="2f542-234">Hooking up the Chosen Plugin to the MultiSelectCountry View.</span></span>

<span data-ttu-id="2f542-235">開啟*Views\Home\MultiSelectCountry.cshtml*檔案，並將 `htmlAttributes` 參數新增至 `Html.ListBox`。</span><span class="sxs-lookup"><span data-stu-id="2f542-235">Open the *Views\Home\MultiSelectCountry.cshtml* file and add an `htmlAttributes` parameter to the `Html.ListBox`.</span></span> <span data-ttu-id="2f542-236">您要新增的參數會包含選取清單（`@class = "chzn-select"`）的類別名稱。</span><span class="sxs-lookup"><span data-stu-id="2f542-236">The parameter you will add contains a class name for the select list(`@class = "chzn-select"`).</span></span> <span data-ttu-id="2f542-237">完成的程式碼如下所示：</span><span class="sxs-lookup"><span data-stu-id="2f542-237">The completed code is shown below:</span></span>

[!code-cshtml[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample12.cshtml)]

<span data-ttu-id="2f542-238">在上述程式碼中，我們會新增 HTML 屬性和屬性值 `class = "chzn-select"`。</span><span class="sxs-lookup"><span data-stu-id="2f542-238">In the code above, we are adding the HTML attribute and attribute value `class = "chzn-select"`.</span></span> <span data-ttu-id="2f542-239">先前類別的 \@ 字元與 Razor view 引擎無關。</span><span class="sxs-lookup"><span data-stu-id="2f542-239">The \@ character preceding class has nothing to do with the Razor view engine.</span></span> <span data-ttu-id="2f542-240">`class` 是[ C#關鍵字](https://msdn.microsoft.com/library/x53a06bb.aspx)。</span><span class="sxs-lookup"><span data-stu-id="2f542-240">`class` is a [C# keyword](https://msdn.microsoft.com/library/x53a06bb.aspx).</span></span> <span data-ttu-id="2f542-241">C#關鍵字不能當做識別碼使用，除非它們包含 \@ 做為前置詞。</span><span class="sxs-lookup"><span data-stu-id="2f542-241">C# keywords cannot be used as identifiers unless they include \@ as a prefix.</span></span> <span data-ttu-id="2f542-242">在上述範例中，`@class` 是有效的識別碼，但**類別**不是，因為**class**是關鍵字。</span><span class="sxs-lookup"><span data-stu-id="2f542-242">In the example above, `@class` is a valid identifier but **class** is not because **class** is a keyword.</span></span>

<span data-ttu-id="2f542-243">將參考新增至所*選/選擇的 jquery* ，以及*選擇/選擇的 .css*檔案。</span><span class="sxs-lookup"><span data-stu-id="2f542-243">Add references to the *Chosen/chosen.jquery.js* and *Chosen/chosen.css* files.</span></span> <span data-ttu-id="2f542-244">所*選擇/選擇的 jquery* ，並會執行所選外掛程式的功能。</span><span class="sxs-lookup"><span data-stu-id="2f542-244">The *Chosen/chosen.jquery.js* and implements the functionally of the Chosen plugin.</span></span> <span data-ttu-id="2f542-245">所*選擇/選擇的 .css*檔案提供樣式。</span><span class="sxs-lookup"><span data-stu-id="2f542-245">The *Chosen/chosen.css* file provides the styling.</span></span> <span data-ttu-id="2f542-246">將這些參考新增至*Views\Home\MultiSelectCountry.cshtml*檔案的底部。</span><span class="sxs-lookup"><span data-stu-id="2f542-246">Add these references to the bottom of the *Views\Home\MultiSelectCountry.cshtml* file.</span></span> <span data-ttu-id="2f542-247">下列程式碼示範如何參考所選擇的外掛程式。</span><span class="sxs-lookup"><span data-stu-id="2f542-247">The following code shows how to reference the Chosen plugin.</span></span>

[!code-cshtml[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample13.cshtml)]

<span data-ttu-id="2f542-248">使用**Html. ListBox**程式碼中所使用的類別名稱，啟動所選擇的外掛程式。</span><span class="sxs-lookup"><span data-stu-id="2f542-248">Activate the Chosen plugin using the class name used in the **Html.ListBox** code.</span></span> <span data-ttu-id="2f542-249">在上述範例中，類別名稱為 `chzn-select`。</span><span class="sxs-lookup"><span data-stu-id="2f542-249">In the example above, the class name is `chzn-select`.</span></span> <span data-ttu-id="2f542-250">將下面這一行新增至*Views\Home\MultiSelectCountry.cshtml*視圖檔案的底部。</span><span class="sxs-lookup"><span data-stu-id="2f542-250">Add the following line to the bottom of the *Views\Home\MultiSelectCountry.cshtml* view file.</span></span> <span data-ttu-id="2f542-251">這一行會啟動所選擇的外掛程式。</span><span class="sxs-lookup"><span data-stu-id="2f542-251">This line activates the Chosen plugin.</span></span>

[!code-html[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample14.html)]

<span data-ttu-id="2f542-252">下面這行是呼叫 jQuery ready 函式的語法，此函式會選取類別名稱 `chzn-select`的 DOM 元素。</span><span class="sxs-lookup"><span data-stu-id="2f542-252">The following line is the syntax to call the jQuery ready function, which selects the DOM element with class name `chzn-select`.</span></span>

[!code-powershell[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample15.ps1)]

<span data-ttu-id="2f542-253">然後，從上述呼叫傳回的包裝集合會套用所選的方法（`.chosen();`），這會連結到所選的外掛程式。</span><span class="sxs-lookup"><span data-stu-id="2f542-253">The wrapped set returned from the above call then applies the chosen method (`.chosen();`), which hooks up the Chosen plugin.</span></span>

<span data-ttu-id="2f542-254">下列程式碼顯示已完成的*Views\Home\MultiSelectCountry.cshtml*視圖檔案。</span><span class="sxs-lookup"><span data-stu-id="2f542-254">The following code shows the completed *Views\Home\MultiSelectCountry.cshtml* view file.</span></span>

[!code-cshtml[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample16.cshtml)]

<span data-ttu-id="2f542-255">執行應用程式，並流覽至 [`MultiSelectCountry`] 視圖。</span><span class="sxs-lookup"><span data-stu-id="2f542-255">Run the application and navigate to the `MultiSelectCountry` view.</span></span> <span data-ttu-id="2f542-256">嘗試新增和刪除國家/地區。</span><span class="sxs-lookup"><span data-stu-id="2f542-256">Try adding and deleting countries.</span></span> <span data-ttu-id="2f542-257">所提供的範例下載也包含使用視圖模型（而非**ViewBag**）來執行 MultiSelectCountry 功能的 `MultiCountryVM` 方法和 view。</span><span class="sxs-lookup"><span data-stu-id="2f542-257">The sample download provided also contains a `MultiCountryVM` method and view that implements the MultiSelectCountry functionality using a view model instead of a **ViewBag**.</span></span>

<span data-ttu-id="2f542-258">在下一節中，您將瞭解 ASP.NET MVC 樣板機制如何與**DropDownList** helper 搭配運作。</span><span class="sxs-lookup"><span data-stu-id="2f542-258">In the next section you'll see how the ASP.NET MVC scaffolding mechanism works with the **DropDownList** helper.</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="2f542-259">下一個</span><span class="sxs-lookup"><span data-stu-id="2f542-259">Next</span></span>](examining-how-aspnet-mvc-scaffolds-the-dropdownlist-helper.md)
