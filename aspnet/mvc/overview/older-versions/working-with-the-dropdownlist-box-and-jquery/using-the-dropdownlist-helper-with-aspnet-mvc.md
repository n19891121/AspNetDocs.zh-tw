---
uid: mvc/overview/older-versions/working-with-the-dropdownlist-box-and-jquery/using-the-dropdownlist-helper-with-aspnet-mvc
title: 使用 DropDownList 協助程式搭配 ASP.NET MVC |Microsoft Docs
author: Rick-Anderson
description: ''
ms.author: riande
ms.date: 01/12/2012
ms.assetid: 53767e05-c8ab-42e1-a94b-22d906195200
msc.legacyurl: /mvc/overview/older-versions/working-with-the-dropdownlist-box-and-jquery/using-the-dropdownlist-helper-with-aspnet-mvc
msc.type: authoredcontent
ms.openlocfilehash: 2a4d991205351531129480bee221651021483967
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/17/2019
ms.locfileid: "59396248"
---
# <a name="using-the-dropdownlist-helper-with-aspnet-mvc"></a><span data-ttu-id="0f1e1-102">使用 DropDownList 協助程式與 ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="0f1e1-102">Using the DropDownList Helper with ASP.NET MVC</span></span>

<span data-ttu-id="0f1e1-103">藉由[Rick Anderson]((https://twitter.com/RickAndMSFT))</span><span class="sxs-lookup"><span data-stu-id="0f1e1-103">by [Rick Anderson]((https://twitter.com/RickAndMSFT))</span></span>

<span data-ttu-id="0f1e1-104">本教學課程將教導您使用的基本概念[DropDownList](https://msdn.microsoft.com/library/dd492948.aspx)協助程式和[ListBox](https://msdn.microsoft.com/library/system.web.mvc.html.selectextensions.listbox.aspx) ASP.NET MVC Web 應用程式中的協助程式。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-104">This tutorial will teach you the basics of working with the [DropDownList](https://msdn.microsoft.com/library/dd492948.aspx) helper and the [ListBox](https://msdn.microsoft.com/library/system.web.mvc.html.selectextensions.listbox.aspx) helper in an ASP.NET MVC Web application.</span></span> <span data-ttu-id="0f1e1-105">您可以使用 Microsoft Visual Web Developer 2010 Express Service Pack 1，也就是要遵循本教學課程的 Microsoft Visual Studio 的免費版本。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-105">You can use Microsoft Visual Web Developer 2010 Express Service Pack 1, which is a free version of Microsoft Visual Studio to follow the tutorial.</span></span> <span data-ttu-id="0f1e1-106">在開始之前，請確定您已安裝符合下列先決條件。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-106">Before you start, make sure you've installed the prerequisites listed below.</span></span> <span data-ttu-id="0f1e1-107">您可以安裝所有人都按下列連結：[Web Platform Installer](https://www.microsoft.com/web/gallery/install.aspx?appid=VWD2010SP1Pack)。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-107">You can install all of them by clicking the following link: [Web Platform Installer](https://www.microsoft.com/web/gallery/install.aspx?appid=VWD2010SP1Pack).</span></span> <span data-ttu-id="0f1e1-108">或者，您可以個別安裝的必要條件，使用下列連結：</span><span class="sxs-lookup"><span data-stu-id="0f1e1-108">Alternatively, you can individually install the prerequisites using the following links:</span></span>

- <span data-ttu-id="0f1e1-109">[Visual Studio Web Developer Express SP1 必要條件](https://www.microsoft.com/web/gallery/install.aspx?appid=VWD2010SP1Pack) <a id="post"></a></span><span class="sxs-lookup"><span data-stu-id="0f1e1-109">[Visual Studio Web Developer Express SP1 prerequisites](https://www.microsoft.com/web/gallery/install.aspx?appid=VWD2010SP1Pack) <a id="post"></a></span></span>
- [<span data-ttu-id="0f1e1-110">ASP.NET MVC 3 Tools Update</span><span class="sxs-lookup"><span data-stu-id="0f1e1-110">ASP.NET MVC 3 Tools Update</span></span>](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=MVC3)
- <span data-ttu-id="0f1e1-111">[SQL Server Compact 4.0](https://www.microsoft.com/web/gallery/install.aspx?appid=SQLCE;SQLCEVSTools_4_0)（執行階段 + 工具支援）</span><span class="sxs-lookup"><span data-stu-id="0f1e1-111">[SQL Server Compact 4.0](https://www.microsoft.com/web/gallery/install.aspx?appid=SQLCE;SQLCEVSTools_4_0)(runtime + tools support)</span></span>

<span data-ttu-id="0f1e1-112">如果您使用 Visual Studio 2010，而不 Visual Web Developer 2010，請按一下下列連結安裝必要條件：[Visual Studio 2010 的必要元件](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=VS2010SP1Pack)。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-112">If you're using Visual Studio 2010 instead of Visual Web Developer 2010, install the prerequisites by clicking the following link: [Visual Studio 2010 prerequisites](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=VS2010SP1Pack).</span></span> <span data-ttu-id="0f1e1-113">本教學課程假設您已完成[ASP.NET MVC 簡介](../getting-started-with-aspnet-mvc3/cs/intro-to-aspnet-mvc-3.md)教學課程或[ASP.NET MVC Music 市集](../mvc-music-store/mvc-music-store-part-1.md)教學課程中，或您已熟悉 ASP.NET MVC 開發。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-113">This tutorial assumes you have completed the [Intro to ASP.NET MVC](../getting-started-with-aspnet-mvc3/cs/intro-to-aspnet-mvc-3.md) tutorial or the[ASP.NET MVC Music Store](../mvc-music-store/mvc-music-store-part-1.md) tutorial or you are familiar with ASP.NET MVC development.</span></span> <span data-ttu-id="0f1e1-114">本教學課程開頭修改過的專案，從[ASP.NET MVC Music 市集](../mvc-music-store/mvc-music-store-part-1.md)教學課程。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-114">This tutorial starts with a modified project from the [ASP.NET MVC Music Store](../mvc-music-store/mvc-music-store-part-1.md) tutorial.</span></span> <span data-ttu-id="0f1e1-115">您可以下載入門專案，使用下列連結[下載 C# 版本](https://archive.msdn.microsoft.com/Project/Download/FileDownload.aspx?ProjectName=aspnetmvcsamples&amp;DownloadId=15829)。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-115">You can download the starter project with the following link [Download the C# version](https://archive.msdn.microsoft.com/Project/Download/FileDownload.aspx?ProjectName=aspnetmvcsamples&amp;DownloadId=15829).</span></span>

<span data-ttu-id="0f1e1-116">使用本主題隨附了 Visual Web Developer 專案已完成本教學課程 C# 原始程式碼。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-116">A Visual Web Developer project with the completed tutorial C# source code is available to accompany this topic.</span></span> <span data-ttu-id="0f1e1-117">[下載](https://code.msdn.microsoft.com/Using-the-DropDownList-67f9367d)。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-117">[Download](https://code.msdn.microsoft.com/Using-the-DropDownList-67f9367d).</span></span>

### <a name="what-youll-build"></a><span data-ttu-id="0f1e1-118">您將建置</span><span class="sxs-lookup"><span data-stu-id="0f1e1-118">What You'll Build</span></span>

<span data-ttu-id="0f1e1-119">您將建立動作方法和使用的檢視[DropDownList](https://msdn.microsoft.com/library/system.web.mvc.html.selectextensions.dropdownlist.aspx)選取類別目錄的協助程式。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-119">You'll create action methods and views that use the [DropDownList](https://msdn.microsoft.com/library/system.web.mvc.html.selectextensions.dropdownlist.aspx) helper to select a category.</span></span> <span data-ttu-id="0f1e1-120">您也會使用**jQuery**來加入插入類別目錄 對話方塊中，可以在需要新的類別 （例如內容類型或演出者） 時使用。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-120">You will also use **jQuery** to add an insert category dialog that can be used when a new category (such as genre or artist) is needed.</span></span> <span data-ttu-id="0f1e1-121">以下是顯示連結來加入新的內容類型以及加入新的演出者的 [建立] 檢視的螢幕擷取畫面。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-121">Below is a screenshot of the Create view showing links to add a new genre and add a new artist.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image1.png)

### <a name="skills-youll-learn"></a><span data-ttu-id="0f1e1-122">您將學習到的技能</span><span class="sxs-lookup"><span data-stu-id="0f1e1-122">Skills You'll Learn</span></span>

<span data-ttu-id="0f1e1-123">以下是您將學到什麼：</span><span class="sxs-lookup"><span data-stu-id="0f1e1-123">Here's what you'll learn:</span></span>

- <span data-ttu-id="0f1e1-124">如何使用[DropDownList](https://msdn.microsoft.com/library/system.web.mvc.html.selectextensions.dropdownlist.aspx)選取類別目錄資料的協助程式。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-124">How to use the [DropDownList](https://msdn.microsoft.com/library/system.web.mvc.html.selectextensions.dropdownlist.aspx) helper to select category data.</span></span>
- <span data-ttu-id="0f1e1-125">如何新增**jQuery**對話方塊，即可加入新的類別。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-125">How to add a **jQuery** dialog to add new categories.</span></span>

### <a name="getting-started"></a><span data-ttu-id="0f1e1-126">快速入門</span><span class="sxs-lookup"><span data-stu-id="0f1e1-126">Getting Started</span></span>

<span data-ttu-id="0f1e1-127">下載入門專案，使用下列連結來啟動[下載](https://archive.msdn.microsoft.com/Project/Download/FileDownload.aspx?ProjectName=aspnetmvcsamples&amp;DownloadId=15829)。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-127">Start by downloading the starter project with the following link, [Download](https://archive.msdn.microsoft.com/Project/Download/FileDownload.aspx?ProjectName=aspnetmvcsamples&amp;DownloadId=15829).</span></span> <span data-ttu-id="0f1e1-128">在 Windows 檔案總管中，以滑鼠右鍵按一下*DDL\_Starter.zip*檔案，然後選取 [屬性]。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-128">In Windows Explorer, right click on the *DDL\_Starter.zip* file and select properties.</span></span> <span data-ttu-id="0f1e1-129">在  **DDL\_Starter.zip 屬性** 對話方塊中，選取 解除封鎖。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-129">In the **DDL\_Starter.zip Properties** dialog box, select Unblock.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image2.png)

<span data-ttu-id="0f1e1-130">以滑鼠右鍵按一下 DDL\_Starter.zip 檔案，然後選取**全部解壓縮**來解壓縮檔案。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-130">Right click the DDL\_Starter.zip file and select **Extract All** to unzip the file.</span></span> <span data-ttu-id="0f1e1-131">開啟*StartMusicStore.sln* Visual Web Developer 2010 Express （"Visual Web Developer 」 或 「 VWD 」，簡稱） 或 Visual Studio 2010 的檔案。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-131">Open the *StartMusicStore.sln* file with Visual Web Developer 2010 Express ("Visual Web Developer" or "VWD" for short) or Visual Studio 2010.</span></span>

<span data-ttu-id="0f1e1-132">按 CTRL + F5 執行應用程式，然後按一下**測試**連結。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-132">Press CTRL+F5 to run the application and click the **Test** link.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image3.png)

<span data-ttu-id="0f1e1-133">選取 **選取影片類別 （簡單）** 連結。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-133">Select the **Select Movie Category (Simple)** link.</span></span> <span data-ttu-id="0f1e1-134">將顯示 Movie 型別選取清單喜劇選取的值。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-134">A Movie Type Select list is displayed, with Comedy the selected value.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image4.png)

<span data-ttu-id="0f1e1-135">以滑鼠右鍵按一下選取 檢視來源與瀏覽器中。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-135">Right click in the browser and select view source.</span></span> <span data-ttu-id="0f1e1-136">HTML 頁面會顯示。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-136">The HTML for the page is displayed.</span></span> <span data-ttu-id="0f1e1-137">下列程式碼顯示的 HTML select 元素。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-137">The code below shows the HTML for the select element.</span></span>

[!code-html[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample1.html)]

<span data-ttu-id="0f1e1-138">您可以看到，在選取清單中的每個項目都有值 （動作為 0，1 表示 Drama、 喜劇 2，3 是科幻小說的產物） 和 （動作、 劇本、 喜劇和科幻小說的產物） 的顯示名稱。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-138">You can see that each item in the select list has a value (0 for Action, 1 for Drama, 2 for Comedy and 3 for Science Fiction) and a display name (Action, Drama, Comedy and Science Fiction).</span></span> <span data-ttu-id="0f1e1-139">上述程式碼是標準 HTML 選取清單。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-139">The code above is standard HTML for a select list.</span></span>

<span data-ttu-id="0f1e1-140">將選取的清單變更為 Drama 並點擊**送出** 按鈕。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-140">Change the select list to Drama and hit the **Submit** button.</span></span> <span data-ttu-id="0f1e1-141">在瀏覽器的 URL 是`http://localhost:2468/Home/CategoryChosen?MovieType=1`和頁面會顯示**您選取：1**.</span><span class="sxs-lookup"><span data-stu-id="0f1e1-141">The URL in the browser is `http://localhost:2468/Home/CategoryChosen?MovieType=1` and the page displays **You Selected: 1**.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image5.png)

<span data-ttu-id="0f1e1-142">開啟*Controllers\HomeController.cs*檔案，並檢查`SelectCategory`方法。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-142">Open the *Controllers\HomeController.cs* file and examine the `SelectCategory` method.</span></span>

[!code-csharp[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample2.cs)]

<span data-ttu-id="0f1e1-143">[DropDownList](https://msdn.microsoft.com/library/dd492738.aspx)協助程式用來建立 HTML 選取清單需要**IEnumerable&lt;SelectListItem &gt;** ，明確或隱含。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-143">The [DropDownList](https://msdn.microsoft.com/library/dd492738.aspx) helper used to create an HTML select list requires a **IEnumerable&lt;SelectListItem &gt;**, either explicitly or implicitly.</span></span> <span data-ttu-id="0f1e1-144">也就是說，您可以傳遞**IEnumerable&lt;SelectListItem &gt;** 明確地[DropDownList](https://msdn.microsoft.com/library/dd492738.aspx)協助程式，或者您可以新增**IEnumerable&lt;SelectListItem &gt;** 要[ViewBag](https://blogs.msdn.com/b/rickandy/archive/2011/01/28/dynamic-v-strongly-typed-views.aspx)使用的相同名稱**SelectListItem**作為模型屬性。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-144">That is, you can pass the **IEnumerable&lt;SelectListItem &gt;** explicitly to the [DropDownList](https://msdn.microsoft.com/library/dd492738.aspx) helper or you can add the **IEnumerable&lt;SelectListItem &gt;** to the [ViewBag](https://blogs.msdn.com/b/rickandy/archive/2011/01/28/dynamic-v-strongly-typed-views.aspx) using the same name for the **SelectListItem** as the model property.</span></span> <span data-ttu-id="0f1e1-145">傳入**SelectListItem**隱含和明確涵蓋在本教學課程的下一個部分。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-145">Passing in the **SelectListItem** implicitly and explicitly is covered in the next part of the tutorial.</span></span> <span data-ttu-id="0f1e1-146">上述程式碼示範最簡單的可能方式，來建立**IEnumerable&lt;SelectListItem &gt;** 並填入文字和值。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-146">The code above shows the simplest possible way to create an **IEnumerable&lt;SelectListItem &gt;** and populate it with text and values.</span></span> <span data-ttu-id="0f1e1-147">附註`Comedy` [SelectListItem](https://msdn.microsoft.com/library/system.web.mvc.selectlistitem.aspx)具有[Selected](https://msdn.microsoft.com/library/system.web.mvc.selectlistitem.selected.aspx)屬性設為**true;** 這會導致轉譯的選取清單，顯示**喜劇**清單中選取項目。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-147">Note the `Comedy`[SelectListItem](https://msdn.microsoft.com/library/system.web.mvc.selectlistitem.aspx) has the [Selected](https://msdn.microsoft.com/library/system.web.mvc.selectlistitem.selected.aspx) property set to **true;** this will cause the rendered select list to show **Comedy** as the selected item in the list.</span></span>

<span data-ttu-id="0f1e1-148">**IEnumerable&lt;SelectListItem &gt;** 建立更新版本會新增至[ViewBag](https://blogs.msdn.com/b/rickandy/archive/2011/01/28/dynamic-v-strongly-typed-views.aspx) MovieType 同名。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-148">The **IEnumerable&lt;SelectListItem &gt;** created above is added to the [ViewBag](https://blogs.msdn.com/b/rickandy/archive/2011/01/28/dynamic-v-strongly-typed-views.aspx) with the name MovieType.</span></span> <span data-ttu-id="0f1e1-149">這是我們將傳遞**IEnumerable&lt;SelectListItem &gt;** 隱含為[DropDownList](https://msdn.microsoft.com/library/dd492738.aspx)協助程式如下所示。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-149">This is how we pass the **IEnumerable&lt;SelectListItem &gt;** implicitly to the [DropDownList](https://msdn.microsoft.com/library/dd492738.aspx) helper shown below.</span></span>

<span data-ttu-id="0f1e1-150">開啟*Views\Home\SelectCategory.cshtml*檔案，並檢查的標記。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-150">Open the *Views\Home\SelectCategory.cshtml* file and examine the markup.</span></span>

[!code-cshtml[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample3.cshtml)]

<span data-ttu-id="0f1e1-151">在第三行中，我們將設定配置為 Views/Shared/\_簡單\_Layout.cshtml，也就是標準的版面配置檔的簡化的版本。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-151">On the third line, we set the layout to Views/Shared/\_Simple\_Layout.cshtml, which is a simplified version of the standard layout file.</span></span> <span data-ttu-id="0f1e1-152">我們這麼做可以讓顯示，並呈現 HTML 更簡單。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-152">We do this to keep the display and rendered HTML simple.</span></span>

<span data-ttu-id="0f1e1-153">在此範例中我們會不變更狀態的應用程式，讓我們將會提交資料使用**HTTP GET**，而非**HTTP POST**。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-153">In this sample we are not changing the state of the application, so we will submit the data using an **HTTP GET**, not **HTTP POST**.</span></span> <span data-ttu-id="0f1e1-154">請參閱 W3C 一節[快速檢查清單選擇 HTTP GET 或 POST](http://www.w3.org/2001/tag/doc/whenToUseGet.html#checklist)。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-154">See the W3C section [Quick Checklist for Choosing HTTP GET or POST](http://www.w3.org/2001/tag/doc/whenToUseGet.html#checklist).</span></span> <span data-ttu-id="0f1e1-155">因為我們不會變更應用程式，並張貼的表單，我們使用[Html.BeginForm](https://msdn.microsoft.com/library/dd460344.aspx)多載，可讓我們指定的動作方法、 控制器和表單方法 (**HTTP POST** 或**HTTP GET**)。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-155">Because we are not changing the application and posting the form, we use the [Html.BeginForm](https://msdn.microsoft.com/library/dd460344.aspx) overload that allows us to specify the action method, controller and form method (**HTTP POST** or **HTTP GET**).</span></span> <span data-ttu-id="0f1e1-156">檢視通常包含[Html.BeginForm](https://msdn.microsoft.com/library/dd505244.aspx)不接受任何參數的多載。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-156">Typically views contain the [Html.BeginForm](https://msdn.microsoft.com/library/dd505244.aspx) overload that takes no parameters.</span></span> <span data-ttu-id="0f1e1-157">沒有參數的版本預設為張貼的新版用相同的動作方法和控制器之間的 POST 表單資料。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-157">The no parameter version defaults to posting the form data to the POST version of the same action method and controller.</span></span>

<span data-ttu-id="0f1e1-158">下面這行</span><span class="sxs-lookup"><span data-stu-id="0f1e1-158">The following line</span></span>

[!code-cshtml[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample4.cshtml)]

<span data-ttu-id="0f1e1-159">傳遞的字串引數**DropDownList**協助程式。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-159">passes a string argument to the **DropDownList** helper.</span></span> <span data-ttu-id="0f1e1-160">這個字串中，「 MovieType 」，在本例中，會執行兩件事：</span><span class="sxs-lookup"><span data-stu-id="0f1e1-160">This string, "MovieType" in our example, does two things:</span></span>

- <span data-ttu-id="0f1e1-161">它提供的索引鍵**DropDownList**協助程式來尋找**IEnumerable&lt;SelectListItem &gt;** 中**ViewBag**。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-161">It provides the key for the **DropDownList** helper to find a **IEnumerable&lt;SelectListItem &gt;** in the **ViewBag**.</span></span>
- <span data-ttu-id="0f1e1-162">它是資料繫結至 MovieType 表單項目。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-162">It is data-bound to the MovieType form element.</span></span> <span data-ttu-id="0f1e1-163">送出方法是否**HTTP GET**，`MovieType`會是查詢字串。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-163">If the submit method is **HTTP GET**, `MovieType` will be a query string.</span></span> <span data-ttu-id="0f1e1-164">送出方法是否**HTTP POST**，`MovieType`將加入訊息主體中。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-164">If the submit method is **HTTP POST**, `MovieType` will be added in the message body.</span></span> <span data-ttu-id="0f1e1-165">下圖顯示查詢字串值是 1。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-165">The following image shows the query string with the value of 1.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image6.png)

<span data-ttu-id="0f1e1-166">下列程式碼示範`CategoryChosen`表單提交給方法。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-166">The following code shows the `CategoryChosen` method the form was submitted to.</span></span>

[!code-csharp[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample5.cs)]

<span data-ttu-id="0f1e1-167">瀏覽回到 [測試] 頁面，然後選取**HTML SelectList**連結。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-167">Navigate back to the test page and select the **HTML SelectList** link.</span></span> <span data-ttu-id="0f1e1-168">HTML 網頁會呈現類似於簡單的 ASP.NET MVC 測試頁面選取項目。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-168">The HTML page renders a select element similar to the simple ASP.NET MVC test page.</span></span> <span data-ttu-id="0f1e1-169">以滑鼠右鍵按一下 瀏覽器視窗中，選取**檢視原始檔**。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-169">Right click the browser window and select **view source**.</span></span> <span data-ttu-id="0f1e1-170">選取清單的 HTML 標記是基本上完全相同。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-170">The HTML markup for the select list is essentially identical.</span></span> <span data-ttu-id="0f1e1-171">測試 HTML 頁面上，其運作方式類似的 ASP.NET MVC 動作方法和檢視我們先前所執行的測試。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-171">Test the HTML page, it works like the ASP.NET MVC action method and view we previously tested.</span></span>

### <a name="improving-the-movie-select-list-with-enums"></a><span data-ttu-id="0f1e1-172">提升影片選取清單列舉</span><span class="sxs-lookup"><span data-stu-id="0f1e1-172">Improving the Movie Select List with Enums</span></span>

<span data-ttu-id="0f1e1-173">如果您的應用程式中的類別固定的而且不會變更，您可以利用更加穩定且更容易擴充，讓您的程式碼的列舉。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-173">If the categories in your application are fixed and will not change, you can take advantage of enums to make your code more robust and simpler to extend.</span></span> <span data-ttu-id="0f1e1-174">當您新增新的類別時，會產生正確的類別目錄值。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-174">When you add a new category, the correct category value is generated.</span></span> <span data-ttu-id="0f1e1-175">當您新增新的類別，但忘記更新類別目錄值時，可避免複製和貼上的錯誤。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-175">The avoids copy and paste errors when you add a new category but forget to update the category value.</span></span>

<span data-ttu-id="0f1e1-176">開啟*Controllers\HomeController.cs*檔案，並檢查下列程式碼：</span><span class="sxs-lookup"><span data-stu-id="0f1e1-176">Open the *Controllers\HomeController.cs* file and examine the following code:</span></span>

[!code-csharp[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample6.cs)]

<span data-ttu-id="0f1e1-177">[Enum](https://msdn.microsoft.com/library/sbbt4032(VS.80).aspx) `eMovieCategories`擷取四個 movie 型別。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-177">The [enum](https://msdn.microsoft.com/library/sbbt4032(VS.80).aspx) `eMovieCategories` captures the four movie types.</span></span> <span data-ttu-id="0f1e1-178">`SetViewBagMovieType`方法會建立**IEnumerable&lt;SelectListItem &gt;** 從`eMovieCategories`**列舉**，並設定`Selected`屬性`selectedMovie`參數。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-178">The `SetViewBagMovieType` method creates the **IEnumerable&lt;SelectListItem &gt;** from the `eMovieCategories`**enum**, and sets the `Selected` property from the `selectedMovie` parameter.</span></span> <span data-ttu-id="0f1e1-179">`SelectCategoryEnum`動作方法會使用相同的檢視為`SelectCategory`動作方法。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-179">The `SelectCategoryEnum` action method uses the same view as the `SelectCategory` action method.</span></span>

<span data-ttu-id="0f1e1-180">瀏覽至 [測試] 頁面，然後按一下`Select Movie Category (Enum)`連結。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-180">Navigate to the Test page and click on the `Select Movie Category (Enum)` link.</span></span> <span data-ttu-id="0f1e1-181">這次，而不是所顯示的值 （數字），表示列舉的字串會顯示。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-181">This time, instead of a value (number) being displayed, a string representing the enum is displayed.</span></span>

### <a name="posting-enum-values"></a><span data-ttu-id="0f1e1-182">張貼的列舉值</span><span class="sxs-lookup"><span data-stu-id="0f1e1-182">Posting Enum Values</span></span>

<span data-ttu-id="0f1e1-183">HTML 表單通常用來將資料公佈至伺服器。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-183">HTML Forms are typically used to post data to the server.</span></span> <span data-ttu-id="0f1e1-184">下列程式碼示範`HTTP GET`並`HTTP POST`新版`SelectCategoryEnumPost`方法。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-184">The following code shows the `HTTP GET` and `HTTP POST` versions of the `SelectCategoryEnumPost` method.</span></span>

[!code-csharp[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample7.cs)]

<span data-ttu-id="0f1e1-185">藉由傳遞`eMovieCategories`列舉可`POST`方法中，我們可以擷取列舉值和列舉字串。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-185">By passing a `eMovieCategories` enum to the `POST` method, we can extract both the enum value and the enum string.</span></span> <span data-ttu-id="0f1e1-186">執行範例，並瀏覽至 [測試] 頁面。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-186">Run the sample and navigate to the Test page.</span></span> <span data-ttu-id="0f1e1-187">按一下`Select Movie Category(Enum Post)`連結。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-187">Click on the `Select Movie Category(Enum Post)` link.</span></span> <span data-ttu-id="0f1e1-188">選取 movie 型別，然後按下 提交 按鈕。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-188">Select a movie type and then hit the submit button.</span></span> <span data-ttu-id="0f1e1-189">顯示數值和 movie 型別名稱。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-189">The display shows both the value and the name of the movie type.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image7.png)

### <a name="creating-a-multiple-section-select-element"></a><span data-ttu-id="0f1e1-190">建立多個區段選取項目</span><span class="sxs-lookup"><span data-stu-id="0f1e1-190">Creating a Multiple Section Select Element</span></span>

<span data-ttu-id="0f1e1-191">[ListBox](https://msdn.microsoft.com/library/system.web.mvc.html.selectextensions.listbox.aspx) HTML 協助程式的 HTML 呈現`<select>`項目`multiple`屬性，可讓使用者進行多重選取。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-191">The [ListBox](https://msdn.microsoft.com/library/system.web.mvc.html.selectextensions.listbox.aspx) HTML helper renders the HTML `<select>` element with the `multiple` attribute, which allows the users to make multiple selections.</span></span> <span data-ttu-id="0f1e1-192">瀏覽至 [測試] 連結，然後選取**多重選取國家/地區**連結。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-192">Navigate to the Test link, then select the **Multi Select Country** link.</span></span> <span data-ttu-id="0f1e1-193">轉譯的 UI 可讓您選取多個國家/地區。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-193">The rendered UI allows you to select multiple countries.</span></span> <span data-ttu-id="0f1e1-194">在下圖中，會選取加拿大和中國。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-194">In the image below, Canada and China are selected.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image8.png)

### <a name="examining-the-multiselectcountry-code"></a><span data-ttu-id="0f1e1-195">檢查 MultiSelectCountry 程式碼</span><span class="sxs-lookup"><span data-stu-id="0f1e1-195">Examining the MultiSelectCountry Code</span></span>

<span data-ttu-id="0f1e1-196">檢查下列程式碼*Controllers\HomeController.cs*檔案。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-196">Examine the following code from the *Controllers\HomeController.cs* file.</span></span>

[!code-csharp[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample8.cs)]

<span data-ttu-id="0f1e1-197">`GetCountries`方法會建立一份國家/地區，然後將它傳遞給`MultiSelectList`建構函式。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-197">The `GetCountries` method creates a list of countries, then passes it to the `MultiSelectList` constructor.</span></span> <span data-ttu-id="0f1e1-198">`MultiSelectList`中使用的建構函式多載`GetCountries`上述方法接受四個參數：</span><span class="sxs-lookup"><span data-stu-id="0f1e1-198">The `MultiSelectList` constructor overload used in the `GetCountries` method above takes four parameters:</span></span>

[!code-csharp[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample9.cs)]

1. <span data-ttu-id="0f1e1-199">*項目*:[IEnumerable](https://msdn.microsoft.com/library/system.collections.ienumerable.aspx)包含在清單中的項目。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-199">*items*: An [IEnumerable](https://msdn.microsoft.com/library/system.collections.ienumerable.aspx) containing the items in the list.</span></span> <span data-ttu-id="0f1e1-200">在範例中，清單上方的國家/地區。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-200">In the example above, the list of Countries.</span></span>
2. <span data-ttu-id="0f1e1-201">*dataValueField*:中的屬性名稱**IEnumerable**包含值的清單。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-201">*dataValueField*: The name of the property in the **IEnumerable** list that contains the value.</span></span> <span data-ttu-id="0f1e1-202">在上面的範例，`ID`屬性。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-202">In the example above, the `ID` property.</span></span>
3. <span data-ttu-id="0f1e1-203">*dataTextField*:中的屬性名稱**IEnumerable**清單，其中包含要顯示的資訊。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-203">*dataTextField*: The name of the property in the **IEnumerable** list that contains the information to display.</span></span> <span data-ttu-id="0f1e1-204">在上面的範例，`name`屬性。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-204">In the example above, the `name` property.</span></span>
4. <span data-ttu-id="0f1e1-205">*selectedValues*:選取的值清單。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-205">*selectedValues*: The list of selected values.</span></span>

<span data-ttu-id="0f1e1-206">在上述範例`MultiSelectCountry`方法傳遞`null`選取國家/地區，就在 UI 顯示時不會選取任何國家/地區的值。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-206">In the example above, the `MultiSelectCountry` method passes a `null` value for the selected countries, so no countries are selected when the UI is displayed.</span></span> <span data-ttu-id="0f1e1-207">下列程式碼顯示用來呈現的 Razor 標記`MultiSelectCountry`檢視。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-207">The following code shows the Razor markup used to render the `MultiSelectCountry` view.</span></span>

[!code-cshtml[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample10.cshtml)]

<span data-ttu-id="0f1e1-208">HTML helper [ListBox](https://msdn.microsoft.com/library/dd470200.aspx)方法採用上面兩個參數，為模型繫結屬性的名稱使用， [MultiSelectList](https://msdn.microsoft.com/library/system.web.mvc.multiselectlist.aspx)包含選取的選項和值。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-208">The HTML helper [ListBox](https://msdn.microsoft.com/library/dd470200.aspx) method used above take two parameters, the name of the property to model bind and the [MultiSelectList](https://msdn.microsoft.com/library/system.web.mvc.multiselectlist.aspx) containing the select options and values.</span></span> <span data-ttu-id="0f1e1-209">`ViewBag.YouSelected`上述程式碼用來顯示您送出表單時選取的國家/地區的值。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-209">The `ViewBag.YouSelected` code above is used to display the values of the countries you selected when you submit the form.</span></span> <span data-ttu-id="0f1e1-210">檢查的 HTTP POST 多載`MultiSelectCountry`方法。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-210">Examine the HTTP POST overload of the `MultiSelectCountry` method.</span></span>

[!code-csharp[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample11.cs)]

<span data-ttu-id="0f1e1-211">`ViewBag.YouSelected`動態屬性包含所選的國家/地區，為取得`Countries`表單集合中的項目。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-211">The `ViewBag.YouSelected` dynamic property contains the selected countries, obtained for the `Countries` entry in the form collection.</span></span> <span data-ttu-id="0f1e1-212">在這一版 GetCountries 方法會傳遞一份所選的國家/地區，因此當`MultiSelectCountry`檢視隨即顯示，在 UI 中選取所選的國家/地區。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-212">In this version the GetCountries method is passed a list of the selected countries, so when the `MultiSelectCountry` view is displayed, the selected countries are selected in the UI.</span></span>

### <a name="making-a-select-element-friendly-with-the-harvest-chosen-jquery-plugin"></a><span data-ttu-id="0f1e1-213">讓 選取項目易記與 Harvest 選擇 jQuery 外掛程式</span><span class="sxs-lookup"><span data-stu-id="0f1e1-213">Making a Select Element Friendly with the Harvest Chosen jQuery Plugin</span></span>

<span data-ttu-id="0f1e1-214">Harvest[所選](http://harvesthq.github.com/chosen/)jQuery 外掛程式可以加入至 HTML&lt;選取&gt;元素，來建立使用者易記 UI。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-214">The Harvest [Chosen](http://harvesthq.github.com/chosen/) jQuery plugin can be added to an HTML &lt;select&gt; element to create a user friendly UI.</span></span> <span data-ttu-id="0f1e1-215">下列影像示範 Harvest[所選](http://harvesthq.github.com/chosen/)jQuery 外掛程式與`MultiSelectCountry`檢視。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-215">The images below demonstrate the Harvest [Chosen](http://harvesthq.github.com/chosen/) jQuery plugin with `MultiSelectCountry` view.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image9.png)

<span data-ttu-id="0f1e1-216">在下列兩個映像**加拿大**已選取。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-216">In the two images below, **Canada** is selected.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image10.png)

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image11.png)

<span data-ttu-id="0f1e1-217">在上圖中，選取 加拿大，且其中包含**x**您可以按一下以移除選取項目。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-217">In the image above, Canada is selected, and it contains an **x** you can click to remove the selection.</span></span> <span data-ttu-id="0f1e1-218">下圖顯示中國、 加拿大和日本選取。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-218">The image below shows Canada, China, and Japan selected.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image12.png)

### <a name="hooking-up-the-harvest-chosen-jquery-plugin"></a><span data-ttu-id="0f1e1-219">連結 Harvest 選擇 jQuery 外掛程式</span><span class="sxs-lookup"><span data-stu-id="0f1e1-219">Hooking up the Harvest Chosen jQuery Plugin</span></span>

<span data-ttu-id="0f1e1-220">下一節是如果您有一些經驗，與 jQuery 時需遵循的工作變得更容易。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-220">The following section is easier to follow if you have some experience with jQuery.</span></span> <span data-ttu-id="0f1e1-221">如果您從未使用過 jQuery 之前，您可以嘗試下列 jQuery 教學課程中的其中一個。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-221">If you have never used jQuery before, you might want to try one of the following jQuery tutorials.</span></span>

- <span data-ttu-id="0f1e1-222">[JQuery 的運作方式](http://docs.jquery.com/Tutorials:How_jQuery_Works)由[John Resig](http://ejohn.org/)</span><span class="sxs-lookup"><span data-stu-id="0f1e1-222">[How jQuery Works](http://docs.jquery.com/Tutorials:How_jQuery_Works) by [John Resig](http://ejohn.org/)</span></span>
- <span data-ttu-id="0f1e1-223">[開始使用 jQuery](http://docs.jquery.com/Tutorials:Getting_Started_with_jQuery)由[Jörn Zaefferer](http://bassistance.de/)</span><span class="sxs-lookup"><span data-stu-id="0f1e1-223">[Getting Started with jQuery](http://docs.jquery.com/Tutorials:Getting_Started_with_jQuery) by [Jörn Zaefferer](http://bassistance.de/)</span></span>
- <span data-ttu-id="0f1e1-224">[即時範例的 jQuery](http://codylindley.com/blogstuff/js/jquery/#)由[Cody Lindley](http://codylindley.com/)</span><span class="sxs-lookup"><span data-stu-id="0f1e1-224">[Live Examples of jQuery](http://codylindley.com/blogstuff/js/jquery/#) by [Cody Lindley](http://codylindley.com/)</span></span>

<span data-ttu-id="0f1e1-225">所選外掛程式納入的 starter 和已完成的範例專案隨附此教學課程。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-225">The Chosen plugin is included in the starter and completed sample projects that accompany this tutorial.</span></span> <span data-ttu-id="0f1e1-226">本教學課程中您只需要使用 jQuery UI 將它連結。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-226">For this tutorial you will only need to use jQuery to hook it up to the UI.</span></span> <span data-ttu-id="0f1e1-227">若要使用的 Harvest 選擇 jQuery 外掛程式在 ASP.NET MVC 專案中，您必須：</span><span class="sxs-lookup"><span data-stu-id="0f1e1-227">To use the Harvest Chosen jQuery plugin in an ASP.NET MVC project, you must:</span></span>

1. <span data-ttu-id="0f1e1-228">下載從所選外掛程式[github](https://github.com/harvesthq/chosen/)。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-228">Download Chosen plugin from [github](https://github.com/harvesthq/chosen/).</span></span> <span data-ttu-id="0f1e1-229">此步驟中已為您已完成。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-229">This step has been done for you.</span></span>
2. <span data-ttu-id="0f1e1-230">ASP.NET MVC 專案中加入所選資料夾。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-230">Add the Chosen folder to your ASP.NET MVC project.</span></span> <span data-ttu-id="0f1e1-231">新增從您在上一個步驟所選資料夾中下載的所選外掛程式的資產。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-231">Add the assets from the Chosen plugin you downloaded in the previous step to the Chosen folder.</span></span> <span data-ttu-id="0f1e1-232">此步驟中已為您已完成。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-232">This step has been done for you.</span></span>
3. <span data-ttu-id="0f1e1-233">連結至所選外掛程式**DropDownList**或是**ListBox** HTML 協助程式。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-233">Hook up the chosen plugin to the **DropDownList** or **ListBox** HTML helper.</span></span>

### <a name="hooking-up-the-chosen-plugin-to-the-multiselectcountry-view"></a><span data-ttu-id="0f1e1-234">連結至 MultiSelectCountry 檢視所選外掛程式。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-234">Hooking up the Chosen Plugin to the MultiSelectCountry View.</span></span>

<span data-ttu-id="0f1e1-235">開啟*Views\Home\MultiSelectCountry.cshtml*檔案，並新增`htmlAttributes`參數來`Html.ListBox`。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-235">Open the *Views\Home\MultiSelectCountry.cshtml* file and add an `htmlAttributes` parameter to the `Html.ListBox`.</span></span> <span data-ttu-id="0f1e1-236">您將加入的參數包含選取清單的類別名稱 (`@class = "chzn-select"`)。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-236">The parameter you will add contains a class name for the select list(`@class = "chzn-select"`).</span></span> <span data-ttu-id="0f1e1-237">已完成的程式碼如下所示：</span><span class="sxs-lookup"><span data-stu-id="0f1e1-237">The completed code is shown below:</span></span>

[!code-cshtml[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample12.cshtml)]

<span data-ttu-id="0f1e1-238">在上述程式碼，我們新增的 HTML 屬性和屬性值`class = "chzn-select"`。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-238">In the code above, we are adding the HTML attribute and attribute value `class = "chzn-select"`.</span></span> <span data-ttu-id="0f1e1-239">\@上述的類別具有與 Razor 檢視引擎無關的字元。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-239">The \@ character preceding class has nothing to do with the Razor view engine.</span></span> <span data-ttu-id="0f1e1-240">`class` 已[C# 關鍵字](https://msdn.microsoft.com/library/x53a06bb.aspx)。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-240">`class` is a [C# keyword](https://msdn.microsoft.com/library/x53a06bb.aspx).</span></span> <span data-ttu-id="0f1e1-241">不能當做識別項使用 C# 關鍵字，除非它們包含\@做為前置詞。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-241">C# keywords cannot be used as identifiers unless they include \@ as a prefix.</span></span> <span data-ttu-id="0f1e1-242">在上述範例`@class`有效的識別項，但**類別**不是因為**類別**是關鍵字。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-242">In the example above, `@class` is a valid identifier but **class** is not because **class** is a keyword.</span></span>

<span data-ttu-id="0f1e1-243">將參考加入至*Chosen/chosen.jquery.js*並*Chosen/chosen.css*檔案。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-243">Add references to the *Chosen/chosen.jquery.js* and *Chosen/chosen.css* files.</span></span> <span data-ttu-id="0f1e1-244">*Chosen/chosen.jquery.js*並實作所選外掛程式的功能。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-244">The *Chosen/chosen.jquery.js* and implements the functionally of the Chosen plugin.</span></span> <span data-ttu-id="0f1e1-245">*Chosen/chosen.css*檔案提供的樣式。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-245">The *Chosen/chosen.css* file provides the styling.</span></span> <span data-ttu-id="0f1e1-246">新增這些參考到底部*Views\Home\MultiSelectCountry.cshtml*檔案。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-246">Add these references to the bottom of the *Views\Home\MultiSelectCountry.cshtml* file.</span></span> <span data-ttu-id="0f1e1-247">下列程式碼示範如何參考所選外掛程式。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-247">The following code shows how to reference the Chosen plugin.</span></span>

[!code-cshtml[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample13.cshtml)]

<span data-ttu-id="0f1e1-248">啟用使用類別名稱中使用的所選外掛程式**Html.ListBox**程式碼。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-248">Activate the Chosen plugin using the class name used in the **Html.ListBox** code.</span></span> <span data-ttu-id="0f1e1-249">在上述範例中，類別名稱是`chzn-select`。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-249">In the example above, the class name is `chzn-select`.</span></span> <span data-ttu-id="0f1e1-250">將下行新增至底部*Views\Home\MultiSelectCountry.cshtml*檢視檔案。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-250">Add the following line to the bottom of the *Views\Home\MultiSelectCountry.cshtml* view file.</span></span> <span data-ttu-id="0f1e1-251">這一行就會啟動所選外掛程式。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-251">This line activates the Chosen plugin.</span></span>

[!code-html[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample14.html)]

<span data-ttu-id="0f1e1-252">下面這一行會呼叫 jQuery 就緒功能，選取 使用類別名稱的 DOM 項目語法`chzn-select`。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-252">The following line is the syntax to call the jQuery ready function, which selects the DOM element with class name `chzn-select`.</span></span>

[!code-powershell[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample15.ps1)]

<span data-ttu-id="0f1e1-253">已包裝的設定從上述的呼叫傳回則適用於所選的方法 (`.chosen();`)，所選外掛程式的連結。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-253">The wrapped set returned from the above call then applies the chosen method (`.chosen();`), which hooks up the Chosen plugin.</span></span>

<span data-ttu-id="0f1e1-254">下列程式碼顯示已完成*Views\Home\MultiSelectCountry.cshtml*檢視檔案。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-254">The following code shows the completed *Views\Home\MultiSelectCountry.cshtml* view file.</span></span>

[!code-cshtml[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample16.cshtml)]

<span data-ttu-id="0f1e1-255">執行應用程式，並瀏覽至`MultiSelectCountry`檢視。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-255">Run the application and navigate to the `MultiSelectCountry` view.</span></span> <span data-ttu-id="0f1e1-256">嘗試新增和刪除國家/地區。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-256">Try adding and deleting countries.</span></span> <span data-ttu-id="0f1e1-257">提供的範例下載也包含`MultiCountryVM`方法，並實作 MultiSelectCountry 功能使用檢視的檢視模型而非**ViewBag**。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-257">The sample download provided also contains a `MultiCountryVM` method and view that implements the MultiSelectCountry functionality using a view model instead of a **ViewBag**.</span></span>

<span data-ttu-id="0f1e1-258">在下一節中您會看到與 ASP.NET MVC scaffolding 機制的運作方式**DropDownList**協助程式。</span><span class="sxs-lookup"><span data-stu-id="0f1e1-258">In the next section you'll see how the ASP.NET MVC scaffolding mechanism works with the **DropDownList** helper.</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="0f1e1-259">下一步</span><span class="sxs-lookup"><span data-stu-id="0f1e1-259">Next</span></span>](examining-how-aspnet-mvc-scaffolds-the-dropdownlist-helper.md)
