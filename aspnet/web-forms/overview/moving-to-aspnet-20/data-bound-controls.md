---
uid: web-forms/overview/moving-to-aspnet-20/data-bound-controls
title: 資料繫結控制項 |Microsoft Docs
author: microsoft
description: 大部分的 ASP.NET 應用程式都依賴來自後端資料來源的某種程度的資料呈現。 資料繫結控制項已是互動 w 的 pivotal 部分 。
ms.author: riande
ms.date: 02/20/2005
ms.assetid: 0e23ff32-646d-43f3-8bec-6b2313d3abd6
msc.legacyurl: /web-forms/overview/moving-to-aspnet-20/data-bound-controls
msc.type: authoredcontent
ms.openlocfilehash: 1154b38e0fa3d9d56cb407ae659c3b0d69871fda
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/06/2020
ms.locfileid: "78603835"
---
# <a name="data-bound-controls"></a><span data-ttu-id="39ba0-104">資料繫結控制項</span><span class="sxs-lookup"><span data-stu-id="39ba0-104">Data Bound Controls</span></span>

<span data-ttu-id="39ba0-105">由[Microsoft](https://github.com/microsoft)</span><span class="sxs-lookup"><span data-stu-id="39ba0-105">by [Microsoft](https://github.com/microsoft)</span></span>

> <span data-ttu-id="39ba0-106">大部分的 ASP.NET 應用程式都依賴來自後端資料來源的某種程度的資料呈現。</span><span class="sxs-lookup"><span data-stu-id="39ba0-106">Most ASP.NET applications rely on some degree of data presentation from a back-end data source.</span></span> <span data-ttu-id="39ba0-107">資料繫結控制項是在動態 Web 應用程式中與資料互動的 pivotal 部分。</span><span class="sxs-lookup"><span data-stu-id="39ba0-107">Data-bound controls have been a pivotal part of interacting with data in dynamic Web applications.</span></span> <span data-ttu-id="39ba0-108">ASP.NET 2.0 引進了資料繫結控制項的一些重大改進，包括新的 BaseDataBoundControl 類別和宣告式語法。</span><span class="sxs-lookup"><span data-stu-id="39ba0-108">ASP.NET 2.0 introduces some substantial improvements to data-bound controls, including a new BaseDataBoundControl class and declarative syntax.</span></span>

<span data-ttu-id="39ba0-109">大部分的 ASP.NET 應用程式都依賴來自後端資料來源的某種程度的資料呈現。</span><span class="sxs-lookup"><span data-stu-id="39ba0-109">Most ASP.NET applications rely on some degree of data presentation from a back-end data source.</span></span> <span data-ttu-id="39ba0-110">資料繫結控制項是在動態 Web 應用程式中與資料互動的 pivotal 部分。</span><span class="sxs-lookup"><span data-stu-id="39ba0-110">Data-bound controls have been a pivotal part of interacting with data in dynamic Web applications.</span></span> <span data-ttu-id="39ba0-111">ASP.NET 2.0 引進了資料繫結控制項的一些重大改進，包括新的 BaseDataBoundControl 類別和宣告式語法。</span><span class="sxs-lookup"><span data-stu-id="39ba0-111">ASP.NET 2.0 introduces some substantial improvements to data-bound controls, including a new BaseDataBoundControl class and declarative syntax.</span></span>

<span data-ttu-id="39ba0-112">BaseDataBoundControl 會作為 DataBoundControl 類別和 HierarchicalDataBoundControl 類別的基類。</span><span class="sxs-lookup"><span data-stu-id="39ba0-112">The BaseDataBoundControl acts as the base class for the DataBoundControl class and the HierarchicalDataBoundControl class.</span></span> <span data-ttu-id="39ba0-113">在此課程模組中，我們將討論下列衍生自 DataBoundControl 的類別：</span><span class="sxs-lookup"><span data-stu-id="39ba0-113">In this module, we will discuss the following classes that derive from DataBoundControl:</span></span>

- <span data-ttu-id="39ba0-114">AdRotator</span><span class="sxs-lookup"><span data-stu-id="39ba0-114">AdRotator</span></span>
- <span data-ttu-id="39ba0-115">清單控制項</span><span class="sxs-lookup"><span data-stu-id="39ba0-115">List controls</span></span>
- <span data-ttu-id="39ba0-116">GridView</span><span class="sxs-lookup"><span data-stu-id="39ba0-116">GridView</span></span>
- <span data-ttu-id="39ba0-117">FormView</span><span class="sxs-lookup"><span data-stu-id="39ba0-117">FormView</span></span>
- <span data-ttu-id="39ba0-118">DetailsView</span><span class="sxs-lookup"><span data-stu-id="39ba0-118">DetailsView</span></span>

<span data-ttu-id="39ba0-119">我們也會討論下列衍生自 HierarchicalDataBoundControl 類別的類別：</span><span class="sxs-lookup"><span data-stu-id="39ba0-119">We will also discuss the following classes that derive from HierarchicalDataBoundControl class:</span></span>

- <span data-ttu-id="39ba0-120">TreeView</span><span class="sxs-lookup"><span data-stu-id="39ba0-120">TreeView</span></span>
- <span data-ttu-id="39ba0-121">功能表</span><span class="sxs-lookup"><span data-stu-id="39ba0-121">Menu</span></span>
- <span data-ttu-id="39ba0-122">SiteMapPath</span><span class="sxs-lookup"><span data-stu-id="39ba0-122">SiteMapPath</span></span>

## <a name="databoundcontrol-class"></a><span data-ttu-id="39ba0-123">DataBoundControl 類別</span><span class="sxs-lookup"><span data-stu-id="39ba0-123">DataBoundControl Class</span></span>

<span data-ttu-id="39ba0-124">DataBoundControl 類別是抽象類別（在 VB 中標示為 MustInherit），用來與表格式或清單樣式資料互動。</span><span class="sxs-lookup"><span data-stu-id="39ba0-124">The DataBoundControl class is an abstract class (marked MustInherit in VB) used to interact with tabular or list-style data.</span></span> <span data-ttu-id="39ba0-125">下列控制項是衍生自 DataBoundControl 的一些控制項。</span><span class="sxs-lookup"><span data-stu-id="39ba0-125">The following controls are some of the controls that derive from DataBoundControl.</span></span>

## <a name="adrotator"></a><span data-ttu-id="39ba0-126">AdRotator</span><span class="sxs-lookup"><span data-stu-id="39ba0-126">AdRotator</span></span>

<span data-ttu-id="39ba0-127">AdRotator 控制項可讓您在連結至特定 URL 的網頁上顯示圖形橫幅。</span><span class="sxs-lookup"><span data-stu-id="39ba0-127">The AdRotator control allows you to display a graphic banner on a Web page that is linked to a specific URL.</span></span> <span data-ttu-id="39ba0-128">顯示的圖形會使用控制項的屬性來旋轉。</span><span class="sxs-lookup"><span data-stu-id="39ba0-128">The graphic that is displayed is rotated using properties for the control.</span></span> <span data-ttu-id="39ba0-129">您可以使用 [**印象**] 屬性來設定頁面上顯示的特定廣告頻率，而且可以使用關鍵字篩選來篩選廣告。</span><span class="sxs-lookup"><span data-stu-id="39ba0-129">The frequency of a particular ad displaying on a page can be configured using the **Impressions** property and ads can be filtered using keyword filtering.</span></span>

<span data-ttu-id="39ba0-130">AdRotator 控制項使用 XML 檔案或資料庫中的資料表來取得資料。</span><span class="sxs-lookup"><span data-stu-id="39ba0-130">AdRotator controls use either an XML file or a table in a database for data.</span></span> <span data-ttu-id="39ba0-131">下列屬性會在 XML 檔案中用來設定 AdRotator 控制項。</span><span class="sxs-lookup"><span data-stu-id="39ba0-131">The following attributes are used in XML files to configure the AdRotator control.</span></span>

### <a name="imageurl"></a><span data-ttu-id="39ba0-132">ImageUrl</span><span class="sxs-lookup"><span data-stu-id="39ba0-132">ImageUrl</span></span>
<span data-ttu-id="39ba0-133">要針對廣告顯示之影像的 URL。</span><span class="sxs-lookup"><span data-stu-id="39ba0-133">The URL of an image to display for the ad.</span></span>

### <a name="navigateurl"></a><span data-ttu-id="39ba0-134">NavigateUrl</span><span class="sxs-lookup"><span data-stu-id="39ba0-134">NavigateUrl</span></span>
<span data-ttu-id="39ba0-135">使用者在按一下廣告時應採取的 URL。</span><span class="sxs-lookup"><span data-stu-id="39ba0-135">The URL that the user should be taken to when the ad is clicked.</span></span> <span data-ttu-id="39ba0-136">這應該是 URL 編碼。</span><span class="sxs-lookup"><span data-stu-id="39ba0-136">This should be URL encoded.</span></span>

### <a name="alternatetext"></a><span data-ttu-id="39ba0-137">AlternateText</span><span class="sxs-lookup"><span data-stu-id="39ba0-137">AlternateText</span></span>
<span data-ttu-id="39ba0-138">顯示在工具提示中並由螢幕讀取器讀取的替代文字。</span><span class="sxs-lookup"><span data-stu-id="39ba0-138">The alternate text that is displayed in a tooltip and read by screen readers.</span></span> <span data-ttu-id="39ba0-139">當 ImageUrl 所指定的影像無法使用時，也會顯示。</span><span class="sxs-lookup"><span data-stu-id="39ba0-139">Also displays when the image specified by ImageUrl is not available.</span></span>

### <a name="keyword"></a><span data-ttu-id="39ba0-140">關鍵字</span><span class="sxs-lookup"><span data-stu-id="39ba0-140">Keyword</span></span>
<span data-ttu-id="39ba0-141">定義使用關鍵字篩選時可以使用的關鍵字。</span><span class="sxs-lookup"><span data-stu-id="39ba0-141">Defines a keyword that can be used when using keyword filtering.</span></span> <span data-ttu-id="39ba0-142">如果指定，則只會顯示關鍵字符合關鍵字篩選準則的 ads。</span><span class="sxs-lookup"><span data-stu-id="39ba0-142">If specified, only those ads with a keyword matching the keyword filter will be displayed.</span></span>

### <a name="impressions"></a><span data-ttu-id="39ba0-143">形成</span><span class="sxs-lookup"><span data-stu-id="39ba0-143">Impressions</span></span>
<span data-ttu-id="39ba0-144">加權數位，決定特定廣告可能出現的頻率。</span><span class="sxs-lookup"><span data-stu-id="39ba0-144">A weighting number that determines how often a particular ad is likely to appear.</span></span> <span data-ttu-id="39ba0-145">相對於相同檔案中其他廣告的印象。</span><span class="sxs-lookup"><span data-stu-id="39ba0-145">It is relative to the impression of other ads in the same file.</span></span> <span data-ttu-id="39ba0-146">XML 檔案中所有廣告的集體印象最大值為 2048000000 1。</span><span class="sxs-lookup"><span data-stu-id="39ba0-146">The maximum value of the collective impressions for all ads in an XML file is 2,048,000,000 1.</span></span>

### <a name="height"></a><span data-ttu-id="39ba0-147">高度</span><span class="sxs-lookup"><span data-stu-id="39ba0-147">Height</span></span>
<span data-ttu-id="39ba0-148">廣告的高度（以圖元為單位）。</span><span class="sxs-lookup"><span data-stu-id="39ba0-148">The height of the ad in pixels.</span></span>

### <a name="width"></a><span data-ttu-id="39ba0-149">寬度</span><span class="sxs-lookup"><span data-stu-id="39ba0-149">Width</span></span>
<span data-ttu-id="39ba0-150">廣告的寬度（以圖元為單位）。</span><span class="sxs-lookup"><span data-stu-id="39ba0-150">The width of the ad in pixels.</span></span>

> [!NOTE]
> <span data-ttu-id="39ba0-151">Height 和 Width 屬性會覆寫 AdRotator 控制項本身的高度和寬度。</span><span class="sxs-lookup"><span data-stu-id="39ba0-151">The Height and Width attributes override the height and width for the AdRotator control itself.</span></span>

<span data-ttu-id="39ba0-152">一般的 XML 檔案可能如下所示：</span><span class="sxs-lookup"><span data-stu-id="39ba0-152">A typical XML file might look like the following:</span></span>

[!code-xml[Main](data-bound-controls/samples/sample1.xml)]

<span data-ttu-id="39ba0-153">在上述範例中，Contoso 的 ad 可能會因為 [印象] 屬性的值而顯示為 ASP.NET 網站的廣告兩倍。</span><span class="sxs-lookup"><span data-stu-id="39ba0-153">In the above example, the ad for Contoso is twice as likely to appear as the ad for the ASP.NET Web site because of the value for the Impressions attribute.</span></span>

<span data-ttu-id="39ba0-154">若要顯示上述 XML 檔案中的廣告，請將 AdRotator 控制項新增至頁面，並將**AdvertisementFile**屬性設定為指向 XML 檔案，如下所示：</span><span class="sxs-lookup"><span data-stu-id="39ba0-154">To display ads from the above XML file, add an AdRotator control to a page and set the **AdvertisementFile** property to point to the XML file as shown below:</span></span>

[!code-aspx[Main](data-bound-controls/samples/sample2.aspx)]

<span data-ttu-id="39ba0-155">如果您選擇使用資料庫資料表當做您的 AdRotator 控制項的資料來源，您必須先使用下列架構來設定資料庫：</span><span class="sxs-lookup"><span data-stu-id="39ba0-155">If you choose to use a database table as the data source for your AdRotator control, you will first need to set up a database using the following schema:</span></span>

| <span data-ttu-id="39ba0-156">**資料行名稱**</span><span class="sxs-lookup"><span data-stu-id="39ba0-156">**Column name**</span></span> | <span data-ttu-id="39ba0-157">**Data type**</span><span class="sxs-lookup"><span data-stu-id="39ba0-157">**Data type**</span></span> | <span data-ttu-id="39ba0-158">**說明**</span><span class="sxs-lookup"><span data-stu-id="39ba0-158">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="39ba0-159">識別碼</span><span class="sxs-lookup"><span data-stu-id="39ba0-159">ID</span></span> | <span data-ttu-id="39ba0-160">int</span><span class="sxs-lookup"><span data-stu-id="39ba0-160">int</span></span> | <span data-ttu-id="39ba0-161">主索引鍵。</span><span class="sxs-lookup"><span data-stu-id="39ba0-161">Primary key.</span></span> <span data-ttu-id="39ba0-162">此資料行可以有任何名稱。</span><span class="sxs-lookup"><span data-stu-id="39ba0-162">This column can have any name.</span></span> |
| <span data-ttu-id="39ba0-163">ImageUrl</span><span class="sxs-lookup"><span data-stu-id="39ba0-163">ImageUrl</span></span> | <span data-ttu-id="39ba0-164">Nvarchar （*長度*）</span><span class="sxs-lookup"><span data-stu-id="39ba0-164">nvarchar(*length*)</span></span> | <span data-ttu-id="39ba0-165">要為廣告顯示之影像的相對或絕對 URL。</span><span class="sxs-lookup"><span data-stu-id="39ba0-165">The relative or absolute URL of the image to display for the ad.</span></span> |
| <span data-ttu-id="39ba0-166">NavigateUrl</span><span class="sxs-lookup"><span data-stu-id="39ba0-166">NavigateUrl</span></span> | <span data-ttu-id="39ba0-167">Nvarchar （*長度*）</span><span class="sxs-lookup"><span data-stu-id="39ba0-167">nvarchar(*length*)</span></span> | <span data-ttu-id="39ba0-168">Ad 的目標 URL。</span><span class="sxs-lookup"><span data-stu-id="39ba0-168">The target URL for the ad.</span></span> <span data-ttu-id="39ba0-169">如果您未提供值，則廣告不是超連結。</span><span class="sxs-lookup"><span data-stu-id="39ba0-169">If you do not provide a value, the ad is not a hyperlink.</span></span> |
| <span data-ttu-id="39ba0-170">AlternateText</span><span class="sxs-lookup"><span data-stu-id="39ba0-170">AlternateText</span></span> | <span data-ttu-id="39ba0-171">Nvarchar （*長度*）</span><span class="sxs-lookup"><span data-stu-id="39ba0-171">nvarchar(*length*)</span></span> | <span data-ttu-id="39ba0-172">找不到影像時所顯示的文字。</span><span class="sxs-lookup"><span data-stu-id="39ba0-172">The text displayed if the image cannot be found.</span></span> <span data-ttu-id="39ba0-173">在某些瀏覽器中，文字會顯示為工具提示。</span><span class="sxs-lookup"><span data-stu-id="39ba0-173">In some browsers, the text is displayed as a ToolTip.</span></span> <span data-ttu-id="39ba0-174">替代文字也會用於協助工具，如此一來，看不到圖形的使用者可能會聽到朗讀的說明。</span><span class="sxs-lookup"><span data-stu-id="39ba0-174">Alternate text is also used for accessibility so that users who cannot see the graphic can hear its description read out loud.</span></span> |
| <span data-ttu-id="39ba0-175">關鍵字</span><span class="sxs-lookup"><span data-stu-id="39ba0-175">Keyword</span></span> | <span data-ttu-id="39ba0-176">Nvarchar （*長度*）</span><span class="sxs-lookup"><span data-stu-id="39ba0-176">nvarchar(*length*)</span></span> | <span data-ttu-id="39ba0-177">頁面可以篩選之 ad 的類別。</span><span class="sxs-lookup"><span data-stu-id="39ba0-177">A category for the ad on which the page can filter.</span></span> |
| <span data-ttu-id="39ba0-178">形成</span><span class="sxs-lookup"><span data-stu-id="39ba0-178">Impressions</span></span> | <span data-ttu-id="39ba0-179">int （4）</span><span class="sxs-lookup"><span data-stu-id="39ba0-179">int(4)</span></span> | <span data-ttu-id="39ba0-180">指出廣告顯示頻率的數位。</span><span class="sxs-lookup"><span data-stu-id="39ba0-180">A number that indicates the likelihood of how often the ad is displayed.</span></span> <span data-ttu-id="39ba0-181">數位愈大，廣告的顯示頻率就愈高。</span><span class="sxs-lookup"><span data-stu-id="39ba0-181">The larger the number, the more often the ad will be displayed.</span></span> <span data-ttu-id="39ba0-182">XML 檔案中所有印象值的總計不得超過 2048000000-1。</span><span class="sxs-lookup"><span data-stu-id="39ba0-182">The total of all impressions values in the XML file may not exceed 2,048,000,000 - 1.</span></span> |
| <span data-ttu-id="39ba0-183">寬度</span><span class="sxs-lookup"><span data-stu-id="39ba0-183">Width</span></span> | <span data-ttu-id="39ba0-184">int （4）</span><span class="sxs-lookup"><span data-stu-id="39ba0-184">int(4)</span></span> | <span data-ttu-id="39ba0-185">影像的寬度（以圖元為單位）。</span><span class="sxs-lookup"><span data-stu-id="39ba0-185">The width of the image in pixels.</span></span> |
| <span data-ttu-id="39ba0-186">高度</span><span class="sxs-lookup"><span data-stu-id="39ba0-186">Height</span></span> | <span data-ttu-id="39ba0-187">int （4）</span><span class="sxs-lookup"><span data-stu-id="39ba0-187">int(4)</span></span> | <span data-ttu-id="39ba0-188">影像的高度（以圖元為單位）。</span><span class="sxs-lookup"><span data-stu-id="39ba0-188">The height of the image in pixels.</span></span> |

<span data-ttu-id="39ba0-189">如果您已經有具有不同架構的資料庫，您可以使用**AlternateTextField**、 **ImageUrlField**和**NavigateUrlField**屬性，將 AdRotator 屬性對應至現有的資料庫。</span><span class="sxs-lookup"><span data-stu-id="39ba0-189">In cases where you already have a database with a different schema, you can use the **AlternateTextField**, **ImageUrlField**, and **NavigateUrlField** properties to map the AdRotator attributes to your existing database.</span></span> <span data-ttu-id="39ba0-190">若要在 [AdRotator] 控制項中顯示資料庫的資料，請將資料來源控制項加入至頁面，將資料來源控制項的連接字串設定為指向您的資料庫，並將 [AdRotator] 控制項的 [ **DataSourceID** ] 屬性設為數據源控制項的識別碼。</span><span class="sxs-lookup"><span data-stu-id="39ba0-190">To display the data from the database in the AdRotator control, add a data source control to the page, configure the connection string for the data source control to point to your database, and set the AdRotator control's **DataSourceID** property to the ID of the data source control.</span></span> <span data-ttu-id="39ba0-191">如果您需要以程式設計方式設定 AdRotator 廣告，請使用 AdCreated 事件。</span><span class="sxs-lookup"><span data-stu-id="39ba0-191">In cases where you have a need to configure AdRotator ads programmatically, use the AdCreated event.</span></span> <span data-ttu-id="39ba0-192">AdCreated 事件接受兩個參數：一個物件，另一個是 AdCreatedEventArgs 的實例。</span><span class="sxs-lookup"><span data-stu-id="39ba0-192">The AdCreated event takes two parameters; one an object, and the other an instance of AdCreatedEventArgs.</span></span> <span data-ttu-id="39ba0-193">AdCreatedEventArgs 是所建立之 ad 的參考。</span><span class="sxs-lookup"><span data-stu-id="39ba0-193">The AdCreatedEventArgs is a reference to the ad that is being created.</span></span>

<span data-ttu-id="39ba0-194">下列程式碼片段會以程式設計方式設定 ad 的 ImageUrl、NavigateUrl 和 AlternateText：</span><span class="sxs-lookup"><span data-stu-id="39ba0-194">The following code snippet sets the ImageUrl, NavigateUrl, and AlternateText for an ad programmatically:</span></span>

[!code-csharp[Main](data-bound-controls/samples/sample3.cs)]

## <a name="list-controls"></a><span data-ttu-id="39ba0-195">清單控制項</span><span class="sxs-lookup"><span data-stu-id="39ba0-195">List Controls</span></span>

<span data-ttu-id="39ba0-196">清單控制項包括 ListBox、DropDownList、CheckBoxList、RadioButtonList 和 BulletedList。</span><span class="sxs-lookup"><span data-stu-id="39ba0-196">List controls include the ListBox, DropDownList, CheckBoxList, RadioButtonList, and BulletedList.</span></span> <span data-ttu-id="39ba0-197">這些控制項都可以是系結至資料來源的資料。</span><span class="sxs-lookup"><span data-stu-id="39ba0-197">Each of these controls can be data bound to a data source.</span></span> <span data-ttu-id="39ba0-198">它們會使用資料來源中的一個欄位做為顯示文字，而且可以選擇性地使用第二個欄位做為專案的值。</span><span class="sxs-lookup"><span data-stu-id="39ba0-198">They use one field in the data source as the display text and can optionally use a second field as the value of an item.</span></span> <span data-ttu-id="39ba0-199">專案也可以在設計階段以靜態方式加入，您可以混合從資料來源加入的靜態專案和動態專案。</span><span class="sxs-lookup"><span data-stu-id="39ba0-199">Items can also be added statically at design-time, and you can mix static items and dynamic items added from a data source.</span></span>

<span data-ttu-id="39ba0-200">若要將清單控制項系結至資料，請將資料來源控制項加入至頁面。</span><span class="sxs-lookup"><span data-stu-id="39ba0-200">To data bind a list control, add a data source control to the page.</span></span> <span data-ttu-id="39ba0-201">指定資料來源控制項的 [選取] 命令，然後將清單控制項的 [DataSourceID] 屬性設為數據源控制項的識別碼。</span><span class="sxs-lookup"><span data-stu-id="39ba0-201">Specify a SELECT command for the data source control and then set the DataSourceID property of the list control to the ID of the data source control.</span></span> <span data-ttu-id="39ba0-202">使用 [ **DataTextField** ] 和 [ **DataValueField** ] 屬性來定義控制項的顯示文字和值。</span><span class="sxs-lookup"><span data-stu-id="39ba0-202">Use the **DataTextField** and **DataValueField** properties to define the display text and the value for the control.</span></span> <span data-ttu-id="39ba0-203">此外，您可以使用**DataTextFormatString**屬性來控制顯示文字的外觀，如下所示：</span><span class="sxs-lookup"><span data-stu-id="39ba0-203">Additionally, you can use the **DataTextFormatString** property to control the appearance of the display text as follows:</span></span>

| <span data-ttu-id="39ba0-204">**運算式**</span><span class="sxs-lookup"><span data-stu-id="39ba0-204">**Expression**</span></span> | <span data-ttu-id="39ba0-205">**說明**</span><span class="sxs-lookup"><span data-stu-id="39ba0-205">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="39ba0-206">價格： {0:C}</span><span class="sxs-lookup"><span data-stu-id="39ba0-206">Price: {0:C}</span></span> | <span data-ttu-id="39ba0-207">適用于數值/十進位資料。</span><span class="sxs-lookup"><span data-stu-id="39ba0-207">For numeric/decimal data.</span></span> <span data-ttu-id="39ba0-208">顯示常值 "Price："，後面接著貨幣格式的數位。</span><span class="sxs-lookup"><span data-stu-id="39ba0-208">Displays the literal "Price:" followed by numbers in currency format.</span></span> <span data-ttu-id="39ba0-209">貨幣格式取決於**Page**指示詞或 web.config 檔案中 culture 屬性內所指定的文化特性設定。</span><span class="sxs-lookup"><span data-stu-id="39ba0-209">The currency format depends on the culture setting specified in the culture attribute on the **Page** directive or in the Web.config file.</span></span> |
| {0:D4} | <span data-ttu-id="39ba0-210">適用于整數資料。</span><span class="sxs-lookup"><span data-stu-id="39ba0-210">For integer data.</span></span> <span data-ttu-id="39ba0-211">不能與十進位數搭配使用。</span><span class="sxs-lookup"><span data-stu-id="39ba0-211">Cannot be used with decimal numbers.</span></span> <span data-ttu-id="39ba0-212">整數會以零填補的欄位顯示，寬度為四個字元。</span><span class="sxs-lookup"><span data-stu-id="39ba0-212">Integers are displayed in a zero-padded field that is four characters wide.</span></span> |
| <span data-ttu-id="39ba0-213">{0:N2}%</span><span class="sxs-lookup"><span data-stu-id="39ba0-213">{0:N2}%</span></span> | <span data-ttu-id="39ba0-214">適用于數值資料。</span><span class="sxs-lookup"><span data-stu-id="39ba0-214">For numeric data.</span></span> <span data-ttu-id="39ba0-215">顯示具有2個小數位數的位數，後面接著常值 "%"。</span><span class="sxs-lookup"><span data-stu-id="39ba0-215">Displays the number with 2-decimal place precision followed by the literal "%".</span></span> |
| <span data-ttu-id="39ba0-216">{0:000.0}</span><span class="sxs-lookup"><span data-stu-id="39ba0-216">{0:000.0}</span></span> | <span data-ttu-id="39ba0-217">適用于數值/十進位資料。</span><span class="sxs-lookup"><span data-stu-id="39ba0-217">For numeric/decimal data.</span></span> <span data-ttu-id="39ba0-218">數位會舍入到一個小數位數。</span><span class="sxs-lookup"><span data-stu-id="39ba0-218">Numbers are rounded to one decimal place.</span></span> <span data-ttu-id="39ba0-219">小於三位數的數字會填補零。</span><span class="sxs-lookup"><span data-stu-id="39ba0-219">Numbers less than three digits are zero-padded.</span></span> |
| {0:D} | <span data-ttu-id="39ba0-220">適用于日期/時間資料。</span><span class="sxs-lookup"><span data-stu-id="39ba0-220">For date/time data.</span></span> <span data-ttu-id="39ba0-221">顯示完整的日期格式（"星期四，1996年8月6日）。</span><span class="sxs-lookup"><span data-stu-id="39ba0-221">Displays long date format ("Thursday, August 06, 1996").</span></span> <span data-ttu-id="39ba0-222">日期格式取決於頁面或 Web.config 檔案的文化設定。</span><span class="sxs-lookup"><span data-stu-id="39ba0-222">Date format depends on the culture setting of the page or the Web.config file.</span></span> |
| {0:d} | <span data-ttu-id="39ba0-223">適用于日期/時間資料。</span><span class="sxs-lookup"><span data-stu-id="39ba0-223">For date/time data.</span></span> <span data-ttu-id="39ba0-224">顯示簡短日期格式（"12/31/99"）。</span><span class="sxs-lookup"><span data-stu-id="39ba0-224">Displays short date format ("12/31/99").</span></span> |
| <span data-ttu-id="39ba0-225">{0:yy-MM-dd}</span><span class="sxs-lookup"><span data-stu-id="39ba0-225">{0:yy-MM-dd}</span></span> | <span data-ttu-id="39ba0-226">適用于日期/時間資料。</span><span class="sxs-lookup"><span data-stu-id="39ba0-226">For date/time data.</span></span> <span data-ttu-id="39ba0-227">以數位年-月-日格式顯示日期（96-08-06）</span><span class="sxs-lookup"><span data-stu-id="39ba0-227">Displays date in numeric year-month-day format (96-08-06)</span></span> |

## <a name="gridview"></a><span data-ttu-id="39ba0-228">GridView</span><span class="sxs-lookup"><span data-stu-id="39ba0-228">GridView</span></span>

<span data-ttu-id="39ba0-229">GridView 控制項可讓您使用宣告式方法來顯示和編輯表格式資料，而這是 DataGrid 控制項的後繼。</span><span class="sxs-lookup"><span data-stu-id="39ba0-229">The GridView control allows for tabular data display and editing using a declarative approach and is the successor to the DataGrid control.</span></span> <span data-ttu-id="39ba0-230">下列功能可在 GridView 控制項中取得。</span><span class="sxs-lookup"><span data-stu-id="39ba0-230">The following features are available in the GridView control.</span></span>

- <span data-ttu-id="39ba0-231">系結至資料來源控制項，例如 SqlDataSource。</span><span class="sxs-lookup"><span data-stu-id="39ba0-231">Binding to data source controls, such as SqlDataSource.</span></span>
- <span data-ttu-id="39ba0-232">內建的排序功能。</span><span class="sxs-lookup"><span data-stu-id="39ba0-232">Built-in sorting capabilities.</span></span>
- <span data-ttu-id="39ba0-233">內建的更新和刪除功能。</span><span class="sxs-lookup"><span data-stu-id="39ba0-233">Built-in updating and deleting capabilities.</span></span>
- <span data-ttu-id="39ba0-234">內建分頁功能。</span><span class="sxs-lookup"><span data-stu-id="39ba0-234">Built-in paging capabilities.</span></span>
- <span data-ttu-id="39ba0-235">內建資料列選取功能。</span><span class="sxs-lookup"><span data-stu-id="39ba0-235">Built-in row selection capabilities.</span></span>
- <span data-ttu-id="39ba0-236">以程式設計方式存取 GridView 物件模型，以動態設定屬性、處理事件等等。</span><span class="sxs-lookup"><span data-stu-id="39ba0-236">Programmatic access to the GridView object model to dynamically set properties, handle events, and so on.</span></span>
- <span data-ttu-id="39ba0-237">多個索引鍵欄位。</span><span class="sxs-lookup"><span data-stu-id="39ba0-237">Multiple key fields.</span></span>
- <span data-ttu-id="39ba0-238">超連結資料行的多個資料欄位。</span><span class="sxs-lookup"><span data-stu-id="39ba0-238">Multiple data fields for the hyperlink columns.</span></span>
- <span data-ttu-id="39ba0-239">透過主題和樣式可自訂的外觀。</span><span class="sxs-lookup"><span data-stu-id="39ba0-239">Customizable appearance through themes and styles.</span></span>

<span data-ttu-id="39ba0-240">**資料列欄位**</span><span class="sxs-lookup"><span data-stu-id="39ba0-240">**Column Fields**</span></span>

<span data-ttu-id="39ba0-241">GridView 控制項中的每個資料行都是由 DataControlField 物件表示。</span><span class="sxs-lookup"><span data-stu-id="39ba0-241">Each column in the GridView control is represented by a DataControlField object.</span></span> <span data-ttu-id="39ba0-242">根據預設，AutoGenerateColumns 屬性會設定為**true**，這會為數據源中的每個欄位建立 AutoGeneratedField 物件。</span><span class="sxs-lookup"><span data-stu-id="39ba0-242">By default, the AutoGenerateColumns property is set to **true**, which creates an AutoGeneratedField object for each field in the data source.</span></span> <span data-ttu-id="39ba0-243">然後，每個欄位都會轉譯為 GridView 控制項中的資料行，並依照每個欄位出現在資料來源中的順序來呈現。</span><span class="sxs-lookup"><span data-stu-id="39ba0-243">Each field is then rendered as a column in the GridView control in the order that each field appears in the data source.</span></span> <span data-ttu-id="39ba0-244">您也可以將**AutoGenerateColumns**屬性設定為**false** ，然後定義您自己的資料列欄位集合，以手動方式控制**GridView**控制項中顯示的資料列欄位。</span><span class="sxs-lookup"><span data-stu-id="39ba0-244">You can also manually control which column fields appear in the **GridView** control by setting the **AutoGenerateColumns** property to **false** and then defining your own column field collection.</span></span> <span data-ttu-id="39ba0-245">不同的資料列欄位類型會決定控制項中資料行的行為。</span><span class="sxs-lookup"><span data-stu-id="39ba0-245">Different column field types determine the behavior of the columns in the control.</span></span>

<span data-ttu-id="39ba0-246">下表列出可以使用的不同資料列欄位類型。</span><span class="sxs-lookup"><span data-stu-id="39ba0-246">The following table lists the different column field types that can be used.</span></span>

| <span data-ttu-id="39ba0-247">**資料列欄位類型**</span><span class="sxs-lookup"><span data-stu-id="39ba0-247">**Column field type**</span></span> | <span data-ttu-id="39ba0-248">**說明**</span><span class="sxs-lookup"><span data-stu-id="39ba0-248">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="39ba0-249">BoundField</span><span class="sxs-lookup"><span data-stu-id="39ba0-249">BoundField</span></span> | <span data-ttu-id="39ba0-250">顯示資料來源中的欄位值。</span><span class="sxs-lookup"><span data-stu-id="39ba0-250">Displays the value of a field in a data source.</span></span> <span data-ttu-id="39ba0-251">這是 GridView 控制項的預設資料行類型。</span><span class="sxs-lookup"><span data-stu-id="39ba0-251">This is the default column type of the GridView control.</span></span> |
| <span data-ttu-id="39ba0-252">ButtonField</span><span class="sxs-lookup"><span data-stu-id="39ba0-252">ButtonField</span></span> | <span data-ttu-id="39ba0-253">針對 GridView 控制項中的每個專案顯示一個命令按鈕。</span><span class="sxs-lookup"><span data-stu-id="39ba0-253">Displays a command button for each item in the GridView control.</span></span> <span data-ttu-id="39ba0-254">這可讓您建立自訂按鈕控制項的資料行，例如 [加入] 或 [移除] 按鈕。</span><span class="sxs-lookup"><span data-stu-id="39ba0-254">This allows you to create a column of custom button controls, such as the Add or the Remove button.</span></span> |
| <span data-ttu-id="39ba0-255">CheckBoxField</span><span class="sxs-lookup"><span data-stu-id="39ba0-255">CheckBoxField</span></span> | <span data-ttu-id="39ba0-256">在 GridView 控制項中顯示每個專案的核取方塊。</span><span class="sxs-lookup"><span data-stu-id="39ba0-256">Displays a check box for each item in the GridView control.</span></span> <span data-ttu-id="39ba0-257">此資料列欄位類型通常用來顯示包含布林值的欄位。</span><span class="sxs-lookup"><span data-stu-id="39ba0-257">This column field type is commonly used to display fields with a Boolean value.</span></span> |
| <span data-ttu-id="39ba0-258">CommandField</span><span class="sxs-lookup"><span data-stu-id="39ba0-258">CommandField</span></span> | <span data-ttu-id="39ba0-259">顯示預先定義的命令按鈕，以執行選取、編輯或刪除作業。</span><span class="sxs-lookup"><span data-stu-id="39ba0-259">Displays predefined command buttons to perform selecting, editing, or deleting operations.</span></span> |
| <span data-ttu-id="39ba0-260">HyperLinkField</span><span class="sxs-lookup"><span data-stu-id="39ba0-260">HyperLinkField</span></span> | <span data-ttu-id="39ba0-261">將資料來源中的欄位值顯示為超連結。</span><span class="sxs-lookup"><span data-stu-id="39ba0-261">Displays the value of a field in a data source as a hyperlink.</span></span> <span data-ttu-id="39ba0-262">此資料列欄位類型可讓您將第二個欄位系結至超連結的 URL。</span><span class="sxs-lookup"><span data-stu-id="39ba0-262">This column field type allows you to bind a second field to the hyperlink's URL.</span></span> |
| <span data-ttu-id="39ba0-263">ImageField</span><span class="sxs-lookup"><span data-stu-id="39ba0-263">ImageField</span></span> | <span data-ttu-id="39ba0-264">針對 GridView 控制項中的每個專案顯示一個影像。</span><span class="sxs-lookup"><span data-stu-id="39ba0-264">Displays an image for each item in the GridView control.</span></span> |
| <span data-ttu-id="39ba0-265">TemplateField</span><span class="sxs-lookup"><span data-stu-id="39ba0-265">TemplateField</span></span> | <span data-ttu-id="39ba0-266">根據指定的範本，顯示 GridView 控制項中每個專案的使用者定義內容。</span><span class="sxs-lookup"><span data-stu-id="39ba0-266">Displays user-defined content for each item in the GridView control according to a specified template.</span></span> <span data-ttu-id="39ba0-267">此資料列欄位類型可讓您建立自訂資料列欄位。</span><span class="sxs-lookup"><span data-stu-id="39ba0-267">This column field type allows you to create a custom column field.</span></span> |

<span data-ttu-id="39ba0-268">若要以宣告方式定義資料列欄位集合，請先在 GridView 控制項的開頭和結束記號之間加入開頭和結尾 **&lt;資料行&gt;** 標記。</span><span class="sxs-lookup"><span data-stu-id="39ba0-268">To define a column field collection declaratively, first add opening and closing **&lt;Columns&gt;** tags between the opening and closing tags of the GridView control.</span></span> <span data-ttu-id="39ba0-269">接下來，列出您要在開頭和結尾 **&lt;資料行&gt;** 標記之間包含的資料列欄位。</span><span class="sxs-lookup"><span data-stu-id="39ba0-269">Next, list the column fields that you want to include between the opening and closing **&lt;Columns&gt;** tags.</span></span> <span data-ttu-id="39ba0-270">系統會依照列出的順序，將指定的資料行加入至資料行集合。</span><span class="sxs-lookup"><span data-stu-id="39ba0-270">The columns specified are added to the Columns collection in the order listed.</span></span> <span data-ttu-id="39ba0-271">**Columns**集合會將所有資料列欄位儲存在控制項中，並可讓您以程式設計方式管理 GridView 控制項中的資料列欄位。</span><span class="sxs-lookup"><span data-stu-id="39ba0-271">The **Columns** collection stores all the column fields in the control and allows you to programmatically manage the column fields in the GridView control.</span></span>

<span data-ttu-id="39ba0-272">明確宣告的資料列欄位可以與自動產生的資料列欄位一起顯示。</span><span class="sxs-lookup"><span data-stu-id="39ba0-272">Explicitly declared column fields can be displayed in combination with automatically generated column fields.</span></span> <span data-ttu-id="39ba0-273">當使用這兩者時，會先轉譯明確宣告的資料列欄位，接著再轉譯自動產生的資料列欄位。</span><span class="sxs-lookup"><span data-stu-id="39ba0-273">When both are used, explicitly declared column fields are rendered first, followed by the automatically generated column fields.</span></span>

## <a name="binding-to-data"></a><span data-ttu-id="39ba0-274">系結至資料</span><span class="sxs-lookup"><span data-stu-id="39ba0-274">Binding to Data</span></span>

<span data-ttu-id="39ba0-275">GridView 控制項可以系結至資料來源控制項（例如**SqlDataSource**、 **ObjectDataSource**等），以及任何會執行 system.string 介面的資料來源（例如，System.string、system.web、ArrayList 或 system.string），以及任何會執行此類集合的資料來源。</span><span class="sxs-lookup"><span data-stu-id="39ba0-275">The GridView control can be bound to a data source control (such as **SqlDataSource**, **ObjectDataSource**, and so on), as well as any data source that implements the System.Collections.IEnumerable interface (such as System.Data.DataView, System.Collections.ArrayList, or System.Collections.Hashtable).</span></span> <span data-ttu-id="39ba0-276">使用下列其中一種方法，將 GridView 控制項系結至適當的資料來源類型：</span><span class="sxs-lookup"><span data-stu-id="39ba0-276">Use one of the following methods to bind the GridView control to the appropriate data source type:</span></span>

- <span data-ttu-id="39ba0-277">若要系結至資料來源控制項，請將 GridView 控制項的 DataSourceID 屬性設定為數據源控制項的識別碼值。</span><span class="sxs-lookup"><span data-stu-id="39ba0-277">To bind to a data source control, set the DataSourceID property of the GridView control to the ID value of the data source control.</span></span> <span data-ttu-id="39ba0-278">GridView 控制項會自動系結至指定的資料來源控制項，而且可以利用資料來源控制項的功能來執行排序、更新、刪除和分頁功能。</span><span class="sxs-lookup"><span data-stu-id="39ba0-278">The GridView control automatically binds to the specified data source control and can take advantage of the data source control's capabilities to perform sorting, updating, deleting, and paging functionality.</span></span> <span data-ttu-id="39ba0-279">這是系結至資料的慣用方法。</span><span class="sxs-lookup"><span data-stu-id="39ba0-279">This is the preferred method to bind to data.</span></span>
- <span data-ttu-id="39ba0-280">若要系結至可執行 system.string 介面的資料來源，請以程式設計方式將 GridView 控制項的 DataSource 屬性設定為數據源，然後再呼叫 DataBind 方法。</span><span class="sxs-lookup"><span data-stu-id="39ba0-280">To bind to a data source that implements the System.Collections.IEnumerable interface, programmatically set the DataSource property of the GridView control to the data source and then call the DataBind method.</span></span> <span data-ttu-id="39ba0-281">使用此方法時，GridView 控制項不會提供內建的排序、更新、刪除和分頁功能。</span><span class="sxs-lookup"><span data-stu-id="39ba0-281">When using this method, the GridView control does not provide built-in sorting, updating, deleting, and paging functionality.</span></span> <span data-ttu-id="39ba0-282">您必須自行提供這種功能。</span><span class="sxs-lookup"><span data-stu-id="39ba0-282">You need to provide this functionality yourself.</span></span>

## <a name="data-operations"></a><span data-ttu-id="39ba0-283">資料作業</span><span class="sxs-lookup"><span data-stu-id="39ba0-283">Data Operations</span></span>

<span data-ttu-id="39ba0-284">GridView 控制項提供許多內建功能，可讓使用者排序、更新、刪除、選取和逐頁流覽控制項中的專案。</span><span class="sxs-lookup"><span data-stu-id="39ba0-284">The GridView control provides many built-in capabilities that allow the user to sort, update, delete, select, and page through items in the control.</span></span> <span data-ttu-id="39ba0-285">當 GridView 控制項系結至資料來源控制項時，GridView 控制項可以利用資料來源控制項的功能，並提供自動排序、更新和刪除功能。</span><span class="sxs-lookup"><span data-stu-id="39ba0-285">When the GridView control is bound to a data source control, the GridView control can take advantage of the data source control's capabilities and provide automatic sorting, updating, and deleting functionality.</span></span>

> [!NOTE]
> <span data-ttu-id="39ba0-286">GridView 控制項可以提供對其他資料來源類型進行排序、更新和刪除的支援;不過，您必須為這些作業提供適當的事件處理常式與執行。</span><span class="sxs-lookup"><span data-stu-id="39ba0-286">The GridView control can provide support for sorting, updating, and deleting with other types of data sources; however, you will need to provide an appropriate event handler with the implementation for these operations.</span></span>

<span data-ttu-id="39ba0-287">排序可讓使用者藉由按一下資料行的標頭，來排序 GridView 控制項中的專案（相對於特定資料行）。</span><span class="sxs-lookup"><span data-stu-id="39ba0-287">Sorting allows the user to sort the items in the GridView control with respect to a specific column by clicking on the column's header.</span></span> <span data-ttu-id="39ba0-288">若要啟用排序，請將 AllowSorting 屬性設定為**true**。</span><span class="sxs-lookup"><span data-stu-id="39ba0-288">To enable sorting, set the AllowSorting property to **true**.</span></span>

<span data-ttu-id="39ba0-289">按一下 [ **ButtonField** ] 或 [ **TemplateField** ] 資料列欄位中的按鈕時，會啟用自動更新、刪除和選取功能，分別為命令名稱為 [編輯]、[刪除] 和 [選取]。</span><span class="sxs-lookup"><span data-stu-id="39ba0-289">The automatic updating, deleting, and selection functionalities are enabled when a button in a **ButtonField** or **TemplateField** column field, with a command name of "Edit", "Delete", and "Select", respectively, is clicked.</span></span> <span data-ttu-id="39ba0-290">如果 AutoGenerateEditButton、AutoGenerateDeleteButton 或 AutoGenerateSelectButton 屬性分別設定為**true**，GridView 控制項就可以自動加入具有 [編輯]、[刪除] 或 [選取] 按鈕的**CommandField**資料列欄位。</span><span class="sxs-lookup"><span data-stu-id="39ba0-290">The GridView control can automatically add a **CommandField** column field with an Edit, Delete, or Select button if the AutoGenerateEditButton, AutoGenerateDeleteButton, or AutoGenerateSelectButton property is set to **true**, respectively.</span></span>

> [!NOTE]
> <span data-ttu-id="39ba0-291">GridView 控制項不直接支援將記錄插入資料來源中。</span><span class="sxs-lookup"><span data-stu-id="39ba0-291">Inserting records into the data source is not directly supported by the GridView control.</span></span> <span data-ttu-id="39ba0-292">不過，您可以使用 GridView 控制項搭配 DetailsView 或 FormView 控制項來插入記錄。</span><span class="sxs-lookup"><span data-stu-id="39ba0-292">However, it is possible to insert records by using the GridView control in conjunction with the DetailsView or FormView control.</span></span>

<span data-ttu-id="39ba0-293">GridView 控制項不會同時顯示資料來源中的所有記錄，而是會自動將記錄分成多頁。</span><span class="sxs-lookup"><span data-stu-id="39ba0-293">Instead of displaying all the records in the data source at the same time, the GridView control can automatically break the records up into pages.</span></span> <span data-ttu-id="39ba0-294">若要啟用分頁，請將 AllowPaging 屬性設定為**true**。</span><span class="sxs-lookup"><span data-stu-id="39ba0-294">To enable paging, set the AllowPaging property to **true**.</span></span>

## <a name="customizing-the-user-interface"></a><span data-ttu-id="39ba0-295">自訂使用者介面</span><span class="sxs-lookup"><span data-stu-id="39ba0-295">Customizing the User Interface</span></span>

<span data-ttu-id="39ba0-296">您可以針對控制項的不同部分設定樣式屬性，以自訂 GridView 控制項的外觀。</span><span class="sxs-lookup"><span data-stu-id="39ba0-296">You can customize the appearance of the GridView control by setting the style properties for the different parts of the control.</span></span> <span data-ttu-id="39ba0-297">下表列出不同的樣式屬性。</span><span class="sxs-lookup"><span data-stu-id="39ba0-297">The following table lists the different style properties.</span></span>

| <span data-ttu-id="39ba0-298">**Style 屬性**</span><span class="sxs-lookup"><span data-stu-id="39ba0-298">**Style property**</span></span> | <span data-ttu-id="39ba0-299">**說明**</span><span class="sxs-lookup"><span data-stu-id="39ba0-299">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="39ba0-300">AlternatingRowStyle</span><span class="sxs-lookup"><span data-stu-id="39ba0-300">AlternatingRowStyle</span></span> | <span data-ttu-id="39ba0-301">GridView 控制項中交替資料列的樣式設定。</span><span class="sxs-lookup"><span data-stu-id="39ba0-301">The style settings for the alternating data rows in the GridView control.</span></span> <span data-ttu-id="39ba0-302">設定此屬性時，會在 RowStyle 設定與**AlternatingRowStyle**設定之間交替顯示資料列。</span><span class="sxs-lookup"><span data-stu-id="39ba0-302">When this property is set, the data rows are displayed alternating between the RowStyle settings and the **AlternatingRowStyle** settings.</span></span> |
| <span data-ttu-id="39ba0-303">EditRowStyle</span><span class="sxs-lookup"><span data-stu-id="39ba0-303">EditRowStyle</span></span> | <span data-ttu-id="39ba0-304">GridView 控制項中所編輯之資料列的樣式設定。</span><span class="sxs-lookup"><span data-stu-id="39ba0-304">The style settings for the row being edited in the GridView control.</span></span> |
| <span data-ttu-id="39ba0-305">EmptyDataRowStyle</span><span class="sxs-lookup"><span data-stu-id="39ba0-305">EmptyDataRowStyle</span></span> | <span data-ttu-id="39ba0-306">當資料來源不包含任何記錄時，GridView 控制項中顯示之空白資料列的樣式設定。</span><span class="sxs-lookup"><span data-stu-id="39ba0-306">The style settings for the empty data row displayed in the GridView control when the data source does not contain any records.</span></span> |
| <span data-ttu-id="39ba0-307">FooterStyle</span><span class="sxs-lookup"><span data-stu-id="39ba0-307">FooterStyle</span></span> | <span data-ttu-id="39ba0-308">GridView 控制項頁尾資料列的樣式設定。</span><span class="sxs-lookup"><span data-stu-id="39ba0-308">The style settings for the footer row of the GridView control.</span></span> |
| <span data-ttu-id="39ba0-309">HeaderStyle</span><span class="sxs-lookup"><span data-stu-id="39ba0-309">HeaderStyle</span></span> | <span data-ttu-id="39ba0-310">GridView 控制項之標頭資料列的樣式設定。</span><span class="sxs-lookup"><span data-stu-id="39ba0-310">The style settings for the header row of the GridView control.</span></span> |
| <span data-ttu-id="39ba0-311">PagerStyle</span><span class="sxs-lookup"><span data-stu-id="39ba0-311">PagerStyle</span></span> | <span data-ttu-id="39ba0-312">GridView 控制項之分頁程式列的樣式設定。</span><span class="sxs-lookup"><span data-stu-id="39ba0-312">The style settings for the pager row of the GridView control.</span></span> |
| <span data-ttu-id="39ba0-313">RowStyle</span><span class="sxs-lookup"><span data-stu-id="39ba0-313">RowStyle</span></span> | <span data-ttu-id="39ba0-314">GridView 控制項中資料列的樣式設定。</span><span class="sxs-lookup"><span data-stu-id="39ba0-314">The style settings for the data rows in the GridView control.</span></span> <span data-ttu-id="39ba0-315">同時設定**AlternatingRowStyle**屬性時，會在**RowStyle**設定和**AlternatingRowStyle**設定之間交替顯示資料列。</span><span class="sxs-lookup"><span data-stu-id="39ba0-315">When the **AlternatingRowStyle** property is also set, the data rows are displayed alternating between the **RowStyle** settings and the **AlternatingRowStyle** settings.</span></span> |
| <span data-ttu-id="39ba0-316">SelectedRowStyle</span><span class="sxs-lookup"><span data-stu-id="39ba0-316">SelectedRowStyle</span></span> | <span data-ttu-id="39ba0-317">GridView 控制項中所選取資料列的樣式設定。</span><span class="sxs-lookup"><span data-stu-id="39ba0-317">The style settings for the selected row in the GridView control.</span></span> |

<span data-ttu-id="39ba0-318">您也可以顯示或隱藏控制項的不同部分。</span><span class="sxs-lookup"><span data-stu-id="39ba0-318">You can also show or hide different parts of the control.</span></span> <span data-ttu-id="39ba0-319">下表列出可控制要顯示或隱藏哪些部分的屬性。</span><span class="sxs-lookup"><span data-stu-id="39ba0-319">The following table lists the properties that control which parts are shown or hidden.</span></span>

| <span data-ttu-id="39ba0-320">**屬性**</span><span class="sxs-lookup"><span data-stu-id="39ba0-320">**Property**</span></span> | <span data-ttu-id="39ba0-321">**說明**</span><span class="sxs-lookup"><span data-stu-id="39ba0-321">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="39ba0-322">ShowFooter</span><span class="sxs-lookup"><span data-stu-id="39ba0-322">ShowFooter</span></span> | <span data-ttu-id="39ba0-323">顯示或隱藏 GridView 控制項的頁尾區段。</span><span class="sxs-lookup"><span data-stu-id="39ba0-323">Shows or hides the footer section of the GridView control.</span></span> |
| <span data-ttu-id="39ba0-324">ShowHeader</span><span class="sxs-lookup"><span data-stu-id="39ba0-324">ShowHeader</span></span> | <span data-ttu-id="39ba0-325">顯示或隱藏 GridView 控制項的標頭區段。</span><span class="sxs-lookup"><span data-stu-id="39ba0-325">Shows or hides the header section of the GridView control.</span></span> |

### <a name="events"></a><span data-ttu-id="39ba0-326">事件</span><span class="sxs-lookup"><span data-stu-id="39ba0-326">Events</span></span>

<span data-ttu-id="39ba0-327">GridView 控制項提供幾個您可以對其進行程式設計的事件。</span><span class="sxs-lookup"><span data-stu-id="39ba0-327">The GridView control provides several events that you can program against.</span></span> <span data-ttu-id="39ba0-328">這可讓您在每次發生事件時執行自訂常式。</span><span class="sxs-lookup"><span data-stu-id="39ba0-328">This allows you to run a custom routine whenever an event occurs.</span></span> <span data-ttu-id="39ba0-329">下表列出 GridView 控制項所支援的事件。</span><span class="sxs-lookup"><span data-stu-id="39ba0-329">The following table lists the events supported by the GridView control.</span></span>

| <span data-ttu-id="39ba0-330">**Event**</span><span class="sxs-lookup"><span data-stu-id="39ba0-330">**Event**</span></span> | <span data-ttu-id="39ba0-331">**說明**</span><span class="sxs-lookup"><span data-stu-id="39ba0-331">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="39ba0-332">PageIndexChanged</span><span class="sxs-lookup"><span data-stu-id="39ba0-332">PageIndexChanged</span></span> | <span data-ttu-id="39ba0-333">發生于按一下其中一個分頁程式按鈕時，但在 GridView 控制項處理分頁作業之後。</span><span class="sxs-lookup"><span data-stu-id="39ba0-333">Occurs when one of the pager buttons is clicked, but after the GridView control handles the paging operation.</span></span> <span data-ttu-id="39ba0-334">當您需要在使用者流覽至控制項中的其他頁面之後執行工作時，通常會使用這個事件。</span><span class="sxs-lookup"><span data-stu-id="39ba0-334">This event is commonly used when you need to perform a task after the user navigates to a different page in the control.</span></span> |
| <span data-ttu-id="39ba0-335">PageIndexChanging</span><span class="sxs-lookup"><span data-stu-id="39ba0-335">PageIndexChanging</span></span> | <span data-ttu-id="39ba0-336">發生于按一下其中一個分頁程式按鈕時，但在 GridView 控制項處理分頁作業之前。</span><span class="sxs-lookup"><span data-stu-id="39ba0-336">Occurs when one of the pager buttons is clicked, but before the GridView control handles the paging operation.</span></span> <span data-ttu-id="39ba0-337">此事件通常用來取消分頁作業。</span><span class="sxs-lookup"><span data-stu-id="39ba0-337">This event is often used to cancel the paging operation.</span></span> |
| <span data-ttu-id="39ba0-338">RowCancelingEdit</span><span class="sxs-lookup"><span data-stu-id="39ba0-338">RowCancelingEdit</span></span> | <span data-ttu-id="39ba0-339">發生于按一下資料列的 [取消] 按鈕時，但在 GridView 控制項結束編輯模式之前。</span><span class="sxs-lookup"><span data-stu-id="39ba0-339">Occurs when a row's Cancel button is clicked, but before the GridView control exits edit mode.</span></span> <span data-ttu-id="39ba0-340">這個事件通常用來停止取消作業。</span><span class="sxs-lookup"><span data-stu-id="39ba0-340">This event is often used to stop the canceling operation.</span></span> |
| <span data-ttu-id="39ba0-341">RowCommand</span><span class="sxs-lookup"><span data-stu-id="39ba0-341">RowCommand</span></span> | <span data-ttu-id="39ba0-342">GridView 控制項中按一下按鈕時發生。</span><span class="sxs-lookup"><span data-stu-id="39ba0-342">Occurs when a button is clicked in the GridView control.</span></span> <span data-ttu-id="39ba0-343">當您按一下控制項中的按鈕時，通常會使用這個事件來執行工作。</span><span class="sxs-lookup"><span data-stu-id="39ba0-343">This event is often used to perform a task when a button is clicked in the control.</span></span> |
| <span data-ttu-id="39ba0-344">RowCreated</span><span class="sxs-lookup"><span data-stu-id="39ba0-344">RowCreated</span></span> | <span data-ttu-id="39ba0-345">在 GridView 控制項中建立新的資料列時發生。</span><span class="sxs-lookup"><span data-stu-id="39ba0-345">Occurs when a new row is created in the GridView control.</span></span> <span data-ttu-id="39ba0-346">建立資料列時，通常會使用此事件來修改資料列的內容。</span><span class="sxs-lookup"><span data-stu-id="39ba0-346">This event is often used to modify the contents of a row when the row is created.</span></span> |
| <span data-ttu-id="39ba0-347">RowDataBound</span><span class="sxs-lookup"><span data-stu-id="39ba0-347">RowDataBound</span></span> | <span data-ttu-id="39ba0-348">發生于資料列系結至 GridView 控制項中的資料時。</span><span class="sxs-lookup"><span data-stu-id="39ba0-348">Occurs when a data row is bound to data in the GridView control.</span></span> <span data-ttu-id="39ba0-349">當資料列系結至資料時，此事件通常用來修改資料列的內容。</span><span class="sxs-lookup"><span data-stu-id="39ba0-349">This event is often used to modify the contents of a row when the row is bound to data.</span></span> |
| <span data-ttu-id="39ba0-350">RowDeleted</span><span class="sxs-lookup"><span data-stu-id="39ba0-350">RowDeleted</span></span> | <span data-ttu-id="39ba0-351">發生于按一下資料列的 [刪除] 按鈕時，但在 GridView 控制項從資料來源中刪除記錄之後。</span><span class="sxs-lookup"><span data-stu-id="39ba0-351">Occurs when a row's Delete button is clicked, but after the GridView control deletes the record from the data source.</span></span> <span data-ttu-id="39ba0-352">這個事件通常用來檢查刪除作業的結果。</span><span class="sxs-lookup"><span data-stu-id="39ba0-352">This event is often used to check the results of the delete operation.</span></span> |
| <span data-ttu-id="39ba0-353">RowDeleting</span><span class="sxs-lookup"><span data-stu-id="39ba0-353">RowDeleting</span></span> | <span data-ttu-id="39ba0-354">發生于按一下資料列的 [刪除] 按鈕時，但在 GridView 控制項從資料來源刪除記錄之前。</span><span class="sxs-lookup"><span data-stu-id="39ba0-354">Occurs when a row's Delete button is clicked, but before the GridView control deletes the record from the data source.</span></span> <span data-ttu-id="39ba0-355">這個事件通常用來取消刪除作業。</span><span class="sxs-lookup"><span data-stu-id="39ba0-355">This event is often used to cancel the deleting operation.</span></span> |
| <span data-ttu-id="39ba0-356">RowEditing</span><span class="sxs-lookup"><span data-stu-id="39ba0-356">RowEditing</span></span> | <span data-ttu-id="39ba0-357">發生于按一下資料列的 [編輯] 按鈕時，但在 GridView 控制項進入編輯模式之前。</span><span class="sxs-lookup"><span data-stu-id="39ba0-357">Occurs when a row's Edit button is clicked, but before the GridView control enters edit mode.</span></span> <span data-ttu-id="39ba0-358">這個事件通常用來取消編輯作業。</span><span class="sxs-lookup"><span data-stu-id="39ba0-358">This event is often used to cancel the editing operation.</span></span> |
| <span data-ttu-id="39ba0-359">RowUpdated</span><span class="sxs-lookup"><span data-stu-id="39ba0-359">RowUpdated</span></span> | <span data-ttu-id="39ba0-360">發生于按一下資料列的 [更新] 按鈕時，但在 GridView 控制項更新資料列之後。</span><span class="sxs-lookup"><span data-stu-id="39ba0-360">Occurs when a row's Update button is clicked, but after the GridView control updates the row.</span></span> <span data-ttu-id="39ba0-361">此事件通常用來檢查更新作業的結果。</span><span class="sxs-lookup"><span data-stu-id="39ba0-361">This event is often used to check the results of the update operation.</span></span> |
| <span data-ttu-id="39ba0-362">RowUpdating</span><span class="sxs-lookup"><span data-stu-id="39ba0-362">RowUpdating</span></span> | <span data-ttu-id="39ba0-363">發生于按一下資料列的 [更新] 按鈕時，但在 GridView 控制項更新資料列之前。</span><span class="sxs-lookup"><span data-stu-id="39ba0-363">Occurs when a row's Update button is clicked, but before the GridView control updates the row.</span></span> <span data-ttu-id="39ba0-364">這個事件通常用來取消更新作業。</span><span class="sxs-lookup"><span data-stu-id="39ba0-364">This event is often used to cancel the updating operation.</span></span> |
| <span data-ttu-id="39ba0-365">SelectedIndexChanged</span><span class="sxs-lookup"><span data-stu-id="39ba0-365">SelectedIndexChanged</span></span> | <span data-ttu-id="39ba0-366">發生于按一下資料列的 [選取] 按鈕時，但在 GridView 控制項處理選取作業之後。</span><span class="sxs-lookup"><span data-stu-id="39ba0-366">Occurs when a row's Select button is clicked, but after the GridView control handles the select operation.</span></span> <span data-ttu-id="39ba0-367">在控制項中選取資料列之後，通常會使用這個事件來執行工作。</span><span class="sxs-lookup"><span data-stu-id="39ba0-367">This event is often used to perform a task after a row is selected in the control.</span></span> |
| <span data-ttu-id="39ba0-368">SelectedIndexChanging</span><span class="sxs-lookup"><span data-stu-id="39ba0-368">SelectedIndexChanging</span></span> | <span data-ttu-id="39ba0-369">發生于按一下資料列的 [選取] 按鈕時，但在 GridView 控制項處理選取作業之前。</span><span class="sxs-lookup"><span data-stu-id="39ba0-369">Occurs when a row's Select button is clicked, but before the GridView control handles the select operation.</span></span> <span data-ttu-id="39ba0-370">這個事件通常用來取消選取作業。</span><span class="sxs-lookup"><span data-stu-id="39ba0-370">This event is often used to cancel the selection operation.</span></span> |
| <span data-ttu-id="39ba0-371">排序</span><span class="sxs-lookup"><span data-stu-id="39ba0-371">Sorted</span></span> | <span data-ttu-id="39ba0-372">發生于按一下排序資料行的超連結，但 GridView 控制項處理排序作業之後。</span><span class="sxs-lookup"><span data-stu-id="39ba0-372">Occurs when the hyperlink to sort a column is clicked, but after the GridView control handles the sort operation.</span></span> <span data-ttu-id="39ba0-373">這個事件通常用來在使用者按一下超連結以排序資料行之後執行工作。</span><span class="sxs-lookup"><span data-stu-id="39ba0-373">This event is commonly used to perform a task after the user clicks on a hyperlink to sort a column.</span></span> |
| <span data-ttu-id="39ba0-374">排序</span><span class="sxs-lookup"><span data-stu-id="39ba0-374">Sorting</span></span> | <span data-ttu-id="39ba0-375">發生于按一下排序資料行的超連結，但 GridView 控制項處理排序作業之前。</span><span class="sxs-lookup"><span data-stu-id="39ba0-375">Occurs when the hyperlink to sort a column is clicked, but before the GridView control handles the sort operation.</span></span> <span data-ttu-id="39ba0-376">這個事件通常用來取消排序作業或執行自訂排序常式。</span><span class="sxs-lookup"><span data-stu-id="39ba0-376">This event is often used to cancel the sorting operation or to perform a custom sorting routine.</span></span> |

## <a name="formview"></a><span data-ttu-id="39ba0-377">FormView</span><span class="sxs-lookup"><span data-stu-id="39ba0-377">FormView</span></span>

<span data-ttu-id="39ba0-378">FormView 控制項是用來顯示資料來源中的單一記錄。</span><span class="sxs-lookup"><span data-stu-id="39ba0-378">The FormView control is used to display a single record from a data source.</span></span> <span data-ttu-id="39ba0-379">它類似于 DetailsView 控制項，不同之處在于它會顯示使用者定義的範本，而不是資料欄欄位。</span><span class="sxs-lookup"><span data-stu-id="39ba0-379">It is similar to the DetailsView control, except it displays user-defined templates instead of row fields.</span></span> <span data-ttu-id="39ba0-380">建立自己的範本可讓您在控制資料顯示的方式上有更大的彈性。</span><span class="sxs-lookup"><span data-stu-id="39ba0-380">Creating your own templates gives you greater flexibility in controlling how the data is displayed.</span></span> <span data-ttu-id="39ba0-381">FormView 控制項支援下列功能：</span><span class="sxs-lookup"><span data-stu-id="39ba0-381">The FormView control supports the following features:</span></span>

- <span data-ttu-id="39ba0-382">系結至資料來源控制項，例如 SqlDataSource 和 ObjectDataSource。</span><span class="sxs-lookup"><span data-stu-id="39ba0-382">Binding to data source controls, such as SqlDataSource and ObjectDataSource.</span></span>
- <span data-ttu-id="39ba0-383">內建的插入功能。</span><span class="sxs-lookup"><span data-stu-id="39ba0-383">Built-in inserting capabilities.</span></span>
- <span data-ttu-id="39ba0-384">內建的更新和刪除功能。</span><span class="sxs-lookup"><span data-stu-id="39ba0-384">Built-in updating and deleting capabilities.</span></span>
- <span data-ttu-id="39ba0-385">內建分頁功能。</span><span class="sxs-lookup"><span data-stu-id="39ba0-385">Built-in paging capabilities.</span></span>
- <span data-ttu-id="39ba0-386">以程式設計方式存取 FormView 物件模型，以動態設定屬性、處理事件等等。</span><span class="sxs-lookup"><span data-stu-id="39ba0-386">Programmatic access to the FormView object model to dynamically set properties, handle events, and so on.</span></span>
- <span data-ttu-id="39ba0-387">透過使用者定義的範本、主題和樣式，可自訂的外觀。</span><span class="sxs-lookup"><span data-stu-id="39ba0-387">Customizable appearance through user-defined templates, themes, and styles.</span></span>

## <a name="templates"></a><span data-ttu-id="39ba0-388">範本</span><span class="sxs-lookup"><span data-stu-id="39ba0-388">Templates</span></span>

<span data-ttu-id="39ba0-389">若要讓 FormView 控制項顯示內容，您必須為控制項的不同部分建立範本。</span><span class="sxs-lookup"><span data-stu-id="39ba0-389">For the FormView control to display content, you need to create templates for the different parts of the control.</span></span> <span data-ttu-id="39ba0-390">大部分的範本都是選擇性的;不過，您必須為設定控制項的模式建立範本。</span><span class="sxs-lookup"><span data-stu-id="39ba0-390">Most templates are optional; however, you must create a template for the mode in which the control is configured.</span></span> <span data-ttu-id="39ba0-391">例如，支援插入記錄的 FormView 控制項必須定義 [插入專案] 範本。</span><span class="sxs-lookup"><span data-stu-id="39ba0-391">For example, a FormView control that supports inserting records must have an insert item template defined.</span></span> <span data-ttu-id="39ba0-392">下表列出您可以建立的不同範本。</span><span class="sxs-lookup"><span data-stu-id="39ba0-392">The following table lists the different templates that you can create.</span></span>

| <span data-ttu-id="39ba0-393">**範本類型**</span><span class="sxs-lookup"><span data-stu-id="39ba0-393">**Template type**</span></span> | <span data-ttu-id="39ba0-394">**說明**</span><span class="sxs-lookup"><span data-stu-id="39ba0-394">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="39ba0-395">EditItemTemplate</span><span class="sxs-lookup"><span data-stu-id="39ba0-395">EditItemTemplate</span></span> | <span data-ttu-id="39ba0-396">當 FormView 控制項處於編輯模式時，定義資料列的內容。</span><span class="sxs-lookup"><span data-stu-id="39ba0-396">Defines the content for the data row when the FormView control is in edit mode.</span></span> <span data-ttu-id="39ba0-397">此範本通常包含輸入控制項和命令按鈕，使用者可在其中編輯現有的記錄。</span><span class="sxs-lookup"><span data-stu-id="39ba0-397">This template usually contains input controls and command buttons with which the user can edit an existing record.</span></span> |
| <span data-ttu-id="39ba0-398">EmptyDataTemplate</span><span class="sxs-lookup"><span data-stu-id="39ba0-398">EmptyDataTemplate</span></span> | <span data-ttu-id="39ba0-399">定義當 FormView 控制項系結至不包含任何記錄的資料來源時，所顯示之空白資料列的內容。</span><span class="sxs-lookup"><span data-stu-id="39ba0-399">Defines the content for the empty data row displayed when the FormView control is bound to a data source that does not contain any records.</span></span> <span data-ttu-id="39ba0-400">此範本通常包含內容，以警示使用者資料來源未包含任何記錄。</span><span class="sxs-lookup"><span data-stu-id="39ba0-400">This template usually contains content to alert the user that the data source does not contain any records.</span></span> |
| <span data-ttu-id="39ba0-401">FooterTemplate</span><span class="sxs-lookup"><span data-stu-id="39ba0-401">FooterTemplate</span></span> | <span data-ttu-id="39ba0-402">定義頁尾資料列的內容。</span><span class="sxs-lookup"><span data-stu-id="39ba0-402">Defines the content for the footer row.</span></span> <span data-ttu-id="39ba0-403">此範本通常會包含您想要在頁尾資料列中顯示的任何其他內容。</span><span class="sxs-lookup"><span data-stu-id="39ba0-403">This template usually contains any additional content you would like to display in the footer row.</span></span> <span data-ttu-id="39ba0-404">或者，您可以藉由設定 FooterText 屬性，直接指定要在頁尾資料列中顯示的文字。</span><span class="sxs-lookup"><span data-stu-id="39ba0-404">As an alternative, you can simply specify text to display in the footer row by setting the FooterText property.</span></span> |
| <span data-ttu-id="39ba0-405">System.windows.controls.headereditemscontrol.headertemplate</span><span class="sxs-lookup"><span data-stu-id="39ba0-405">HeaderTemplate</span></span> | <span data-ttu-id="39ba0-406">定義標頭資料列的內容。</span><span class="sxs-lookup"><span data-stu-id="39ba0-406">Defines the content for the header row.</span></span> <span data-ttu-id="39ba0-407">此範本通常會包含您想要顯示在標頭資料列中的任何其他內容。</span><span class="sxs-lookup"><span data-stu-id="39ba0-407">This template usually contains any additional content you would like to display in the header row.</span></span> <span data-ttu-id="39ba0-408">或者，您可以藉由設定 HeaderText 屬性，直接指定要在標頭資料列中顯示的文字。</span><span class="sxs-lookup"><span data-stu-id="39ba0-408">As an alternative, you can simply specify text to display in the header row by setting the HeaderText property.</span></span> |
| <span data-ttu-id="39ba0-409">ItemTemplate</span><span class="sxs-lookup"><span data-stu-id="39ba0-409">ItemTemplate</span></span> | <span data-ttu-id="39ba0-410">當 FormView 控制項處於唯讀模式時，定義資料列的內容。</span><span class="sxs-lookup"><span data-stu-id="39ba0-410">Defines the content for the data row when the FormView control is in read-only mode.</span></span> <span data-ttu-id="39ba0-411">此範本通常包含內容以顯示現有記錄的值。</span><span class="sxs-lookup"><span data-stu-id="39ba0-411">This template usually contains content to display the values of an existing record.</span></span> |
| <span data-ttu-id="39ba0-412">InsertItemTemplate</span><span class="sxs-lookup"><span data-stu-id="39ba0-412">InsertItemTemplate</span></span> | <span data-ttu-id="39ba0-413">當 FormView 控制項處於插入模式時，定義資料列的內容。</span><span class="sxs-lookup"><span data-stu-id="39ba0-413">Defines the content for the data row when the FormView control is in insert mode.</span></span> <span data-ttu-id="39ba0-414">此範本通常包含輸入控制項和命令按鈕，使用者可在其中新增記錄。</span><span class="sxs-lookup"><span data-stu-id="39ba0-414">This template usually contains input controls and command buttons with which the user can add a new record.</span></span> |
| <span data-ttu-id="39ba0-415">PagerTemplate</span><span class="sxs-lookup"><span data-stu-id="39ba0-415">PagerTemplate</span></span> | <span data-ttu-id="39ba0-416">定義啟用分頁功能時所顯示之頁面巡覽列的內容（當 AllowPaging 屬性設定為**true**時）。</span><span class="sxs-lookup"><span data-stu-id="39ba0-416">Defines the content for the pager row displayed when the paging feature is enabled (when the AllowPaging property is set to **true**).</span></span> <span data-ttu-id="39ba0-417">此範本通常包含使用者可以流覽至另一筆記錄的控制項。</span><span class="sxs-lookup"><span data-stu-id="39ba0-417">This template usually contains controls with which the user can navigate to another record.</span></span> |

<span data-ttu-id="39ba0-418">您可以使用雙向系結運算式，將 [編輯專案範本] 和 [插入專案] 範本中的輸入控制項系結至資料來源的欄位。</span><span class="sxs-lookup"><span data-stu-id="39ba0-418">Input controls in the edit item template and insert item template can be bound to the fields of a data source by using a two-way binding expression.</span></span> <span data-ttu-id="39ba0-419">這可讓 FormView 控制項自動將更新或插入作業的輸入控制項值解壓縮。</span><span class="sxs-lookup"><span data-stu-id="39ba0-419">This allows the FormView control to automatically extract the values of the input control for an update or insert operation.</span></span> <span data-ttu-id="39ba0-420">雙向系結運算式也允許 [編輯專案] 範本中的輸入控制項自動顯示原始域值。</span><span class="sxs-lookup"><span data-stu-id="39ba0-420">Two-way binding expressions also allow input controls in an edit item template to automatically display the original field values.</span></span>

### <a name="binding-to-data"></a><span data-ttu-id="39ba0-421">系結至資料</span><span class="sxs-lookup"><span data-stu-id="39ba0-421">Binding to Data</span></span>

<span data-ttu-id="39ba0-422">FormView 控制項可以系結至資料來源控制項（例如**SqlDataSource**、AccessDataSource、 **ObjectDataSource**等等），或系結至任何會實作為 system.string 介面的資料來源（例如，System.string、system.web、ArrayList 和 system.string），或。</span><span class="sxs-lookup"><span data-stu-id="39ba0-422">The FormView control can be bound to a data source control (such as **SqlDataSource**, AccessDataSource, **ObjectDataSource** and so on), or to any data source that implements the System.Collections.IEnumerable interface (such as System.Data.DataView, System.Collections.ArrayList, and System.Collections.Hashtable).</span></span> <span data-ttu-id="39ba0-423">使用下列其中一種方法，將 FormView 控制項系結至適當的資料來源類型：</span><span class="sxs-lookup"><span data-stu-id="39ba0-423">Use one of the following methods to bind the FormView control to the appropriate data source type:</span></span>

- <span data-ttu-id="39ba0-424">若要系結至資料來源控制項，請將 FormView 控制項的 DataSourceID 屬性設定為數據源控制項的識別碼值。</span><span class="sxs-lookup"><span data-stu-id="39ba0-424">To bind to a data source control, set the DataSourceID property of the FormView control to the ID value of the data source control.</span></span> <span data-ttu-id="39ba0-425">FormView 控制項會自動系結至指定的資料來源控制項，而且可以利用資料來源控制項的功能來執行插入、更新、刪除和分頁功能。</span><span class="sxs-lookup"><span data-stu-id="39ba0-425">The FormView control automatically binds to the specified data source control and can take advantage of the data source control's capabilities to perform inserting, updating, deleting, and paging functionality.</span></span> <span data-ttu-id="39ba0-426">這是系結至資料的慣用方法。</span><span class="sxs-lookup"><span data-stu-id="39ba0-426">This is the preferred method to bind to data.</span></span>
- <span data-ttu-id="39ba0-427">若要系結至執行**system.string 介面的**資料來源，請以程式設計方式將 FormView 控制項的 DataSource 屬性設定為數據源，然後再呼叫 DataBind 方法。</span><span class="sxs-lookup"><span data-stu-id="39ba0-427">To bind to a data source that implements the **System.Collections.IEnumerable** interface, programmatically set the DataSource property of the FormView control to the data source and then call the DataBind method.</span></span> <span data-ttu-id="39ba0-428">使用此方法時，FormView 控制項不會提供內建的插入、更新、刪除和分頁功能。</span><span class="sxs-lookup"><span data-stu-id="39ba0-428">When using this method, the FormView control does not provide built-in inserting, updating, deleting, and paging functionality.</span></span> <span data-ttu-id="39ba0-429">您需要使用適當的事件來提供這項功能。</span><span class="sxs-lookup"><span data-stu-id="39ba0-429">You need to provide this functionality by using the appropriate event.</span></span>

## <a name="data-operations"></a><span data-ttu-id="39ba0-430">資料作業</span><span class="sxs-lookup"><span data-stu-id="39ba0-430">Data Operations</span></span>

<span data-ttu-id="39ba0-431">FormView 控制項提供許多內建功能，可讓使用者更新、刪除、插入及逐頁流覽控制項中的專案。</span><span class="sxs-lookup"><span data-stu-id="39ba0-431">The FormView control provides many built-in capabilities that allow the user to update, delete, insert, and page through items in the control.</span></span> <span data-ttu-id="39ba0-432">當 FormView 控制項系結至資料來源控制項時，FormView 控制項可以利用資料來源控制項的功能，並提供自動更新、刪除、插入和分頁功能。</span><span class="sxs-lookup"><span data-stu-id="39ba0-432">When the FormView control is bound to a data source control, the FormView control can take advantage of the data source control's capabilities and provide automatic updating, deleting, inserting, and paging functionality.</span></span> <span data-ttu-id="39ba0-433">FormView 控制項可以提供與其他資料來源類型之更新、刪除、插入和分頁作業的支援;不過，您必須為這些作業提供適當的事件處理常式與執行。</span><span class="sxs-lookup"><span data-stu-id="39ba0-433">The FormView control can provide support for update, delete, insert, and paging operations with other types of data sources; however, you must provide an appropriate event handler with the implementation for these operations.</span></span>

<span data-ttu-id="39ba0-434">因為 FormView 控制項使用範本，所以不會提供自動產生命令按鈕以執行更新、刪除或插入作業的方式。</span><span class="sxs-lookup"><span data-stu-id="39ba0-434">Because the FormView control uses templates, it does not provide a way to automatically generate command buttons to perform updating, deleting, or inserting operations.</span></span> <span data-ttu-id="39ba0-435">您必須以手動方式將這些命令按鈕包含在適當的範本中。</span><span class="sxs-lookup"><span data-stu-id="39ba0-435">You must manually include these command buttons in the appropriate template.</span></span> <span data-ttu-id="39ba0-436">FormView 控制項可辨識將其**CommandName**屬性設定為特定值的特定按鈕。</span><span class="sxs-lookup"><span data-stu-id="39ba0-436">The FormView control recognizes certain buttons that have their **CommandName** properties set to specific values.</span></span> <span data-ttu-id="39ba0-437">下表列出 FormView 控制項可識別的命令按鈕。</span><span class="sxs-lookup"><span data-stu-id="39ba0-437">The following table lists the command buttons that the FormView control recognizes.</span></span>

| <span data-ttu-id="39ba0-438">**Button**</span><span class="sxs-lookup"><span data-stu-id="39ba0-438">**Button**</span></span> | <span data-ttu-id="39ba0-439">**Commandname 值**</span><span class="sxs-lookup"><span data-stu-id="39ba0-439">**Commandname value**</span></span> | <span data-ttu-id="39ba0-440">**說明**</span><span class="sxs-lookup"><span data-stu-id="39ba0-440">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="39ba0-441">取消</span><span class="sxs-lookup"><span data-stu-id="39ba0-441">Cancel</span></span> | <span data-ttu-id="39ba0-442">退出</span><span class="sxs-lookup"><span data-stu-id="39ba0-442">"Cancel"</span></span> | <span data-ttu-id="39ba0-443">用於更新或插入作業，以取消操作並捨棄使用者輸入的值。</span><span class="sxs-lookup"><span data-stu-id="39ba0-443">Used in updating or inserting operations to cancel the operation and to discard the values entered by the user.</span></span> <span data-ttu-id="39ba0-444">FormView 控制項接著會回到 DefaultMode 屬性所指定的模式。</span><span class="sxs-lookup"><span data-stu-id="39ba0-444">The FormView control then returns to the mode specified by the DefaultMode property.</span></span> |
| <span data-ttu-id="39ba0-445">刪除</span><span class="sxs-lookup"><span data-stu-id="39ba0-445">Delete</span></span> | <span data-ttu-id="39ba0-446">"Delete"</span><span class="sxs-lookup"><span data-stu-id="39ba0-446">"Delete"</span></span> | <span data-ttu-id="39ba0-447">用於刪除作業，以從資料來源刪除顯示的記錄。</span><span class="sxs-lookup"><span data-stu-id="39ba0-447">Used in deleting operations to delete the displayed record from the data source.</span></span> <span data-ttu-id="39ba0-448">引發 ItemDeleting 和 ItemDeleted 事件。</span><span class="sxs-lookup"><span data-stu-id="39ba0-448">Raises the ItemDeleting and ItemDeleted events.</span></span> |
| <span data-ttu-id="39ba0-449">編輯</span><span class="sxs-lookup"><span data-stu-id="39ba0-449">Edit</span></span> | <span data-ttu-id="39ba0-450">編輯</span><span class="sxs-lookup"><span data-stu-id="39ba0-450">"Edit"</span></span> | <span data-ttu-id="39ba0-451">用於更新作業，將 FormView 控制項放在編輯模式中。</span><span class="sxs-lookup"><span data-stu-id="39ba0-451">Used in updating operations to put the FormView control in edit mode.</span></span> <span data-ttu-id="39ba0-452">**EditItemTemplate**屬性中指定的內容會顯示在資料列中。</span><span class="sxs-lookup"><span data-stu-id="39ba0-452">The content specified in the **EditItemTemplate** property is displayed for the data row.</span></span> |
| <span data-ttu-id="39ba0-453">插入</span><span class="sxs-lookup"><span data-stu-id="39ba0-453">Insert</span></span> | <span data-ttu-id="39ba0-454">插入</span><span class="sxs-lookup"><span data-stu-id="39ba0-454">"Insert"</span></span> | <span data-ttu-id="39ba0-455">用於插入作業，以嘗試使用使用者所提供的值，在資料來源中插入新記錄。</span><span class="sxs-lookup"><span data-stu-id="39ba0-455">Used in inserting operations to attempt to insert a new record in the data source using the values provided by the user.</span></span> <span data-ttu-id="39ba0-456">引發 ItemInserting 和 ItemInserted 事件。</span><span class="sxs-lookup"><span data-stu-id="39ba0-456">Raises the ItemInserting and ItemInserted events.</span></span> |
| <span data-ttu-id="39ba0-457">新增</span><span class="sxs-lookup"><span data-stu-id="39ba0-457">New</span></span> | <span data-ttu-id="39ba0-458">新</span><span class="sxs-lookup"><span data-stu-id="39ba0-458">"New"</span></span> | <span data-ttu-id="39ba0-459">用於插入作業，將 FormView 控制項放入插入模式。</span><span class="sxs-lookup"><span data-stu-id="39ba0-459">Used in inserting operations to put the FormView control in insert mode.</span></span> <span data-ttu-id="39ba0-460">**InsertItemTemplate**屬性中指定的內容會顯示在資料列中。</span><span class="sxs-lookup"><span data-stu-id="39ba0-460">The content specified in the **InsertItemTemplate** property is displayed for the data row.</span></span> |
| <span data-ttu-id="39ba0-461">頁面</span><span class="sxs-lookup"><span data-stu-id="39ba0-461">Page</span></span> | <span data-ttu-id="39ba0-462">本頁</span><span class="sxs-lookup"><span data-stu-id="39ba0-462">"Page"</span></span> | <span data-ttu-id="39ba0-463">在分頁作業中用來代表執行分頁的頁面巡覽列中的按鈕。</span><span class="sxs-lookup"><span data-stu-id="39ba0-463">Used in paging operations to represent a button in the pager row that performs paging.</span></span> <span data-ttu-id="39ba0-464">若要指定分頁作業，請將按鈕的**CommandArgument**屬性設定為 [下一步]、[上一步]、[第一個]、[最後一個]，或要流覽的頁面索引。</span><span class="sxs-lookup"><span data-stu-id="39ba0-464">To specify the paging operation, set the **CommandArgument** property of the button to "Next", "Prev", "First", "Last", or the index of the page to which to navigate.</span></span> <span data-ttu-id="39ba0-465">引發 PageIndexChanging 和 PageIndexChanged 事件。</span><span class="sxs-lookup"><span data-stu-id="39ba0-465">Raises the PageIndexChanging and PageIndexChanged events.</span></span> |
| <span data-ttu-id="39ba0-466">更新</span><span class="sxs-lookup"><span data-stu-id="39ba0-466">Update</span></span> | <span data-ttu-id="39ba0-467">更新</span><span class="sxs-lookup"><span data-stu-id="39ba0-467">"Update"</span></span> | <span data-ttu-id="39ba0-468">用於更新作業，嘗試使用使用者所提供的值來更新資料來源中顯示的記錄。</span><span class="sxs-lookup"><span data-stu-id="39ba0-468">Used in updating operations to attempt to update the displayed record in the data source with the values provided by the user.</span></span> <span data-ttu-id="39ba0-469">引發 ItemUpdating 和 ItemUpdated 事件。</span><span class="sxs-lookup"><span data-stu-id="39ba0-469">Raises the ItemUpdating and ItemUpdated events.</span></span> |

<span data-ttu-id="39ba0-470">不同于 [刪除] 按鈕（這會立即刪除顯示的記錄），按一下 [編輯] 或 [新增] 按鈕時，FormView 控制項會分別進入 [編輯] 或 [插入] 模式。</span><span class="sxs-lookup"><span data-stu-id="39ba0-470">Unlike the Delete button (which deletes the displayed record immediately), when the Edit or New button is clicked, the FormView control goes into edit or insert mode respectively.</span></span> <span data-ttu-id="39ba0-471">在編輯模式中，會顯示目前資料項目的**EditItemTemplate**屬性所包含的內容。</span><span class="sxs-lookup"><span data-stu-id="39ba0-471">In edit mode, the content contained in the **EditItemTemplate** property is displayed for the current data item.</span></span> <span data-ttu-id="39ba0-472">通常會定義 [編輯專案] 範本，讓 [編輯] 按鈕取代為 [更新] 和 [取消] 按鈕。</span><span class="sxs-lookup"><span data-stu-id="39ba0-472">Typically, the edit item template is defined such that the Edit button is replaced with an Update and a Cancel button.</span></span> <span data-ttu-id="39ba0-473">欄位的資料類型（例如 TextBox 或 CheckBox 控制項）適用的輸入控制項，通常也會顯示欄位的值供使用者修改。</span><span class="sxs-lookup"><span data-stu-id="39ba0-473">Input controls that are appropriate for the field's data type (such as a TextBox or a CheckBox control) are also usually displayed with a field's value for the user to modify.</span></span> <span data-ttu-id="39ba0-474">按一下 [更新] 按鈕會更新資料來源中的記錄，而按一下 [取消] 按鈕會放棄任何變更。</span><span class="sxs-lookup"><span data-stu-id="39ba0-474">Clicking the Update button updates the record in the data source, while clicking the Cancel button abandons any changes.</span></span>

<span data-ttu-id="39ba0-475">同樣地，當控制項處於插入模式時，[ **InsertItemTemplate** ] 屬性中所包含的內容也會顯示為數據項。</span><span class="sxs-lookup"><span data-stu-id="39ba0-475">Likewise, the content contained in the **InsertItemTemplate** property is displayed for the data item when the control is in insert mode.</span></span> <span data-ttu-id="39ba0-476">[插入專案] 範本的定義通常是讓 [新增] 按鈕取代為 [插入] 和 [取消] 按鈕，並顯示空白的輸入控制項，讓使用者輸入新記錄的值。</span><span class="sxs-lookup"><span data-stu-id="39ba0-476">The insert item template is typically defined such that the New button is replaced with an Insert and a Cancel button, and empty input controls are displayed for the user to enter the values for the new record.</span></span> <span data-ttu-id="39ba0-477">按一下 [插入] 按鈕會將記錄插入資料來源中，而按一下 [取消] 按鈕會放棄任何變更。</span><span class="sxs-lookup"><span data-stu-id="39ba0-477">Clicking the Insert button inserts the record in the data source, while clicking the Cancel button abandons any changes.</span></span>

<span data-ttu-id="39ba0-478">FormView 控制項提供分頁功能，可讓使用者流覽至資料來源中的其他記錄。</span><span class="sxs-lookup"><span data-stu-id="39ba0-478">The FormView control provides a paging feature, which allows the user to navigate to other records in the data source.</span></span> <span data-ttu-id="39ba0-479">啟用時，會在包含頁面導覽控制項的 FormView 控制項中顯示呼機資料列。</span><span class="sxs-lookup"><span data-stu-id="39ba0-479">When enabled, a pager row is displayed in the FormView control that contains the page navigation controls.</span></span> <span data-ttu-id="39ba0-480">若要啟用分頁，請將**AllowPaging**屬性設定為**true**。</span><span class="sxs-lookup"><span data-stu-id="39ba0-480">To enable paging, set the **AllowPaging** property to **true**.</span></span> <span data-ttu-id="39ba0-481">您可以藉由設定包含在 PagerStyle 和 PagerSettings 屬性中之物件的屬性來自訂頁面巡覽列。</span><span class="sxs-lookup"><span data-stu-id="39ba0-481">You can customize the pager row by setting the properties of objects contained in the PagerStyle and the PagerSettings property.</span></span> <span data-ttu-id="39ba0-482">您可以使用**PagerTemplate**屬性來建立自己的 ui，而不是使用內建的分頁資料列 ui。</span><span class="sxs-lookup"><span data-stu-id="39ba0-482">Instead of using the built-in pager row UI, you can create your own UI by using the **PagerTemplate** property.</span></span>

## <a name="customizing-the-user-interface"></a><span data-ttu-id="39ba0-483">自訂使用者介面</span><span class="sxs-lookup"><span data-stu-id="39ba0-483">Customizing the User Interface</span></span>

<span data-ttu-id="39ba0-484">您可以針對控制項的不同部分設定樣式屬性，以自訂 FormView 控制項的外觀。</span><span class="sxs-lookup"><span data-stu-id="39ba0-484">You can customize the appearance of the FormView control by setting the style properties for the different parts of the control.</span></span> <span data-ttu-id="39ba0-485">下表列出不同的樣式屬性。</span><span class="sxs-lookup"><span data-stu-id="39ba0-485">The following table lists the different style properties.</span></span>

| <span data-ttu-id="39ba0-486">**Style 屬性**</span><span class="sxs-lookup"><span data-stu-id="39ba0-486">**Style property**</span></span> | <span data-ttu-id="39ba0-487">**說明**</span><span class="sxs-lookup"><span data-stu-id="39ba0-487">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="39ba0-488">EditRowStyle</span><span class="sxs-lookup"><span data-stu-id="39ba0-488">EditRowStyle</span></span> | <span data-ttu-id="39ba0-489">當 FormView 控制項處於編輯模式時，資料列的樣式設定。</span><span class="sxs-lookup"><span data-stu-id="39ba0-489">The style settings for the data row when the FormView control is in edit mode.</span></span> |
| <span data-ttu-id="39ba0-490">EmptyDataRowStyle</span><span class="sxs-lookup"><span data-stu-id="39ba0-490">EmptyDataRowStyle</span></span> | <span data-ttu-id="39ba0-491">當資料來源不包含任何記錄時，在 FormView 控制項中顯示之空白資料列的樣式設定。</span><span class="sxs-lookup"><span data-stu-id="39ba0-491">The style settings for the empty data row displayed in the FormView control when the data source does not contain any records.</span></span> |
| <span data-ttu-id="39ba0-492">FooterStyle</span><span class="sxs-lookup"><span data-stu-id="39ba0-492">FooterStyle</span></span> | <span data-ttu-id="39ba0-493">FormView 控制項之頁尾資料列的樣式設定。</span><span class="sxs-lookup"><span data-stu-id="39ba0-493">The style settings for the footer row of the FormView control.</span></span> |
| <span data-ttu-id="39ba0-494">HeaderStyle</span><span class="sxs-lookup"><span data-stu-id="39ba0-494">HeaderStyle</span></span> | <span data-ttu-id="39ba0-495">FormView 控制項之標頭資料列的樣式設定。</span><span class="sxs-lookup"><span data-stu-id="39ba0-495">The style settings for the header row of the FormView control.</span></span> |
| <span data-ttu-id="39ba0-496">InsertRowStyle</span><span class="sxs-lookup"><span data-stu-id="39ba0-496">InsertRowStyle</span></span> | <span data-ttu-id="39ba0-497">當 FormView 控制項處於插入模式時，資料列的樣式設定。</span><span class="sxs-lookup"><span data-stu-id="39ba0-497">The style settings for the data row when the FormView control is in insert mode.</span></span> |
| <span data-ttu-id="39ba0-498">PagerStyle</span><span class="sxs-lookup"><span data-stu-id="39ba0-498">PagerStyle</span></span> | <span data-ttu-id="39ba0-499">啟用分頁功能時，在 FormView 控制項中顯示之分頁資料列的樣式設定。</span><span class="sxs-lookup"><span data-stu-id="39ba0-499">The style settings for the pager row displayed in the FormView control when the paging feature is enabled.</span></span> |
| <span data-ttu-id="39ba0-500">RowStyle</span><span class="sxs-lookup"><span data-stu-id="39ba0-500">RowStyle</span></span> | <span data-ttu-id="39ba0-501">當 FormView 控制項為唯讀模式時，資料列的樣式設定。</span><span class="sxs-lookup"><span data-stu-id="39ba0-501">The style settings for the data row when the FormView control is in read-only mode.</span></span> |

## <a name="events"></a><span data-ttu-id="39ba0-502">事件</span><span class="sxs-lookup"><span data-stu-id="39ba0-502">Events</span></span>

<span data-ttu-id="39ba0-503">FormView 控制項提供幾個您可以針對進行程式設計的事件。</span><span class="sxs-lookup"><span data-stu-id="39ba0-503">The FormView control provides several events that you can program against.</span></span> <span data-ttu-id="39ba0-504">這可讓您在每次發生事件時執行自訂常式。</span><span class="sxs-lookup"><span data-stu-id="39ba0-504">This allows you to run a custom routine whenever an event occurs.</span></span> <span data-ttu-id="39ba0-505">下表列出 FormView 控制項所支援的事件。</span><span class="sxs-lookup"><span data-stu-id="39ba0-505">The following table lists the events supported by the FormView control.</span></span>

| <span data-ttu-id="39ba0-506">**Event**</span><span class="sxs-lookup"><span data-stu-id="39ba0-506">**Event**</span></span> | <span data-ttu-id="39ba0-507">**說明**</span><span class="sxs-lookup"><span data-stu-id="39ba0-507">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="39ba0-508">ItemCommand</span><span class="sxs-lookup"><span data-stu-id="39ba0-508">ItemCommand</span></span> | <span data-ttu-id="39ba0-509">按一下 FormView 控制項內的按鈕時發生。</span><span class="sxs-lookup"><span data-stu-id="39ba0-509">Occurs when a button within a FormView control is clicked.</span></span> <span data-ttu-id="39ba0-510">當您按一下控制項中的按鈕時，通常會使用這個事件來執行工作。</span><span class="sxs-lookup"><span data-stu-id="39ba0-510">This event is often used to perform a task when a button is clicked in the control.</span></span> |
| <span data-ttu-id="39ba0-511">ItemCreated</span><span class="sxs-lookup"><span data-stu-id="39ba0-511">ItemCreated</span></span> | <span data-ttu-id="39ba0-512">在 FormView 控制項中建立所有 FormViewRow 物件之後發生。</span><span class="sxs-lookup"><span data-stu-id="39ba0-512">Occurs after all FormViewRow objects are created in the FormView control.</span></span> <span data-ttu-id="39ba0-513">此事件通常用來在顯示記錄之前修改其值。</span><span class="sxs-lookup"><span data-stu-id="39ba0-513">This event is often used to modify the values of a record before it is displayed.</span></span> |
| <span data-ttu-id="39ba0-514">ItemDeleted</span><span class="sxs-lookup"><span data-stu-id="39ba0-514">ItemDeleted</span></span> | <span data-ttu-id="39ba0-515">當按一下 [刪除] 按鈕（其**CommandName**屬性設定為 "Delete" 的按鈕）時發生，但在 FormView 控制項刪除資料來源中的記錄之後。</span><span class="sxs-lookup"><span data-stu-id="39ba0-515">Occurs when a Delete button (a button with its **CommandName** property set to "Delete") is clicked, but after the FormView control deletes the record from the data source.</span></span> <span data-ttu-id="39ba0-516">這個事件通常用來檢查刪除作業的結果。</span><span class="sxs-lookup"><span data-stu-id="39ba0-516">This event is often used to check the results of the delete operation.</span></span> |
| <span data-ttu-id="39ba0-517">ItemDeleting</span><span class="sxs-lookup"><span data-stu-id="39ba0-517">ItemDeleting</span></span> | <span data-ttu-id="39ba0-518">發生于按一下 [刪除] 按鈕時，但在 FormView 控制項從資料來源刪除記錄之前。</span><span class="sxs-lookup"><span data-stu-id="39ba0-518">Occurs when a Delete button is clicked, but before the FormView control deletes the record from the data source.</span></span> <span data-ttu-id="39ba0-519">這個事件通常用來取消刪除作業。</span><span class="sxs-lookup"><span data-stu-id="39ba0-519">This event is often used to cancel the delete operation.</span></span> |
| <span data-ttu-id="39ba0-520">ItemInserted</span><span class="sxs-lookup"><span data-stu-id="39ba0-520">ItemInserted</span></span> | <span data-ttu-id="39ba0-521">發生于按一下 [插入] 按鈕（其**CommandName**屬性設定為 "Insert" 的按鈕）時，但在 FormView 控制項插入記錄之後。</span><span class="sxs-lookup"><span data-stu-id="39ba0-521">Occurs when an Insert button (a button with its **CommandName** property set to "Insert") is clicked, but after the FormView control inserts the record.</span></span> <span data-ttu-id="39ba0-522">這個事件通常用來檢查插入作業的結果。</span><span class="sxs-lookup"><span data-stu-id="39ba0-522">This event is often used to check the results of the insert operation.</span></span> |
| <span data-ttu-id="39ba0-523">ItemInserting</span><span class="sxs-lookup"><span data-stu-id="39ba0-523">ItemInserting</span></span> | <span data-ttu-id="39ba0-524">發生于按一下 [插入] 按鈕時，但在 FormView 控制項插入記錄之前。</span><span class="sxs-lookup"><span data-stu-id="39ba0-524">Occurs when an Insert button is clicked, but before the FormView control inserts the record.</span></span> <span data-ttu-id="39ba0-525">這個事件通常用來取消插入作業。</span><span class="sxs-lookup"><span data-stu-id="39ba0-525">This event is often used to cancel the insert operation.</span></span> |
| <span data-ttu-id="39ba0-526">ItemUpdated</span><span class="sxs-lookup"><span data-stu-id="39ba0-526">ItemUpdated</span></span> | <span data-ttu-id="39ba0-527">發生于按一下 [更新] 按鈕（其**CommandName**屬性設定為 "Update" 的按鈕）時，但在 FormView 控制項更新資料列之後。</span><span class="sxs-lookup"><span data-stu-id="39ba0-527">Occurs when an Update button (a button with its **CommandName** property set to "Update") is clicked, but after the FormView control updates the row.</span></span> <span data-ttu-id="39ba0-528">此事件通常用來檢查更新作業的結果。</span><span class="sxs-lookup"><span data-stu-id="39ba0-528">This event is often used to check the results of the update operation.</span></span> |
| <span data-ttu-id="39ba0-529">ItemUpdating</span><span class="sxs-lookup"><span data-stu-id="39ba0-529">ItemUpdating</span></span> | <span data-ttu-id="39ba0-530">發生于按一下 [更新] 按鈕時，但在 FormView 控制項更新記錄之前。</span><span class="sxs-lookup"><span data-stu-id="39ba0-530">Occurs when an Update button is clicked, but before the FormView control updates the record.</span></span> <span data-ttu-id="39ba0-531">此事件通常用來取消更新作業。</span><span class="sxs-lookup"><span data-stu-id="39ba0-531">This event is often used to cancel the update operation.</span></span> |
| <span data-ttu-id="39ba0-532">ModeChanged</span><span class="sxs-lookup"><span data-stu-id="39ba0-532">ModeChanged</span></span> | <span data-ttu-id="39ba0-533">在 FormView 控制項變更模式（以編輯、插入或唯讀模式）之後發生。</span><span class="sxs-lookup"><span data-stu-id="39ba0-533">Occurs after the FormView control changes modes (to edit, insert, or read-only mode).</span></span> <span data-ttu-id="39ba0-534">當 FormView 控制項變更模式時，通常會使用這個事件來執行工作。</span><span class="sxs-lookup"><span data-stu-id="39ba0-534">This event is often used to perform a task when the FormView control changes modes.</span></span> |
| <span data-ttu-id="39ba0-535">ModeChanging</span><span class="sxs-lookup"><span data-stu-id="39ba0-535">ModeChanging</span></span> | <span data-ttu-id="39ba0-536">在 FormView 控制項變更模式之前發生（以編輯、插入或唯讀模式）。</span><span class="sxs-lookup"><span data-stu-id="39ba0-536">Occurs before the FormView control changes modes (to edit, insert, or read-only mode).</span></span> <span data-ttu-id="39ba0-537">這個事件通常用來取消模式變更。</span><span class="sxs-lookup"><span data-stu-id="39ba0-537">This event is often used to cancel a mode change.</span></span> |
| <span data-ttu-id="39ba0-538">PageIndexChanged</span><span class="sxs-lookup"><span data-stu-id="39ba0-538">PageIndexChanged</span></span> | <span data-ttu-id="39ba0-539">發生于按一下其中一個分頁程式按鈕時，但在 FormView 控制項處理分頁作業之後。</span><span class="sxs-lookup"><span data-stu-id="39ba0-539">Occurs when one of the pager buttons is clicked, but after the FormView control handles the paging operation.</span></span> <span data-ttu-id="39ba0-540">當您需要在使用者導覽至控制項中的不同記錄之後執行工作時，通常會使用這個事件。</span><span class="sxs-lookup"><span data-stu-id="39ba0-540">This event is commonly used when you need to perform a task after the user navigates to a different record in the control.</span></span> |
| <span data-ttu-id="39ba0-541">PageIndexChanging</span><span class="sxs-lookup"><span data-stu-id="39ba0-541">PageIndexChanging</span></span> | <span data-ttu-id="39ba0-542">發生于按一下其中一個分頁程式按鈕時，但在 FormView 控制項處理分頁作業之前。</span><span class="sxs-lookup"><span data-stu-id="39ba0-542">Occurs when one of the pager buttons is clicked, but before the FormView control handles the paging operation.</span></span> <span data-ttu-id="39ba0-543">此事件通常用來取消分頁作業。</span><span class="sxs-lookup"><span data-stu-id="39ba0-543">This event is often used to cancel the paging operation.</span></span> |

## <a name="detailsview"></a><span data-ttu-id="39ba0-544">DetailsView</span><span class="sxs-lookup"><span data-stu-id="39ba0-544">DetailsView</span></span>

<span data-ttu-id="39ba0-545">DetailsView 控制項是用來顯示資料表中資料來源的單一記錄，其中記錄的每個欄位都會顯示在資料表的一列中。</span><span class="sxs-lookup"><span data-stu-id="39ba0-545">The DetailsView control is used to display a single record from a data source in a table, where each field of the record is displayed in a row of the table.</span></span> <span data-ttu-id="39ba0-546">它可以與 GridView 控制項搭配使用，以取得主要詳細資料案例。</span><span class="sxs-lookup"><span data-stu-id="39ba0-546">It can be used in combination with a GridView control for master-detail scenarios.</span></span> <span data-ttu-id="39ba0-547">DetailsView 控制項支援下列功能：</span><span class="sxs-lookup"><span data-stu-id="39ba0-547">The DetailsView control supports the following features:</span></span>

- <span data-ttu-id="39ba0-548">系結至資料來源控制項，例如 SqlDataSource。</span><span class="sxs-lookup"><span data-stu-id="39ba0-548">Binding to data source controls, such as SqlDataSource.</span></span>
- <span data-ttu-id="39ba0-549">內建的插入功能。</span><span class="sxs-lookup"><span data-stu-id="39ba0-549">Built-in inserting capabilities.</span></span>
- <span data-ttu-id="39ba0-550">內建的更新和刪除功能。</span><span class="sxs-lookup"><span data-stu-id="39ba0-550">Built-in updating and deleting capabilities.</span></span>
- <span data-ttu-id="39ba0-551">內建分頁功能。</span><span class="sxs-lookup"><span data-stu-id="39ba0-551">Built-in paging capabilities.</span></span>
- <span data-ttu-id="39ba0-552">以程式設計方式存取 DetailsView 物件模型，以動態設定屬性、處理事件等等。</span><span class="sxs-lookup"><span data-stu-id="39ba0-552">Programmatic access to the DetailsView object model to dynamically set properties, handle events, and so on.</span></span>
- <span data-ttu-id="39ba0-553">透過主題和樣式可自訂的外觀。</span><span class="sxs-lookup"><span data-stu-id="39ba0-553">Customizable appearance through themes and styles.</span></span>

## <a name="row-fields"></a><span data-ttu-id="39ba0-554">資料欄欄位</span><span class="sxs-lookup"><span data-stu-id="39ba0-554">Row Fields</span></span>

<span data-ttu-id="39ba0-555">DetailsView 控制項中的每個資料列都是藉由宣告欄位控制項來建立。</span><span class="sxs-lookup"><span data-stu-id="39ba0-555">Each data row in the DetailsView control is created by declaring a field control.</span></span> <span data-ttu-id="39ba0-556">不同的資料欄欄位類型決定了控制項中資料列的行為。</span><span class="sxs-lookup"><span data-stu-id="39ba0-556">Different row field types determine the behavior of the rows in the control.</span></span> <span data-ttu-id="39ba0-557">欄位控制項衍生自 DataControlField。</span><span class="sxs-lookup"><span data-stu-id="39ba0-557">Field controls derive from DataControlField.</span></span> <span data-ttu-id="39ba0-558">下表列出可以使用的不同資料欄欄位類型。</span><span class="sxs-lookup"><span data-stu-id="39ba0-558">The following table lists the different row field types that can be used.</span></span>

| <span data-ttu-id="39ba0-559">**資料列欄位類型**</span><span class="sxs-lookup"><span data-stu-id="39ba0-559">**Column field type**</span></span> | <span data-ttu-id="39ba0-560">**說明**</span><span class="sxs-lookup"><span data-stu-id="39ba0-560">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="39ba0-561">BoundField</span><span class="sxs-lookup"><span data-stu-id="39ba0-561">BoundField</span></span> | <span data-ttu-id="39ba0-562">將資料來源中的欄位值顯示為文字。</span><span class="sxs-lookup"><span data-stu-id="39ba0-562">Displays the value of a field in a data source as text.</span></span> |
| <span data-ttu-id="39ba0-563">ButtonField</span><span class="sxs-lookup"><span data-stu-id="39ba0-563">ButtonField</span></span> | <span data-ttu-id="39ba0-564">在 DetailsView 控制項中顯示命令按鈕。</span><span class="sxs-lookup"><span data-stu-id="39ba0-564">Displays a command button in the DetailsView control.</span></span> <span data-ttu-id="39ba0-565">這可讓您顯示具有自訂按鈕控制項的資料列，例如 [加入] 或 [移除] 按鈕。</span><span class="sxs-lookup"><span data-stu-id="39ba0-565">This allows you to display a row with a custom button control, such as an Add or a Remove button.</span></span> |
| <span data-ttu-id="39ba0-566">CheckBoxField</span><span class="sxs-lookup"><span data-stu-id="39ba0-566">CheckBoxField</span></span> | <span data-ttu-id="39ba0-567">在 DetailsView 控制項中顯示覆選框。</span><span class="sxs-lookup"><span data-stu-id="39ba0-567">Displays a check box in the DetailsView control.</span></span> <span data-ttu-id="39ba0-568">此資料欄欄位類型通常用來顯示包含布林值的欄位。</span><span class="sxs-lookup"><span data-stu-id="39ba0-568">This row field type is commonly used to display fields with a Boolean value.</span></span> |
| <span data-ttu-id="39ba0-569">CommandField</span><span class="sxs-lookup"><span data-stu-id="39ba0-569">CommandField</span></span> | <span data-ttu-id="39ba0-570">顯示內建命令按鈕，以在 DetailsView 控制項中執行編輯、插入或刪除作業。</span><span class="sxs-lookup"><span data-stu-id="39ba0-570">Displays built-in command buttons to perform edit, insert, or delete operations in the DetailsView control.</span></span> |
| <span data-ttu-id="39ba0-571">HyperLinkField</span><span class="sxs-lookup"><span data-stu-id="39ba0-571">HyperLinkField</span></span> | <span data-ttu-id="39ba0-572">將資料來源中的欄位值顯示為超連結。</span><span class="sxs-lookup"><span data-stu-id="39ba0-572">Displays the value of a field in a data source as a hyperlink.</span></span> <span data-ttu-id="39ba0-573">此資料欄欄位類型可讓您將第二個欄位系結至超連結的 URL。</span><span class="sxs-lookup"><span data-stu-id="39ba0-573">This row field type allows you to bind a second field to the hyperlink's URL.</span></span> |
| <span data-ttu-id="39ba0-574">ImageField</span><span class="sxs-lookup"><span data-stu-id="39ba0-574">ImageField</span></span> | <span data-ttu-id="39ba0-575">在 DetailsView 控制項中顯示影像。</span><span class="sxs-lookup"><span data-stu-id="39ba0-575">Displays an image in the DetailsView control.</span></span> |
| <span data-ttu-id="39ba0-576">TemplateField</span><span class="sxs-lookup"><span data-stu-id="39ba0-576">TemplateField</span></span> | <span data-ttu-id="39ba0-577">根據指定的範本，顯示 DetailsView 控制項中資料列的使用者定義內容。</span><span class="sxs-lookup"><span data-stu-id="39ba0-577">Displays user-defined content for a row in the DetailsView control according to a specified template.</span></span> <span data-ttu-id="39ba0-578">此資料欄欄位類型可讓您建立自訂的資料欄欄位。</span><span class="sxs-lookup"><span data-stu-id="39ba0-578">This row field type allows you to create a custom row field.</span></span> |

<span data-ttu-id="39ba0-579">根據預設，AutoGenerateRows 屬性會設定為**true**，它會針對資料來源中可系結類型的每個欄位，自動產生系結的資料欄欄位物件。</span><span class="sxs-lookup"><span data-stu-id="39ba0-579">By default, the AutoGenerateRows property is set to **true**, which automatically generates a bound row field object for each field of a bindable type in the data source.</span></span> <span data-ttu-id="39ba0-580">有效的可系結類型為 String、DateTime、Decimal、Guid 和一組基本型別。</span><span class="sxs-lookup"><span data-stu-id="39ba0-580">Valid bindable types are String, DateTime, Decimal, Guid, and the set of primitive types.</span></span> <span data-ttu-id="39ba0-581">然後每個欄位都會以文字的形式顯示在資料列中，而每個欄位的順序會依每個欄位出現在資料來源中。</span><span class="sxs-lookup"><span data-stu-id="39ba0-581">Each field is then displayed in a row as text, in the order in which each field appears in the data source.</span></span>

<span data-ttu-id="39ba0-582">自動產生資料列提供快速且簡單的方式來顯示記錄中的每個欄位。</span><span class="sxs-lookup"><span data-stu-id="39ba0-582">Automatically generating the rows provides a quick and easy way to display every field in the record.</span></span> <span data-ttu-id="39ba0-583">不過，若要利用 DetailsView 控制項的先進功能，您必須明確宣告要包含在 DetailsView 控制項中的資料欄欄位。</span><span class="sxs-lookup"><span data-stu-id="39ba0-583">However, to make use of the DetailsView control's advanced capabilities you must explicitly declare the row fields to include in the DetailsView control.</span></span> <span data-ttu-id="39ba0-584">若要宣告資料欄欄位，請先將**AutoGenerateRows**屬性設定為**false**。</span><span class="sxs-lookup"><span data-stu-id="39ba0-584">To declare the row fields, first set the **AutoGenerateRows** property to **false**.</span></span> <span data-ttu-id="39ba0-585">接下來，在 DetailsView 控制項的開頭和結束記號之間加入開頭和結尾 **&lt;欄位&gt;** 標記。</span><span class="sxs-lookup"><span data-stu-id="39ba0-585">Next, add opening and closing **&lt;Fields&gt;** tags between the opening and closing tags of the DetailsView control.</span></span> <span data-ttu-id="39ba0-586">最後，列出您要包含在開頭和結尾 **&lt;欄位&gt;** 標記之間的資料欄欄位。</span><span class="sxs-lookup"><span data-stu-id="39ba0-586">Finally, list the row fields that you want to include between the opening and closing **&lt;Fields&gt;** tags.</span></span> <span data-ttu-id="39ba0-587">所指定的資料欄欄位會依照列出的順序加入 [欄位] 集合中。</span><span class="sxs-lookup"><span data-stu-id="39ba0-587">The row fields specified are added to the Fields collection in the order listed.</span></span> <span data-ttu-id="39ba0-588">**Fields**集合可讓您以程式設計方式管理 DetailsView 控制項中的資料欄欄位。</span><span class="sxs-lookup"><span data-stu-id="39ba0-588">The **Fields** collection allows you to programmatically manage the row fields in the DetailsView control.</span></span>

> [!NOTE]
> <span data-ttu-id="39ba0-589">自動產生的資料欄欄位不會加入至 Fields 集合。</span><span class="sxs-lookup"><span data-stu-id="39ba0-589">Automatically generated row fields are not added to the Fields collection.</span></span>

## <a name="binding-to-data"></a><span data-ttu-id="39ba0-590">系結至資料</span><span class="sxs-lookup"><span data-stu-id="39ba0-590">Binding to Data</span></span>

<span data-ttu-id="39ba0-591">DetailsView 控制項可以系結至資料來源控制項（例如**SqlDataSource**或 AccessDataSource），或系結至任何可執行 system.string 介面的資料來源，例如 System.web、system.web、System.string 和 System.object。 Hashtable。</span><span class="sxs-lookup"><span data-stu-id="39ba0-591">The DetailsView control can be bound to a data source control, such as **SqlDataSource** or AccessDataSource, or to any data source that implements the System.Collections.IEnumerable interface, such as System.Data.DataView, System.Collections.ArrayList and System.Collections.Hashtable.</span></span>

<span data-ttu-id="39ba0-592">使用下列其中一種方法，將 DetailsView 控制項系結至適當的資料來源類型：</span><span class="sxs-lookup"><span data-stu-id="39ba0-592">Use one of the following methods to bind the DetailsView control to the appropriate data source type:</span></span>

- <span data-ttu-id="39ba0-593">若要系結至資料來源控制項，請將 DetailsView 控制項的 DataSourceID 屬性設定為數據源控制項的識別碼值。</span><span class="sxs-lookup"><span data-stu-id="39ba0-593">To bind to a data source control, set the DataSourceID property of the DetailsView control to the ID value of the data source control.</span></span> <span data-ttu-id="39ba0-594">DetailsView 控制項會自動系結至指定的資料來源控制項。</span><span class="sxs-lookup"><span data-stu-id="39ba0-594">The DetailsView control automatically binds to the specified data source control.</span></span> <span data-ttu-id="39ba0-595">這是系結至資料的慣用方法。</span><span class="sxs-lookup"><span data-stu-id="39ba0-595">This is the preferred method to bind to data.</span></span>
- <span data-ttu-id="39ba0-596">若要系結至可執行**system.string 介面的**資料來源，請以程式設計方式將 DetailsView 控制項的 DataSource 屬性設定為數據源，然後再呼叫 DataBind 方法。</span><span class="sxs-lookup"><span data-stu-id="39ba0-596">To bind to a data source that implements the **System.Collections.IEnumerable** interface, programmatically set the DataSource property of the DetailsView control to the data source and then call the DataBind method.</span></span>

## <a name="security"></a><span data-ttu-id="39ba0-597">安全性</span><span class="sxs-lookup"><span data-stu-id="39ba0-597">Security</span></span>

<span data-ttu-id="39ba0-598">這個控制項可以用來顯示使用者輸入，其中可能包含惡意的用戶端腳本。</span><span class="sxs-lookup"><span data-stu-id="39ba0-598">This control can be used to display user input, which might include malicious client script.</span></span> <span data-ttu-id="39ba0-599">在應用程式中顯示之前，檢查是否有任何從用戶端針對可執行檔腳本、SQL 語句或其他程式碼傳送的資訊。</span><span class="sxs-lookup"><span data-stu-id="39ba0-599">Check any information that is sent from a client for executable script, SQL statements, or other code before displaying it in your application.</span></span> <span data-ttu-id="39ba0-600">ASP.NET 提供輸入要求驗證功能，以封鎖使用者輸入中的腳本和 HTML。</span><span class="sxs-lookup"><span data-stu-id="39ba0-600">ASP.NET provides an input request validation feature to block script and HTML in user input.</span></span>

## <a name="data-operations"></a><span data-ttu-id="39ba0-601">資料作業</span><span class="sxs-lookup"><span data-stu-id="39ba0-601">Data Operations</span></span>

<span data-ttu-id="39ba0-602">DetailsView 控制項提供內建功能，可讓使用者更新、刪除、插入及逐頁流覽控制項中的專案。</span><span class="sxs-lookup"><span data-stu-id="39ba0-602">The DetailsView control provides built-in capabilities that allow the user to update, delete, insert, and page through items in the control.</span></span> <span data-ttu-id="39ba0-603">當 DetailsView 控制項系結至資料來源控制項時，DetailsView 控制項可以利用資料來源控制項的功能，並提供自動更新、刪除、插入和分頁功能。</span><span class="sxs-lookup"><span data-stu-id="39ba0-603">When the DetailsView control is bound to a data source control, the DetailsView control can take advantage of the data source control's capabilities and provide automatic updating, deleting, inserting, and paging functionality.</span></span>

<span data-ttu-id="39ba0-604">DetailsView 控制項可以提供與其他資料來源類型之更新、刪除、插入和分頁作業的支援;不過，您必須在適當的事件處理常式中提供這些作業的執行。</span><span class="sxs-lookup"><span data-stu-id="39ba0-604">The DetailsView control can provide support for update, delete, insert, and paging operations with other types of data sources; however, you must provide the implementation for these operations in an appropriate event handler.</span></span>

<span data-ttu-id="39ba0-605">DetailsView 控制項可以將 AutoGenerateEditButton、AutoGenerateDeleteButton 或 AutoGenerateInsertButton 屬性分別設定為**true**，以自動加入具有 [編輯]、[刪除] 或 [新增] 按鈕的**CommandField**資料欄欄位。</span><span class="sxs-lookup"><span data-stu-id="39ba0-605">The DetailsView control can automatically add a **CommandField** row field with an Edit, Delete, or New button by setting the AutoGenerateEditButton, AutoGenerateDeleteButton, or AutoGenerateInsertButton properties to **true**, respectively.</span></span> <span data-ttu-id="39ba0-606">與 [刪除] 按鈕（會立即刪除選取的記錄）不同的是，按一下 [編輯] 或 [新增] 按鈕時，DetailsView 控制項會分別進入編輯或插入模式。</span><span class="sxs-lookup"><span data-stu-id="39ba0-606">Unlike the Delete button (which deletes the selected record immediately), when the Edit or New button is clicked, the DetailsView control goes into edit or insert mode, respectively.</span></span> <span data-ttu-id="39ba0-607">在編輯模式中，[編輯] 按鈕會取代為 [更新] 和 [取消] 按鈕。</span><span class="sxs-lookup"><span data-stu-id="39ba0-607">In edit mode, the Edit button is replaced with an Update and a Cancel button.</span></span> <span data-ttu-id="39ba0-608">欄位的資料類型（例如 TextBox 或 CheckBox 控制項）適用的輸入控制項，會顯示欄位的值供使用者修改。</span><span class="sxs-lookup"><span data-stu-id="39ba0-608">Input controls that are appropriate for the field's data type (such as a TextBox or a CheckBox control) are displayed with a field's value for the user to modify.</span></span> <span data-ttu-id="39ba0-609">按一下 [更新] 按鈕會更新資料來源中的記錄，而按一下 [取消] 按鈕會放棄任何變更。</span><span class="sxs-lookup"><span data-stu-id="39ba0-609">Clicking the Update button updates the record in the data source, while clicking the Cancel button abandons any changes.</span></span> <span data-ttu-id="39ba0-610">同樣地，在插入模式中，會使用 [插入] 和 [取消] 按鈕取代 [新增] 按鈕，並顯示空的輸入控制項，讓使用者輸入新記錄的值。</span><span class="sxs-lookup"><span data-stu-id="39ba0-610">Likewise, in insert mode, the New button is replaced with an Insert and a Cancel button, and empty input controls are displayed for the user to enter the values for the new record.</span></span>

<span data-ttu-id="39ba0-611">DetailsView 控制項提供分頁功能，可讓使用者流覽至資料來源中的其他記錄。</span><span class="sxs-lookup"><span data-stu-id="39ba0-611">The DetailsView control provides a paging feature, which allows the user to navigate to other records in the data source.</span></span> <span data-ttu-id="39ba0-612">啟用時，頁面導覽控制項就會顯示在 [呼機] 資料列中。</span><span class="sxs-lookup"><span data-stu-id="39ba0-612">When enabled, page navigation controls are displayed in a pager row.</span></span> <span data-ttu-id="39ba0-613">若要啟用分頁，請將 AllowPaging 屬性設定為**true**。</span><span class="sxs-lookup"><span data-stu-id="39ba0-613">To enable paging, set the AllowPaging property to **true**.</span></span> <span data-ttu-id="39ba0-614">您可以使用 PagerStyle 和 PagerSettings 屬性來自訂頁面巡覽列。</span><span class="sxs-lookup"><span data-stu-id="39ba0-614">The pager row can be customized using the PagerStyle and PagerSettings properties.</span></span>

## <a name="customizing-the-user-interface"></a><span data-ttu-id="39ba0-615">自訂使用者介面</span><span class="sxs-lookup"><span data-stu-id="39ba0-615">Customizing the User Interface</span></span>

<span data-ttu-id="39ba0-616">您可以針對控制項的不同部分設定樣式屬性，以自訂 DetailsView 控制項的外觀。</span><span class="sxs-lookup"><span data-stu-id="39ba0-616">You can customize the appearance of the DetailsView control by setting the style properties for the different parts of the control.</span></span> <span data-ttu-id="39ba0-617">下表列出不同的樣式屬性。</span><span class="sxs-lookup"><span data-stu-id="39ba0-617">The following table lists the different style properties.</span></span>

| <span data-ttu-id="39ba0-618">**Style 屬性**</span><span class="sxs-lookup"><span data-stu-id="39ba0-618">**Style property**</span></span> | <span data-ttu-id="39ba0-619">**說明**</span><span class="sxs-lookup"><span data-stu-id="39ba0-619">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="39ba0-620">AlternatingRowStyle</span><span class="sxs-lookup"><span data-stu-id="39ba0-620">AlternatingRowStyle</span></span> | <span data-ttu-id="39ba0-621">DetailsView 控制項中交替資料列的樣式設定。</span><span class="sxs-lookup"><span data-stu-id="39ba0-621">The style settings for the alternating data rows in the DetailsView control.</span></span> <span data-ttu-id="39ba0-622">設定此屬性時，會在 RowStyle 設定與**AlternatingRowStyle**設定之間交替顯示資料列。</span><span class="sxs-lookup"><span data-stu-id="39ba0-622">When this property is set, the data rows are displayed alternating between the RowStyle settings and the **AlternatingRowStyle** settings.</span></span> |
| <span data-ttu-id="39ba0-623">CommandRowStyle</span><span class="sxs-lookup"><span data-stu-id="39ba0-623">CommandRowStyle</span></span> | <span data-ttu-id="39ba0-624">資料列的樣式設定，其中包含 DetailsView 控制項中的內建命令按鈕。</span><span class="sxs-lookup"><span data-stu-id="39ba0-624">The style settings for the row containing the built-in command buttons in the DetailsView control.</span></span> |
| <span data-ttu-id="39ba0-625">EditRowStyle</span><span class="sxs-lookup"><span data-stu-id="39ba0-625">EditRowStyle</span></span> | <span data-ttu-id="39ba0-626">當 DetailsView 控制項處於編輯模式時，資料列的樣式設定。</span><span class="sxs-lookup"><span data-stu-id="39ba0-626">The style settings for the data rows when the DetailsView control is in edit mode.</span></span> |
| <span data-ttu-id="39ba0-627">EmptyDataRowStyle</span><span class="sxs-lookup"><span data-stu-id="39ba0-627">EmptyDataRowStyle</span></span> | <span data-ttu-id="39ba0-628">當資料來源不包含任何記錄時，在 DetailsView 控制項中顯示之空白資料列的樣式設定。</span><span class="sxs-lookup"><span data-stu-id="39ba0-628">The style settings for the empty data row displayed in the DetailsView control when the data source does not contain any records.</span></span> |
| <span data-ttu-id="39ba0-629">FooterStyle</span><span class="sxs-lookup"><span data-stu-id="39ba0-629">FooterStyle</span></span> | <span data-ttu-id="39ba0-630">DetailsView 控制項之頁尾資料列的樣式設定。</span><span class="sxs-lookup"><span data-stu-id="39ba0-630">The style settings for the footer row of the DetailsView control.</span></span> |
| <span data-ttu-id="39ba0-631">HeaderStyle</span><span class="sxs-lookup"><span data-stu-id="39ba0-631">HeaderStyle</span></span> | <span data-ttu-id="39ba0-632">DetailsView 控制項之標頭資料列的樣式設定。</span><span class="sxs-lookup"><span data-stu-id="39ba0-632">The style settings for the header row of the DetailsView control.</span></span> |
| <span data-ttu-id="39ba0-633">InsertRowStyle</span><span class="sxs-lookup"><span data-stu-id="39ba0-633">InsertRowStyle</span></span> | <span data-ttu-id="39ba0-634">當 DetailsView 控制項處於插入模式時，資料列的樣式設定。</span><span class="sxs-lookup"><span data-stu-id="39ba0-634">The style settings for the data rows when the DetailsView control is in insert mode.</span></span> |
| <span data-ttu-id="39ba0-635">PagerStyle</span><span class="sxs-lookup"><span data-stu-id="39ba0-635">PagerStyle</span></span> | <span data-ttu-id="39ba0-636">DetailsView 控制項之分頁資料列的樣式設定。</span><span class="sxs-lookup"><span data-stu-id="39ba0-636">The style settings for the pager row of the DetailsView control.</span></span> |
| <span data-ttu-id="39ba0-637">RowStyle</span><span class="sxs-lookup"><span data-stu-id="39ba0-637">RowStyle</span></span> | <span data-ttu-id="39ba0-638">DetailsView 控制項中資料列的樣式設定。</span><span class="sxs-lookup"><span data-stu-id="39ba0-638">The style settings for the data rows in the DetailsView control.</span></span> <span data-ttu-id="39ba0-639">同時設定**AlternatingRowStyle**屬性時，會在**RowStyle**設定和**AlternatingRowStyle**設定之間交替顯示資料列。</span><span class="sxs-lookup"><span data-stu-id="39ba0-639">When the **AlternatingRowStyle** property is also set, the data rows are displayed alternating between the **RowStyle** settings and the **AlternatingRowStyle** settings.</span></span> |
| <span data-ttu-id="39ba0-640">FieldHeaderStyle</span><span class="sxs-lookup"><span data-stu-id="39ba0-640">FieldHeaderStyle</span></span> | <span data-ttu-id="39ba0-641">DetailsView 控制項之標頭資料行的樣式設定。</span><span class="sxs-lookup"><span data-stu-id="39ba0-641">The style settings for the header column of the DetailsView control.</span></span> |

## <a name="events"></a><span data-ttu-id="39ba0-642">事件</span><span class="sxs-lookup"><span data-stu-id="39ba0-642">Events</span></span>

<span data-ttu-id="39ba0-643">DetailsView 控制項提供幾個您可以對其進行程式設計的事件。</span><span class="sxs-lookup"><span data-stu-id="39ba0-643">The DetailsView control provides several events that you can program against.</span></span> <span data-ttu-id="39ba0-644">這可讓您在每次發生事件時執行自訂常式。</span><span class="sxs-lookup"><span data-stu-id="39ba0-644">This allows you to run a custom routine whenever an event occurs.</span></span> <span data-ttu-id="39ba0-645">下表列出 DetailsView 控制項所支援的事件。</span><span class="sxs-lookup"><span data-stu-id="39ba0-645">The following table lists the events supported by the DetailsView control.</span></span> <span data-ttu-id="39ba0-646">DetailsView 控制項也會從其基類繼承這些事件：資料系結、資料系結、處置、初始化、載入、呈現和轉譯。</span><span class="sxs-lookup"><span data-stu-id="39ba0-646">The DetailsView control also inherits these events from its base classes: DataBinding, DataBound, Disposed, Init, Load, PreRender, and Render.</span></span>

| <span data-ttu-id="39ba0-647">**Event**</span><span class="sxs-lookup"><span data-stu-id="39ba0-647">**Event**</span></span> | <span data-ttu-id="39ba0-648">**說明**</span><span class="sxs-lookup"><span data-stu-id="39ba0-648">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="39ba0-649">ItemCommand</span><span class="sxs-lookup"><span data-stu-id="39ba0-649">ItemCommand</span></span> | <span data-ttu-id="39ba0-650">發生于在 DetailsView 控制項中按一下按鈕時。</span><span class="sxs-lookup"><span data-stu-id="39ba0-650">Occurs when a button is clicked in the DetailsView control.</span></span> |
| <span data-ttu-id="39ba0-651">ItemCreated</span><span class="sxs-lookup"><span data-stu-id="39ba0-651">ItemCreated</span></span> | <span data-ttu-id="39ba0-652">在 DetailsView 控制項中建立所有 DetailsViewRow 物件之後發生。</span><span class="sxs-lookup"><span data-stu-id="39ba0-652">Occurs after all DetailsViewRow objects are created in the DetailsView control.</span></span> <span data-ttu-id="39ba0-653">此事件通常用來在顯示記錄之前修改其值。</span><span class="sxs-lookup"><span data-stu-id="39ba0-653">This event is often used to modify the values of a record before it is displayed.</span></span> |
| <span data-ttu-id="39ba0-654">ItemDeleted</span><span class="sxs-lookup"><span data-stu-id="39ba0-654">ItemDeleted</span></span> | <span data-ttu-id="39ba0-655">發生于按一下 [刪除] 按鈕時，但在 DetailsView 控制項從資料來源刪除記錄之後。</span><span class="sxs-lookup"><span data-stu-id="39ba0-655">Occurs when a Delete button is clicked, but after the DetailsView control deletes the record from the data source.</span></span> <span data-ttu-id="39ba0-656">這個事件通常用來檢查刪除作業的結果。</span><span class="sxs-lookup"><span data-stu-id="39ba0-656">This event is often used to check the results of the delete operation.</span></span> |
| <span data-ttu-id="39ba0-657">ItemDeleting</span><span class="sxs-lookup"><span data-stu-id="39ba0-657">ItemDeleting</span></span> | <span data-ttu-id="39ba0-658">發生于按一下 [刪除] 按鈕時，但在 DetailsView 控制項從資料來源刪除記錄之前。</span><span class="sxs-lookup"><span data-stu-id="39ba0-658">Occurs when a Delete button is clicked, but before the DetailsView control deletes the record from the data source.</span></span> <span data-ttu-id="39ba0-659">這個事件通常用來取消刪除作業。</span><span class="sxs-lookup"><span data-stu-id="39ba0-659">This event is often used to cancel the delete operation.</span></span> |
| <span data-ttu-id="39ba0-660">ItemInserted</span><span class="sxs-lookup"><span data-stu-id="39ba0-660">ItemInserted</span></span> | <span data-ttu-id="39ba0-661">發生于按一下 [插入] 按鈕時，但在 DetailsView 控制項插入記錄之後。</span><span class="sxs-lookup"><span data-stu-id="39ba0-661">Occurs when an Insert button is clicked, but after the DetailsView control inserts the record.</span></span> <span data-ttu-id="39ba0-662">這個事件通常用來檢查插入作業的結果。</span><span class="sxs-lookup"><span data-stu-id="39ba0-662">This event is often used to check the results of the insert operation.</span></span> |
| <span data-ttu-id="39ba0-663">ItemInserting</span><span class="sxs-lookup"><span data-stu-id="39ba0-663">ItemInserting</span></span> | <span data-ttu-id="39ba0-664">發生于按一下 [插入] 按鈕時，但在 DetailsView 控制項插入記錄之前。</span><span class="sxs-lookup"><span data-stu-id="39ba0-664">Occurs when an Insert button is clicked, but before the DetailsView control inserts the record.</span></span> <span data-ttu-id="39ba0-665">這個事件通常用來取消插入作業。</span><span class="sxs-lookup"><span data-stu-id="39ba0-665">This event is often used to cancel the insert operation.</span></span> |
| <span data-ttu-id="39ba0-666">ItemUpdated</span><span class="sxs-lookup"><span data-stu-id="39ba0-666">ItemUpdated</span></span> | <span data-ttu-id="39ba0-667">發生于按一下 [更新] 按鈕時，但在 DetailsView 控制項更新資料列之後。</span><span class="sxs-lookup"><span data-stu-id="39ba0-667">Occurs when an Update button is clicked, but after the DetailsView control updates the row.</span></span> <span data-ttu-id="39ba0-668">此事件通常用來檢查更新作業的結果。</span><span class="sxs-lookup"><span data-stu-id="39ba0-668">This event is often used to check the results of the update operation.</span></span> |
| <span data-ttu-id="39ba0-669">ItemUpdating</span><span class="sxs-lookup"><span data-stu-id="39ba0-669">ItemUpdating</span></span> | <span data-ttu-id="39ba0-670">發生于按一下 [更新] 按鈕時，但在 DetailsView 控制項更新記錄之前。</span><span class="sxs-lookup"><span data-stu-id="39ba0-670">Occurs when an Update button is clicked, but before the DetailsView control updates the record.</span></span> <span data-ttu-id="39ba0-671">此事件通常用來取消更新作業。</span><span class="sxs-lookup"><span data-stu-id="39ba0-671">This event is often used to cancel the update operation.</span></span> |
| <span data-ttu-id="39ba0-672">ModeChanged</span><span class="sxs-lookup"><span data-stu-id="39ba0-672">ModeChanged</span></span> | <span data-ttu-id="39ba0-673">在 DetailsView 控制項變更模式（[編輯]、[插入] 或 [唯讀] 模式）之後發生。</span><span class="sxs-lookup"><span data-stu-id="39ba0-673">Occurs after the DetailsView control changes modes (edit, insert, or read-only mode).</span></span> <span data-ttu-id="39ba0-674">當 DetailsView 控制項變更模式時，通常會使用此事件來執行工作。</span><span class="sxs-lookup"><span data-stu-id="39ba0-674">This event is often used to perform a task when the DetailsView control changes modes.</span></span> |
| <span data-ttu-id="39ba0-675">ModeChanging</span><span class="sxs-lookup"><span data-stu-id="39ba0-675">ModeChanging</span></span> | <span data-ttu-id="39ba0-676">發生于 DetailsView 控制項變更模式之前（編輯、插入或唯讀模式）。</span><span class="sxs-lookup"><span data-stu-id="39ba0-676">Occurs before the DetailsView control changes modes (edit, insert, or read-only mode).</span></span> <span data-ttu-id="39ba0-677">這個事件通常用來取消模式變更。</span><span class="sxs-lookup"><span data-stu-id="39ba0-677">This event is often used to cancel a mode change.</span></span> |
| <span data-ttu-id="39ba0-678">PageIndexChanged</span><span class="sxs-lookup"><span data-stu-id="39ba0-678">PageIndexChanged</span></span> | <span data-ttu-id="39ba0-679">發生于按一下其中一個分頁程式按鈕時，但在 DetailsView 控制項處理分頁作業之後。</span><span class="sxs-lookup"><span data-stu-id="39ba0-679">Occurs when one of the pager buttons is clicked, but after the DetailsView control handles the paging operation.</span></span> <span data-ttu-id="39ba0-680">當您需要在使用者導覽至控制項中的不同記錄之後執行工作時，通常會使用這個事件。</span><span class="sxs-lookup"><span data-stu-id="39ba0-680">This event is commonly used when you need to perform a task after the user navigates to a different record in the control.</span></span> |
| <span data-ttu-id="39ba0-681">PageIndexChanging</span><span class="sxs-lookup"><span data-stu-id="39ba0-681">PageIndexChanging</span></span> | <span data-ttu-id="39ba0-682">發生于按一下其中一個分頁程式按鈕時，但在 DetailsView 控制項處理分頁作業之前。</span><span class="sxs-lookup"><span data-stu-id="39ba0-682">Occurs when one of the pager buttons is clicked, but before the DetailsView control handles the paging operation.</span></span> <span data-ttu-id="39ba0-683">此事件通常用來取消分頁作業。</span><span class="sxs-lookup"><span data-stu-id="39ba0-683">This event is often used to cancel the paging operation.</span></span> |

## <a name="the-menu-control"></a><span data-ttu-id="39ba0-684">Menu 控制項</span><span class="sxs-lookup"><span data-stu-id="39ba0-684">The Menu Control</span></span>

<span data-ttu-id="39ba0-685">ASP.NET 2.0 中的 Menu 控制項是設計成功能完整的導覽系統。</span><span class="sxs-lookup"><span data-stu-id="39ba0-685">The Menu control in ASP.NET 2.0 is designed to be a full-featured navigation system.</span></span> <span data-ttu-id="39ba0-686">它可以輕鬆地資料系結至階層式資料來源，例如 SiteMapDataSource。</span><span class="sxs-lookup"><span data-stu-id="39ba0-686">It can be databound easily to hierarchical data sources such as the SiteMapDataSource.</span></span>

<span data-ttu-id="39ba0-687">功能表控制項結構可以宣告式或動態方式定義，而且是由單一根節點和任意數目的子節點所組成。</span><span class="sxs-lookup"><span data-stu-id="39ba0-687">A Menu controls structure can be defined declaratively or dynamically and consists of a single root node and any number of sub-nodes.</span></span> <span data-ttu-id="39ba0-688">下列程式碼會以宣告方式定義 Menu 控制項的功能表。</span><span class="sxs-lookup"><span data-stu-id="39ba0-688">The following code declaratively defines a menu for the Menu control.</span></span>

[!code-aspx[Main](data-bound-controls/samples/sample4.aspx)]

<span data-ttu-id="39ba0-689">在上述範例中，首頁 .aspx 節點是根節點。</span><span class="sxs-lookup"><span data-stu-id="39ba0-689">In the above example, the Home.aspx node is the root node.</span></span> <span data-ttu-id="39ba0-690">所有其他節點都是在不同層級的根節點內加以嵌套。</span><span class="sxs-lookup"><span data-stu-id="39ba0-690">All other nodes are nested within the root node at various levels.</span></span>

<span data-ttu-id="39ba0-691">功能表控制項可以呈現兩種類型的功能表;靜態功能表和動態功能表。</span><span class="sxs-lookup"><span data-stu-id="39ba0-691">There are two types of menus that the Menu control can render; static menus and dynamic menus.</span></span> <span data-ttu-id="39ba0-692">靜態功能表是由永遠可見的功能表項目所組成。</span><span class="sxs-lookup"><span data-stu-id="39ba0-692">Static menus consist of menu items that are always visible.</span></span> <span data-ttu-id="39ba0-693">動態功能表包含只有當使用者以滑鼠停留在其上時才會顯示的功能表項目。</span><span class="sxs-lookup"><span data-stu-id="39ba0-693">Dynamic menus consist of menu items that are only visible when the user hovers over them with the mouse.</span></span> <span data-ttu-id="39ba0-694">客戶通常會混淆靜態功能表與以宣告方式定義的功能表，以及具有在執行時間進行資料系結之功能表的動態功能表。</span><span class="sxs-lookup"><span data-stu-id="39ba0-694">Customers may often confuse static menus with menus defined declaratively and dynamic menus with menus that are databound at runtime.</span></span> <span data-ttu-id="39ba0-695">事實上，動態和靜態功能表與擴充方法無關。</span><span class="sxs-lookup"><span data-stu-id="39ba0-695">In fact, dynamic and static menus are unrelated to the method of population.</span></span> <span data-ttu-id="39ba0-696">「*靜態*」和「*動態*」這一詞只會參考功能表是否預設為靜態顯示，還是只有在使用者採取一些動作時才會顯示。</span><span class="sxs-lookup"><span data-stu-id="39ba0-696">The terms *static* and *dynamic* refer only to whether or not the menu is statically displayed by default or only displayed when the user takes some action.</span></span>

<span data-ttu-id="39ba0-697">**StaticDisplayLevels**屬性是用來設定有多少層級的功能表是靜態的，因此預設會顯示。</span><span class="sxs-lookup"><span data-stu-id="39ba0-697">The **StaticDisplayLevels** property is used to configure how many levels of the menu are static and therefore displayed by default.</span></span> <span data-ttu-id="39ba0-698">在上述範例中，將**StaticDisplayLevels**屬性設定為2的值，會導致功能表以靜態方式顯示 [主節點]、[音樂] 節點和 [電影] 節點。</span><span class="sxs-lookup"><span data-stu-id="39ba0-698">In the above example, setting the **StaticDisplayLevels** property to a value of 2 would cause the menu to statically display the Home node, the Music node, and the Movies node.</span></span> <span data-ttu-id="39ba0-699">當使用者將滑鼠停留在父節點上時，會動態顯示所有其他節點。</span><span class="sxs-lookup"><span data-stu-id="39ba0-699">All other nodes would be dynamically displayed when the user hovers over the parent node.</span></span>

<span data-ttu-id="39ba0-700">**MaximumDynamicDisplayLevels**屬性會設定功能表能夠顯示的動態層級數目上限。</span><span class="sxs-lookup"><span data-stu-id="39ba0-700">The **MaximumDynamicDisplayLevels** property configures the maximum number of dynamic levels the menu is capable of displaying.</span></span> <span data-ttu-id="39ba0-701">任何層級高於**MaximumDynamicDisplayLevels**屬性所指定之值的動態功能表都會遭到捨棄。</span><span class="sxs-lookup"><span data-stu-id="39ba0-701">Any dynamic menus at a level higher than the value specified by the **MaximumDynamicDisplayLevels** property are discarded.</span></span>

> [!NOTE]
> <span data-ttu-id="39ba0-702">在某些情況下，您可能會遇到因為 MaximumDynamicDisplayLevels 屬性而不會呈現功能表的情況。</span><span class="sxs-lookup"><span data-stu-id="39ba0-702">It is almost certain that you might encounter situations where menus don't appear to render due to the MaximumDynamicDisplayLevels property.</span></span> <span data-ttu-id="39ba0-703">在這些情況下，請確定屬性的設定足以允許顯示 [客戶] 功能表。</span><span class="sxs-lookup"><span data-stu-id="39ba0-703">In those cases, ensure that the property is set sufficiently to allow for the display of the customers menus.</span></span>

## <a name="data-binding-the-menu-control"></a><span data-ttu-id="39ba0-704">資料系結功能表控制項</span><span class="sxs-lookup"><span data-stu-id="39ba0-704">Data Binding the Menu Control</span></span>

<span data-ttu-id="39ba0-705">Menu 控制項可以系結至任何階層式資料來源，例如 SiteMapDataSource 或 XMLDataSource。</span><span class="sxs-lookup"><span data-stu-id="39ba0-705">The Menu control can be bound to any hierarchical data source such as the SiteMapDataSource or the XMLDataSource.</span></span> <span data-ttu-id="39ba0-706">SiteMapDataSource 是最常使用的方法，可將資料系結至 Menu 控制項，因為它會從 web.sitemap 檔案中饋送，而其架構會提供已知的 API 給功能表控制項。</span><span class="sxs-lookup"><span data-stu-id="39ba0-706">The SiteMapDataSource is the most commonly used method for data binding to a Menu control because it feeds off of the Web.sitemap file and its schema provides a known API to the Menu control.</span></span> <span data-ttu-id="39ba0-707">下列清單顯示簡單的網站地圖檔案。</span><span class="sxs-lookup"><span data-stu-id="39ba0-707">The listing below shows a simple Web.sitemap file.</span></span>

[!code-xml[Main](data-bound-controls/samples/sample5.xml)]

<span data-ttu-id="39ba0-708">請注意，只有一個根 siteMapNode 元素，在此案例中為 Home 元素。</span><span class="sxs-lookup"><span data-stu-id="39ba0-708">Notice that there is only one root siteMapNode element, in this case, the Home element.</span></span> <span data-ttu-id="39ba0-709">可以為每個 siteMapNode 設定數個屬性。</span><span class="sxs-lookup"><span data-stu-id="39ba0-709">Several attributes can be configured for each siteMapNode.</span></span> <span data-ttu-id="39ba0-710">最常使用的屬性為：</span><span class="sxs-lookup"><span data-stu-id="39ba0-710">The most commonly used attributes are:</span></span>

- <span data-ttu-id="39ba0-711">**url**指定使用者按一下功能表項目時所要顯示的 URL。</span><span class="sxs-lookup"><span data-stu-id="39ba0-711">**url** Specifies the URL to display when a user clicks the menu item.</span></span> <span data-ttu-id="39ba0-712">如果此屬性不存在，則節點會在按下時，直接回傳。</span><span class="sxs-lookup"><span data-stu-id="39ba0-712">If this attribute is not present, the node will simply post back when clicked.</span></span>
- <span data-ttu-id="39ba0-713">**標題**指定顯示在功能表項目上的文字。</span><span class="sxs-lookup"><span data-stu-id="39ba0-713">**title** Specifies the text that is displayed on the menu item.</span></span>
- <span data-ttu-id="39ba0-714">**描述**當做節點的檔使用。</span><span class="sxs-lookup"><span data-stu-id="39ba0-714">**description** Used as documentation for the node.</span></span> <span data-ttu-id="39ba0-715">當滑鼠停留在節點上時，也會顯示為工具提示。</span><span class="sxs-lookup"><span data-stu-id="39ba0-715">Also displays as a tool tip when the mouse is hovered over the node.</span></span>
- <span data-ttu-id="39ba0-716">**siteMapFile**允許嵌套網站地圖。</span><span class="sxs-lookup"><span data-stu-id="39ba0-716">**siteMapFile** Allows for nested sitemaps.</span></span> <span data-ttu-id="39ba0-717">這個屬性必須指向格式正確的 ASP.NET 網站地圖檔案。</span><span class="sxs-lookup"><span data-stu-id="39ba0-717">This attribute must point to a well-formed ASP.NET sitemap file.</span></span>
- <span data-ttu-id="39ba0-718">**角色**允許透過 ASP.NET 安全性調整來控制節點的外觀。</span><span class="sxs-lookup"><span data-stu-id="39ba0-718">**roles** Allows for the appearance of a node to be controlled by ASP.NET security trimming.</span></span>

<span data-ttu-id="39ba0-719">請注意，雖然這些屬性都是選擇性的，但如果未指定，則功能表的行為可能不是預期的行為。</span><span class="sxs-lookup"><span data-stu-id="39ba0-719">Note that while these attributes are all optional, the behavior of the menu may not be what is expected if they are not specified.</span></span> <span data-ttu-id="39ba0-720">例如，如果指定了*url*屬性，但*description*屬性不是，則不會顯示該節點，而且將無法流覽至指定的 url。</span><span class="sxs-lookup"><span data-stu-id="39ba0-720">For example, if the *url* attribute is specified but the *description* attribute is not, the node will not be visible and there will be no way to navigate to the URL specified.</span></span>

## <a name="controlling-a-menus-operation"></a><span data-ttu-id="39ba0-721">控制功能表作業</span><span class="sxs-lookup"><span data-stu-id="39ba0-721">Controlling a Menus Operation</span></span>

<span data-ttu-id="39ba0-722">有數個屬性會影響 ASP.NET 功能表控制項的作業;**取向**屬性、 **DisappearAfter**屬性、 **StaticItemFormatString**屬性和**StaticPopoutImageUrl**屬性只是其中的其中一個。</span><span class="sxs-lookup"><span data-stu-id="39ba0-722">There are several properties that affect the operation of an ASP.NET Menu control; the **Orientation** property, the **DisappearAfter** property, the **StaticItemFormatString** property, and the **StaticPopoutImageUrl** property are just a few of these.</span></span>

- <span data-ttu-id="39ba0-723">**方向**可以設定為*水準*或*垂直*，並控制靜態功能表項目是在資料列中水準配置，還是以垂直方式堆疊在另一個。</span><span class="sxs-lookup"><span data-stu-id="39ba0-723">The **Orientation** can be set to either *horizontal* or *vertical* and controls whether static menu items are laid out horizontally in a row or vertically and stacked upon one another.</span></span> <span data-ttu-id="39ba0-724">這個屬性不會影響動態功能表。</span><span class="sxs-lookup"><span data-stu-id="39ba0-724">This property does not affect dynamic menus.</span></span>
- <span data-ttu-id="39ba0-725">**DisappearAfter**屬性會設定動態功能表在移動滑鼠之後應該保持可見的時間長度。</span><span class="sxs-lookup"><span data-stu-id="39ba0-725">The **DisappearAfter** property configures how long a dynamic menu should remain visible after the mouse has been moved away from it.</span></span> <span data-ttu-id="39ba0-726">此值以毫秒為單位指定，預設值為500。</span><span class="sxs-lookup"><span data-stu-id="39ba0-726">The value is specified in milliseconds and defaults to 500.</span></span> <span data-ttu-id="39ba0-727">將此屬性設定為-1 的值，會導致功能表永遠不會自動消失。</span><span class="sxs-lookup"><span data-stu-id="39ba0-727">Setting this property to a value of -1 will cause the menu to never disappear automatically.</span></span> <span data-ttu-id="39ba0-728">在這種情況下，功能表只會在使用者按一下功能表外部時消失。</span><span class="sxs-lookup"><span data-stu-id="39ba0-728">In that case, the menu will only disappear when the user clicks outside of the menu.</span></span>
- <span data-ttu-id="39ba0-729">**StaticItemFormatString**屬性可讓您輕鬆地在功能表系統中維護一致的措辭。</span><span class="sxs-lookup"><span data-stu-id="39ba0-729">The **StaticItemFormatString** property makes it easy to maintain consistent verbiage in your menu system.</span></span> <span data-ttu-id="39ba0-730">指定此屬性時，應該輸入 *{0}* ，以取代出現在資料來源中的描述。</span><span class="sxs-lookup"><span data-stu-id="39ba0-730">When specifying this property, *{0}* should be entered in place of the description that appears in the data source.</span></span> <span data-ttu-id="39ba0-731">例如，若要讓練習1中的功能表項目說一下 [造訪我們的產品] 頁面，您可以指定 [流覽我們的 {0}] 頁面以取得 StaticItemFormatString。</span><span class="sxs-lookup"><span data-stu-id="39ba0-731">For example, in order to have the menu item from exercise 1 say Visit Our Products Page, etc., you would specify Visit Our {0} Page for the StaticItemFormatString.</span></span> <span data-ttu-id="39ba0-732">在執行時間，ASP.NET 會將任何出現的 {0} 取代為功能表項目的正確描述。</span><span class="sxs-lookup"><span data-stu-id="39ba0-732">At runtime, ASP.NET will replace any occurrence of {0} with the correct description for the menu item.</span></span>
- <span data-ttu-id="39ba0-733">**StaticPopoutImageUrl**屬性會指定用來指出特定功能表節點具有子節點的影像，您可以將滑鼠暫留在其上。</span><span class="sxs-lookup"><span data-stu-id="39ba0-733">The **StaticPopoutImageUrl** property specifies the image that is used to indicate that a particular menu node has child nodes that can be accessed by hovering over it.</span></span> <span data-ttu-id="39ba0-734">動態功能表會繼續使用預設影像。</span><span class="sxs-lookup"><span data-stu-id="39ba0-734">Dynamic menus will continue to use the default image.</span></span>

## <a name="templated-menu-controls"></a><span data-ttu-id="39ba0-735">樣板化功能表控制項</span><span class="sxs-lookup"><span data-stu-id="39ba0-735">Templated Menu Controls</span></span>

<span data-ttu-id="39ba0-736">Menu 控制項是樣板化控制項，允許兩個不同的 ItemTemplates;StaticItemTemplate 和 DynamicItemTemplate。</span><span class="sxs-lookup"><span data-stu-id="39ba0-736">The Menu control is a templated control and allows for two different ItemTemplates; the StaticItemTemplate and the DynamicItemTemplate.</span></span> <span data-ttu-id="39ba0-737">使用這些範本，您可以輕鬆地將伺服器控制項或使用者控制項加入至功能表。</span><span class="sxs-lookup"><span data-stu-id="39ba0-737">Using these templates, you can easily add server controls or user controls to your menus.</span></span>

<span data-ttu-id="39ba0-738">若要在 Visual Studio .NET 中編輯範本，請按一下功能表上的 [智慧標籤] 按鈕，然後選擇 [編輯範本]。</span><span class="sxs-lookup"><span data-stu-id="39ba0-738">To edit the templates in Visual Studio .NET, click the Smart Tag button on the menu and either choose Edit Templates.</span></span> <span data-ttu-id="39ba0-739">接著，您可以在編輯 StaticItemTemplate 或 DynamicItemTemplate 之間選擇。</span><span class="sxs-lookup"><span data-stu-id="39ba0-739">You can then choose between editing the StaticItemTemplate or the DynamicItemTemplate.</span></span>

<span data-ttu-id="39ba0-740">加入至 StaticItemTemplate 的任何控制項都會在頁面載入時出現在靜態功能表中。</span><span class="sxs-lookup"><span data-stu-id="39ba0-740">Any controls added to the StaticItemTemplate will appear in the static menu when the page loads.</span></span> <span data-ttu-id="39ba0-741">新增至 DynamicItemTemplate 的任何控制項都會出現在所有快顯功能表上。</span><span class="sxs-lookup"><span data-stu-id="39ba0-741">Any controls added to the DynamicItemTemplate will appear on all pop-up menus.</span></span>

## <a name="menu-events"></a><span data-ttu-id="39ba0-742">功能表事件</span><span class="sxs-lookup"><span data-stu-id="39ba0-742">Menu Events</span></span>

<span data-ttu-id="39ba0-743">Menu 控制項有兩個唯一的事件;**MenuItemClicked**和**MenuItemDatabound**事件。</span><span class="sxs-lookup"><span data-stu-id="39ba0-743">The Menu control has two events that are unique to it; the **MenuItemClicked** and the **MenuItemDatabound** event.</span></span>

<span data-ttu-id="39ba0-744">當您按一下功能表項目時，就會引發 MenuItemClicked 事件。</span><span class="sxs-lookup"><span data-stu-id="39ba0-744">The MenuItemClicked event is raised when a menu item is clicked.</span></span> <span data-ttu-id="39ba0-745">當功能表項目是資料系結時，就會引發 MenuItemDatabound 事件。</span><span class="sxs-lookup"><span data-stu-id="39ba0-745">The MenuItemDatabound event is raised when a menu item is databound.</span></span> <span data-ttu-id="39ba0-746">傳遞至事件處理常式的**MenuEventArgs** ，可透過 item 屬性提供功能表項目的存取權。</span><span class="sxs-lookup"><span data-stu-id="39ba0-746">The **MenuEventArgs** that is passed to the event handler provides access to the menu item via the Item property.</span></span>

## <a name="controlling-a-menus-appearance"></a><span data-ttu-id="39ba0-747">控制功能表外觀</span><span class="sxs-lookup"><span data-stu-id="39ba0-747">Controlling a Menus Appearance</span></span>

<span data-ttu-id="39ba0-748">您也可以使用可用於格式化功能表的一或多個樣式，來影響功能表控制項的外觀。</span><span class="sxs-lookup"><span data-stu-id="39ba0-748">You can also affect the appearance of a menu control using one or more of the many styles available to format menus.</span></span> <span data-ttu-id="39ba0-749">其中包括**StaticMenuStyle**、 **DynamicMenuStyle**、 **DynamicMenuItemStyle**、 **DynamicSelectedStyle**和**DynamicHoverStyle**。</span><span class="sxs-lookup"><span data-stu-id="39ba0-749">Among these are **StaticMenuStyle**, **DynamicMenuStyle**, **DynamicMenuItemStyle**, **DynamicSelectedStyle**, and **DynamicHoverStyle**.</span></span> <span data-ttu-id="39ba0-750">這些屬性是使用標準 HTML 樣式字串進行設定。</span><span class="sxs-lookup"><span data-stu-id="39ba0-750">These properties are configured using a standard HTML Style string.</span></span> <span data-ttu-id="39ba0-751">例如，下列程式會影響動態功能表的樣式。</span><span class="sxs-lookup"><span data-stu-id="39ba0-751">For example, the following will affect the style for dynamic menus.</span></span>

[!code-aspx[Main](data-bound-controls/samples/sample6.aspx)]

> [!NOTE]
> <span data-ttu-id="39ba0-752">如果您使用任何暫留樣式，您必須將 &lt;head&gt; 元素加入至頁面，並將*runat*元素設為*server*。</span><span class="sxs-lookup"><span data-stu-id="39ba0-752">If you are using any of the Hover styles, you will need to add a &lt;head&gt; element in to the page with the *runat* element set to *server*.</span></span>

<span data-ttu-id="39ba0-753">Menu 控制項也支援使用 ASP.NET 2.0 主題。</span><span class="sxs-lookup"><span data-stu-id="39ba0-753">Menu controls also support the use of ASP.NET 2.0 themes.</span></span>

## <a name="the-treeview-control"></a><span data-ttu-id="39ba0-754">TreeView 控制項</span><span class="sxs-lookup"><span data-stu-id="39ba0-754">The TreeView Control</span></span>

<span data-ttu-id="39ba0-755">TreeView 控制項會以類似樹狀結構的方式來顯示資料。</span><span class="sxs-lookup"><span data-stu-id="39ba0-755">The TreeView control displays data in a tree-like structure.</span></span> <span data-ttu-id="39ba0-756">與 Menu 控制項一樣，它可以輕鬆地系結至任何階層式資料來源，例如 SiteMapDataSource。</span><span class="sxs-lookup"><span data-stu-id="39ba0-756">As with the Menu control, it can be easily data bound to any hierarchical data source such as the SiteMapDataSource.</span></span>

<span data-ttu-id="39ba0-757">客戶可能會在 ASP.NET 2.0 中詢問 TreeView 控制項的第一個問題，就是它是否與適用于 ASP.NET 1.x 的 TreeView IE WebControl 相關。</span><span class="sxs-lookup"><span data-stu-id="39ba0-757">The first question that customers are likely to ask about the TreeView control in ASP.NET 2.0 is whether or not it is related to the TreeView IE WebControl that was available for ASP.NET 1.x.</span></span> <span data-ttu-id="39ba0-758">不是。</span><span class="sxs-lookup"><span data-stu-id="39ba0-758">It is not.</span></span> <span data-ttu-id="39ba0-759">ASP.NET 2.0 TreeView 控制項是從頭開始撰寫，並針對先前提供的 IE TreeView WebControl 提供顯著的改善。</span><span class="sxs-lookup"><span data-stu-id="39ba0-759">The ASP.NET 2.0 TreeView control was written from the ground up and offers significant improvement over the IE TreeView WebControl that was previously available.</span></span>

<span data-ttu-id="39ba0-760">我不會詳細說明如何將 TreeView 控制項系結到網站地圖，因為它的執行方式與 Menu 控制項完全相同。</span><span class="sxs-lookup"><span data-stu-id="39ba0-760">I won't go into detail on how to bind a TreeView control to a site map as it is performed in exactly the same way as the Menu control.</span></span> <span data-ttu-id="39ba0-761">不過，TreeView 控制項的運作方式有一些不同的差異。</span><span class="sxs-lookup"><span data-stu-id="39ba0-761">However, the TreeView control has some distinct differences in the way that it operates.</span></span>

<span data-ttu-id="39ba0-762">根據預設，TreeView 控制項會完全展開。</span><span class="sxs-lookup"><span data-stu-id="39ba0-762">By default, a TreeView control appears fully expanded.</span></span> <span data-ttu-id="39ba0-763">若要在初始載入時變更擴充層級，請修改控制項的**ExpandDepth**屬性。</span><span class="sxs-lookup"><span data-stu-id="39ba0-763">To change the level of expansion upon initial load, modify the **ExpandDepth** property of the control.</span></span> <span data-ttu-id="39ba0-764">當 TreeView 在展開特定節點時進行資料系結時，這一點特別重要。</span><span class="sxs-lookup"><span data-stu-id="39ba0-764">This is particularly important in cases where the TreeView is databound upon expanding particular nodes.</span></span>

## <a name="databinding-the-treeview-control"></a><span data-ttu-id="39ba0-765">資料系結 TreeView 控制項</span><span class="sxs-lookup"><span data-stu-id="39ba0-765">DataBinding the TreeView Control</span></span>

<span data-ttu-id="39ba0-766">與 Menu 控制項不同的是，TreeView 很適合處理大量資料。</span><span class="sxs-lookup"><span data-stu-id="39ba0-766">Unlike the Menu control, the TreeView lends itself well to handling large amounts of data.</span></span> <span data-ttu-id="39ba0-767">因此，除了資料系結至 SiteMapDataSource 或 XMLDataSource 以外，TreeView 通常也會系結至資料集或其他關聯式資料。</span><span class="sxs-lookup"><span data-stu-id="39ba0-767">Therefore, in addition to databinding to a SiteMapDataSource or XMLDataSource, the TreeView is often data bound to a DataSet or other relational data.</span></span> <span data-ttu-id="39ba0-768">在 TreeView 控制項系結至大量資料的情況下，最好只系結至實際顯示在控制項中的資料。</span><span class="sxs-lookup"><span data-stu-id="39ba0-768">In cases where the TreeView control is bound to large amounts of data, it is best to bind only to data that is actually visible in the control.</span></span> <span data-ttu-id="39ba0-769">接著，您可以將資料系結至其他資料，因為 TreeView 節點會展開。</span><span class="sxs-lookup"><span data-stu-id="39ba0-769">You can then data bind to additional data as TreeView nodes are expanded.</span></span>

<span data-ttu-id="39ba0-770">在這些情況下，TreeView 的**PopulateOnDemand**屬性應該設定為*true*。</span><span class="sxs-lookup"><span data-stu-id="39ba0-770">In these cases, the **PopulateOnDemand** property of the TreeView should be set to *true*.</span></span> <span data-ttu-id="39ba0-771">接著，您必須提供**TreeNodePopulate**方法的執行。</span><span class="sxs-lookup"><span data-stu-id="39ba0-771">You will then need to provide an implementation for the **TreeNodePopulate** method.</span></span>

## <a name="data-binding-without-postback"></a><span data-ttu-id="39ba0-772">不回傳的資料系結</span><span class="sxs-lookup"><span data-stu-id="39ba0-772">Data Binding Without PostBack</span></span>

<span data-ttu-id="39ba0-773">請注意，當您第一次展開上一個範例中的節點時，頁面會回傳並重新整理。</span><span class="sxs-lookup"><span data-stu-id="39ba0-773">Notice that when you expand a node in the previous example for the first time, the page posts back and refreshes.</span></span> <span data-ttu-id="39ba0-774">在此範例中，這不是問題，但您可以想像它可能在具有大量資料的生產環境中。</span><span class="sxs-lookup"><span data-stu-id="39ba0-774">Thats not a problem in this example, but you can imagine that it might be in a production environment with a large amount of data.</span></span> <span data-ttu-id="39ba0-775">較佳的案例是，TreeView 仍會動態填入其節點，但不會回傳至伺服器。</span><span class="sxs-lookup"><span data-stu-id="39ba0-775">A better scenario would be one in which the TreeView would still dynamically populate its nodes, but without a post back to the server.</span></span>

<span data-ttu-id="39ba0-776">藉由將**PopulateNodesFromClient**和**PopulateOnDemand**屬性設定為 true，ASP.NET TreeView 控制項會以動態方式填入節點，而不會回傳。</span><span class="sxs-lookup"><span data-stu-id="39ba0-776">By setting the **PopulateNodesFromClient** and the **PopulateOnDemand** properties to true, the ASP.NET TreeView control will dynamically populate nodes without a post back.</span></span> <span data-ttu-id="39ba0-777">當父節點展開時，會從用戶端發出 XMLHttp 要求，並引發 OnTreeNodePopulate 事件。</span><span class="sxs-lookup"><span data-stu-id="39ba0-777">When the parent node is expanded, an XMLHttp request is made from the client and the OnTreeNodePopulate event is fired.</span></span> <span data-ttu-id="39ba0-778">伺服器會以 XML 資料島回應，然後用來系結子節點的資料。</span><span class="sxs-lookup"><span data-stu-id="39ba0-778">The server responds with an XML data island which is then used to data bind the child nodes.</span></span>

<span data-ttu-id="39ba0-779">ASP.NET 會動態建立可執行此功能的用戶端程式代碼。</span><span class="sxs-lookup"><span data-stu-id="39ba0-779">ASP.NET dynamically creates the client code that implements this functionality.</span></span> <span data-ttu-id="39ba0-780">包含腳本&gt; 標記的 &lt;腳本會產生指向 AXD 檔案。</span><span class="sxs-lookup"><span data-stu-id="39ba0-780">The &lt;script&gt; tags that contain the script are generated pointing to an AXD file.</span></span> <span data-ttu-id="39ba0-781">例如，下列清單顯示產生 XMLHttp 要求之腳本的腳本連結。</span><span class="sxs-lookup"><span data-stu-id="39ba0-781">For example, the listing below shows the script links for the script code that generates the XMLHttp request.</span></span>

[!code-html[Main](data-bound-controls/samples/sample7.html)]

<span data-ttu-id="39ba0-782">如果您在瀏覽器中流覽此 AXD 檔案並加以開啟，您會看到可執行 XMLHttp 要求的程式碼。</span><span class="sxs-lookup"><span data-stu-id="39ba0-782">If you browse the AXD file above in your browser and open it, you will see the code that implements the XMLHttp request.</span></span> <span data-ttu-id="39ba0-783">這個方法可防止客戶修改腳本檔案。</span><span class="sxs-lookup"><span data-stu-id="39ba0-783">This method prevents customers from modifying the script file.</span></span>

## <a name="controlling-the-operation-of-the-treeview-control"></a><span data-ttu-id="39ba0-784">控制 TreeView 控制項的作業</span><span class="sxs-lookup"><span data-stu-id="39ba0-784">Controlling the Operation of the TreeView Control</span></span>

<span data-ttu-id="39ba0-785">TreeView 控制項有數個會影響控制項作業的屬性。</span><span class="sxs-lookup"><span data-stu-id="39ba0-785">The TreeView control has several properties that affect the operation of the control.</span></span> <span data-ttu-id="39ba0-786">最明顯的屬性包括**ShowCheckBoxes**、 **ShowExpandCollapse**和**ShowLines**。</span><span class="sxs-lookup"><span data-stu-id="39ba0-786">The most obvious properties are the **ShowCheckBoxes**, **ShowExpandCollapse**, and **ShowLines**.</span></span>

<span data-ttu-id="39ba0-787">**ShowCheckBoxes**屬性會影響節點在轉譯時是否顯示覆選框。</span><span class="sxs-lookup"><span data-stu-id="39ba0-787">The **ShowCheckBoxes** property affects whether or not nodes display a check box when rendered.</span></span> <span data-ttu-id="39ba0-788">這個屬性的有效值為**None**、 **Root**、 **Parent**、分**葉**和**All**。</span><span class="sxs-lookup"><span data-stu-id="39ba0-788">The valid values for this property are **None**, **Root**, **Parent**, **Leaf**, and **All**.</span></span> <span data-ttu-id="39ba0-789">這些會影響 TreeView 控制項，如下所示：</span><span class="sxs-lookup"><span data-stu-id="39ba0-789">These affect the TreeView control as follows:</span></span>

| <span data-ttu-id="39ba0-790">**屬性值**</span><span class="sxs-lookup"><span data-stu-id="39ba0-790">**Property Value**</span></span> | <span data-ttu-id="39ba0-791">**Effect**</span><span class="sxs-lookup"><span data-stu-id="39ba0-791">**Effect**</span></span> |
| --- | --- |
| <span data-ttu-id="39ba0-792">無</span><span class="sxs-lookup"><span data-stu-id="39ba0-792">None</span></span> | <span data-ttu-id="39ba0-793">核取方塊不會顯示在任何節點上。</span><span class="sxs-lookup"><span data-stu-id="39ba0-793">Checkboxes are not displayed on any nodes.</span></span> <span data-ttu-id="39ba0-794">這是預設設定。</span><span class="sxs-lookup"><span data-stu-id="39ba0-794">This is the default setting.</span></span> |
| <span data-ttu-id="39ba0-795">Root</span><span class="sxs-lookup"><span data-stu-id="39ba0-795">Root</span></span> | <span data-ttu-id="39ba0-796">核取方塊只會顯示在根節點上。</span><span class="sxs-lookup"><span data-stu-id="39ba0-796">A checkbox is only displayed on the root node.</span></span> |
| <span data-ttu-id="39ba0-797">父代</span><span class="sxs-lookup"><span data-stu-id="39ba0-797">Parent</span></span> | <span data-ttu-id="39ba0-798">只有在具有子節點的節點上才會顯示覆選框。</span><span class="sxs-lookup"><span data-stu-id="39ba0-798">A checkbox is only displayed on those nodes that have child nodes.</span></span> <span data-ttu-id="39ba0-799">這些子節點可以是父節點或分葉節點。</span><span class="sxs-lookup"><span data-stu-id="39ba0-799">Those child nodes can be parent nodes or leaf nodes.</span></span> |
| <span data-ttu-id="39ba0-800">分葉</span><span class="sxs-lookup"><span data-stu-id="39ba0-800">Leaf</span></span> | <span data-ttu-id="39ba0-801">只有在沒有子節點的節點上才會顯示覆選框。</span><span class="sxs-lookup"><span data-stu-id="39ba0-801">A checkbox is displayed only on those nodes that have no child nodes.</span></span> |
| <span data-ttu-id="39ba0-802">全部：</span><span class="sxs-lookup"><span data-stu-id="39ba0-802">All</span></span> | <span data-ttu-id="39ba0-803">所有節點上都會顯示一個核取方塊。</span><span class="sxs-lookup"><span data-stu-id="39ba0-803">A checkbox is displayed on all nodes.</span></span> |

<span data-ttu-id="39ba0-804">當使用核取方塊時， **CheckedNodes**屬性會傳回在回傳時檢查的 TreeView 節點集合。</span><span class="sxs-lookup"><span data-stu-id="39ba0-804">When checkboxes are being used, the **CheckedNodes** property will return a collection of TreeView nodes that are checked upon postback.</span></span>

<span data-ttu-id="39ba0-805">**ShowExpandCollapse**屬性控制 [根] 和 [父節點] 旁展開/折迭影像的外觀。</span><span class="sxs-lookup"><span data-stu-id="39ba0-805">The **ShowExpandCollapse** property controls the appearance of the expand/collapse image next to root and parent nodes.</span></span> <span data-ttu-id="39ba0-806">如果此屬性設定為**false**，TreeView 節點會轉譯為超連結，並藉由按一下連結來展開/折迭。</span><span class="sxs-lookup"><span data-stu-id="39ba0-806">If this property is set to **false**, TreeView nodes are rendered as hyperlinks and are expanded/collapsed by clicking on the link.</span></span>

<span data-ttu-id="39ba0-807">**ShowLines**屬性可控制是否顯示將父節點連接到子節點的行。</span><span class="sxs-lookup"><span data-stu-id="39ba0-807">The **ShowLines** property controls whether or not lines are displayed connecting parent nodes to child nodes.</span></span> <span data-ttu-id="39ba0-808">若**為 false** （預設值），則不會顯示任何行。</span><span class="sxs-lookup"><span data-stu-id="39ba0-808">When **false** (the default), no lines are displayed.</span></span> <span data-ttu-id="39ba0-809">若**為 true**，TreeView 控制項將會使用**LineImagesFolder**屬性所指定之資料夾中的線條影像。</span><span class="sxs-lookup"><span data-stu-id="39ba0-809">When **true**, the TreeView control will use lines images in the folder specified by the **LineImagesFolder** property.</span></span>

<span data-ttu-id="39ba0-810">若要自訂 TreeView 線條的外觀，Visual Studio .NET 2005 包含一行設計工具。</span><span class="sxs-lookup"><span data-stu-id="39ba0-810">To customize the appearance of TreeView lines, Visual Studio .NET 2005 includes a Line Designer tool.</span></span> <span data-ttu-id="39ba0-811">您可以使用 TreeView 控制項上的 [智慧標籤] 按鈕來存取此工具，如下所示。</span><span class="sxs-lookup"><span data-stu-id="39ba0-811">You can access this tool using the Smart Tag button on the TreeView control as below.</span></span>

![](data-bound-controls/_static/image1.jpg)

<span data-ttu-id="39ba0-812">**圖 1**</span><span class="sxs-lookup"><span data-stu-id="39ba0-812">**Figure 1**</span></span>

<span data-ttu-id="39ba0-813">當您選取 [**自訂線條影像**] 功能表選項時，將會啟動 [程式列設計師] 工具，讓您設定 TreeView 線條的外觀。</span><span class="sxs-lookup"><span data-stu-id="39ba0-813">When select the **Customize Line Images** menu option, the Line Designer tool will be launched allowing you to configure the appearance of TreeView lines.</span></span>

## <a name="treeview-events"></a><span data-ttu-id="39ba0-814">TreeView 事件</span><span class="sxs-lookup"><span data-stu-id="39ba0-814">TreeView Events</span></span>

<span data-ttu-id="39ba0-815">TreeView 控制項具有下列唯一的事件：</span><span class="sxs-lookup"><span data-stu-id="39ba0-815">The TreeView control has the following unique events:</span></span>

- <span data-ttu-id="39ba0-816">根據**SelectAction**屬性選取節點時，就會發生 SelectedNodeChanged。</span><span class="sxs-lookup"><span data-stu-id="39ba0-816">SelectedNodeChanged Occurs when a node is selected based upon the **SelectAction** property.</span></span>
- <span data-ttu-id="39ba0-817">當節點 checkboxs 狀態變更時，就會發生 TreeNodeCheckChanged。</span><span class="sxs-lookup"><span data-stu-id="39ba0-817">TreeNodeCheckChanged Occurs when a nodes checkboxs state is changed.</span></span>
- <span data-ttu-id="39ba0-818">當節點根據**SelectAction**屬性展開時，就會發生 TreeNodeExpanded。</span><span class="sxs-lookup"><span data-stu-id="39ba0-818">TreeNodeExpanded Occurs when a node is expanded based upon the **SelectAction** property.</span></span>
- <span data-ttu-id="39ba0-819">當節點折迭時，就會發生 TreeNodeCollapsed。</span><span class="sxs-lookup"><span data-stu-id="39ba0-819">TreeNodeCollapsed Occurs when a node is collapsed.</span></span>
- <span data-ttu-id="39ba0-820">當節點為數據系結時，就會發生 TreeNodeDataBound。</span><span class="sxs-lookup"><span data-stu-id="39ba0-820">TreeNodeDataBound Occurs when a node is data bound.</span></span>
- <span data-ttu-id="39ba0-821">當節點已填入時，就會發生 TreeNodePopulate。</span><span class="sxs-lookup"><span data-stu-id="39ba0-821">TreeNodePopulate Occurs when a node is populated.</span></span>

<span data-ttu-id="39ba0-822">**SelectAction**屬性可讓您設定在選取節點時所引發的事件。</span><span class="sxs-lookup"><span data-stu-id="39ba0-822">The **SelectAction** property allows you to configure which event is fired when a node is selected.</span></span> <span data-ttu-id="39ba0-823">SelectAction 屬性提供下列動作：</span><span class="sxs-lookup"><span data-stu-id="39ba0-823">The SelectAction property provides the following actions:</span></span>

- <span data-ttu-id="39ba0-824">TreeNodeSelectAction。當選取節點時，請展開 [引發 TreeNodeExpanded]。</span><span class="sxs-lookup"><span data-stu-id="39ba0-824">TreeNodeSelectAction.Expand Raises TreeNodeExpanded when the node is selected.</span></span>
- <span data-ttu-id="39ba0-825">TreeNodeSelectAction。當選取節點時，None 不會引發任何事件。</span><span class="sxs-lookup"><span data-stu-id="39ba0-825">TreeNodeSelectAction.None Raises no event when the node is selected.</span></span>
- <span data-ttu-id="39ba0-826">TreeNodeSelectAction：選取此節點時，會引發 SelectedNodeChanged 事件。</span><span class="sxs-lookup"><span data-stu-id="39ba0-826">TreeNodeSelectAction.Select Raises the SelectedNodeChanged event when the node is selected.</span></span>
- <span data-ttu-id="39ba0-827">TreeNodeSelectAction： SelectExpand 會在選取節點時，同時引發 SelectedNodeChanged 事件和 TreeNodeExpanded 事件。</span><span class="sxs-lookup"><span data-stu-id="39ba0-827">TreeNodeSelectAction.SelectExpand Raises both the SelectedNodeChanged event and the TreeNodeExpanded event when the node is selected.</span></span>

## <a name="controlling-appearance-with-styles"></a><span data-ttu-id="39ba0-828">使用樣式控制外觀</span><span class="sxs-lookup"><span data-stu-id="39ba0-828">Controlling Appearance with Styles</span></span>

<span data-ttu-id="39ba0-829">TreeView 控制項提供許多屬性，以控制樣式的控制面板。</span><span class="sxs-lookup"><span data-stu-id="39ba0-829">The TreeView control provides many properties for controlling the appearance of the control with styles.</span></span> <span data-ttu-id="39ba0-830">有下列屬性可供使用。</span><span class="sxs-lookup"><span data-stu-id="39ba0-830">The following properties are available.</span></span>

| <span data-ttu-id="39ba0-831">**屬性名稱**</span><span class="sxs-lookup"><span data-stu-id="39ba0-831">**Property Name**</span></span> | <span data-ttu-id="39ba0-832">**控制項**</span><span class="sxs-lookup"><span data-stu-id="39ba0-832">**Controls**</span></span> |
| --- | --- |
| <span data-ttu-id="39ba0-833">HoverNodeStyle</span><span class="sxs-lookup"><span data-stu-id="39ba0-833">HoverNodeStyle</span></span> | <span data-ttu-id="39ba0-834">控制當滑鼠停留在其上時，節點的樣式。</span><span class="sxs-lookup"><span data-stu-id="39ba0-834">Controls the style of nodes when the mouse is hovered over them.</span></span> |
| <span data-ttu-id="39ba0-835">LeafNodeStyle</span><span class="sxs-lookup"><span data-stu-id="39ba0-835">LeafNodeStyle</span></span> | <span data-ttu-id="39ba0-836">控制分葉節點的樣式。</span><span class="sxs-lookup"><span data-stu-id="39ba0-836">Controls the style of leaf nodes.</span></span> |
| <span data-ttu-id="39ba0-837">NodeStyle</span><span class="sxs-lookup"><span data-stu-id="39ba0-837">NodeStyle</span></span> | <span data-ttu-id="39ba0-838">控制所有節點的樣式。</span><span class="sxs-lookup"><span data-stu-id="39ba0-838">Controls the style for all nodes.</span></span> <span data-ttu-id="39ba0-839">特定節點樣式（例如 LeafNodeStyle）會覆寫此樣式。</span><span class="sxs-lookup"><span data-stu-id="39ba0-839">Specific node styles (such as LeafNodeStyle) override this style.</span></span> |
| <span data-ttu-id="39ba0-840">ParentNodeStyle</span><span class="sxs-lookup"><span data-stu-id="39ba0-840">ParentNodeStyle</span></span> | <span data-ttu-id="39ba0-841">控制所有父節點的樣式。</span><span class="sxs-lookup"><span data-stu-id="39ba0-841">Controls the style for all parent nodes.</span></span> |
| <span data-ttu-id="39ba0-842">RootNodeStyle</span><span class="sxs-lookup"><span data-stu-id="39ba0-842">RootNodeStyle</span></span> | <span data-ttu-id="39ba0-843">控制根節點的樣式。</span><span class="sxs-lookup"><span data-stu-id="39ba0-843">Controls the style for the root node.</span></span> |
| <span data-ttu-id="39ba0-844">SelectedNodeStyle</span><span class="sxs-lookup"><span data-stu-id="39ba0-844">SelectedNodeStyle</span></span> | <span data-ttu-id="39ba0-845">控制所選節點的樣式。</span><span class="sxs-lookup"><span data-stu-id="39ba0-845">Controls the style for the selected node.</span></span> |

<span data-ttu-id="39ba0-846">這些屬性都是唯讀的。</span><span class="sxs-lookup"><span data-stu-id="39ba0-846">Each of these properties is read-only.</span></span> <span data-ttu-id="39ba0-847">不過，它們會每個傳回一個**TreeNodeStyle**物件，而該物件的屬性可以使用*屬性-子屬性*格式來修改。</span><span class="sxs-lookup"><span data-stu-id="39ba0-847">However, they will each return a **TreeNodeStyle** object, and the properties of that object can be modified using the *property-subproperty* format.</span></span> <span data-ttu-id="39ba0-848">例如，若要設定**SelectedNodeStyle**的**前景**屬性，您可以使用下列語法：</span><span class="sxs-lookup"><span data-stu-id="39ba0-848">For example, to set the **ForeColor** property of the **SelectedNodeStyle**, you would use the following syntax:</span></span>

[!code-aspx[Main](data-bound-controls/samples/sample8.aspx)]

<span data-ttu-id="39ba0-849">請注意，上面的標記不會關閉。</span><span class="sxs-lookup"><span data-stu-id="39ba0-849">Notice that the tag above is not closed.</span></span> <span data-ttu-id="39ba0-850">這是因為在使用此處所示的宣告式語法時，您也會在 HTML 程式碼中包含 Treeview 節點。</span><span class="sxs-lookup"><span data-stu-id="39ba0-850">That is because when using the declarative syntax shown here, you would include the TreeViews nodes in the HTML code as well.</span></span>

<span data-ttu-id="39ba0-851">您也可以在程式碼中使用*屬性（property* ），指定樣式屬性。</span><span class="sxs-lookup"><span data-stu-id="39ba0-851">The style properties can also be specified in code using the *property.subproperty* format.</span></span> <span data-ttu-id="39ba0-852">例如，若要在程式碼中設定**RootNodeStyle**的**前景**屬性，您可以使用下列語法：</span><span class="sxs-lookup"><span data-stu-id="39ba0-852">For example, to set the **ForeColor** property of the **RootNodeStyle** in code, you would use the following syntax:</span></span>

[!code-csharp[Main](data-bound-controls/samples/sample9.cs)]

> [!NOTE]
> <span data-ttu-id="39ba0-853">如需不同樣式屬性的完整清單，請參閱 MSDN 檔中有關 TreeNodeStyle 物件的資訊。</span><span class="sxs-lookup"><span data-stu-id="39ba0-853">For a comprehensive list of the different style properties, see the MSDN documentation on the TreeNodeStyle object.</span></span>

## <a name="the-sitemappath-control"></a><span data-ttu-id="39ba0-854">SiteMapPath 控制項</span><span class="sxs-lookup"><span data-stu-id="39ba0-854">The SiteMapPath Control</span></span>

<span data-ttu-id="39ba0-855">SiteMapPath 控制項提供 ASP.NET 開發人員的階層連結導覽控制項。</span><span class="sxs-lookup"><span data-stu-id="39ba0-855">The SiteMapPath control provides a bread crumb navigation control for ASP.NET developers.</span></span> <span data-ttu-id="39ba0-856">就像其他導覽控制項一樣，也可以輕鬆地將資料系結至階層式資料來源，例如 SiteMapDataSource 或 XmlDataSource。</span><span class="sxs-lookup"><span data-stu-id="39ba0-856">Like the other navigation controls, it can be easily data bound to hierarchical data sources such as the SiteMapDataSource or XmlDataSource.</span></span>

<span data-ttu-id="39ba0-857">SiteMapPath 控制項是由 SiteMapNodeItem 物件所組成。</span><span class="sxs-lookup"><span data-stu-id="39ba0-857">A SiteMapPath control is made up of SiteMapNodeItem objects.</span></span> <span data-ttu-id="39ba0-858">節點有三種類型：根節點、父節點，以及目前的節點。</span><span class="sxs-lookup"><span data-stu-id="39ba0-858">There are three types of nodes; the Root node, Parent nodes, and the Current node.</span></span> <span data-ttu-id="39ba0-859">根節點是階層式結構頂端的節點。</span><span class="sxs-lookup"><span data-stu-id="39ba0-859">The root node is the node at the top of the hierarchical structure.</span></span> <span data-ttu-id="39ba0-860">目前的節點代表目前的頁面。</span><span class="sxs-lookup"><span data-stu-id="39ba0-860">The current node represents the current page.</span></span> <span data-ttu-id="39ba0-861">所有其他節點都是父節點。</span><span class="sxs-lookup"><span data-stu-id="39ba0-861">All other nodes are parent nodes.</span></span>

## <a name="controlling-the-operation-of-the-sitemappath-control"></a><span data-ttu-id="39ba0-862">控制 SiteMapPath 控制項的操作</span><span class="sxs-lookup"><span data-stu-id="39ba0-862">Controlling the Operation of the SiteMapPath Control</span></span>

<span data-ttu-id="39ba0-863">控制 SiteMapPath 控制項操作的屬性如下所示：</span><span class="sxs-lookup"><span data-stu-id="39ba0-863">The properties that control the operation of the SiteMapPath control are as follows:</span></span>

| <span data-ttu-id="39ba0-864">**屬性**</span><span class="sxs-lookup"><span data-stu-id="39ba0-864">**Property**</span></span> | <span data-ttu-id="39ba0-865">**屬性的描述**</span><span class="sxs-lookup"><span data-stu-id="39ba0-865">**Description of Property**</span></span> |
| --- | --- |
| <span data-ttu-id="39ba0-866">ParentLevelsDisplayed</span><span class="sxs-lookup"><span data-stu-id="39ba0-866">ParentLevelsDisplayed</span></span> | <span data-ttu-id="39ba0-867">控制要顯示多少個父節點。</span><span class="sxs-lookup"><span data-stu-id="39ba0-867">Controls how many parent nodes are displayed.</span></span> <span data-ttu-id="39ba0-868">預設值為-1，對顯示的父節點數目不會有任何限制。</span><span class="sxs-lookup"><span data-stu-id="39ba0-868">The default is -1 which imposes no restriction on the number of parent nodes displayed.</span></span> |
| <span data-ttu-id="39ba0-869">PathDirection</span><span class="sxs-lookup"><span data-stu-id="39ba0-869">PathDirection</span></span> | <span data-ttu-id="39ba0-870">控制 SiteMapPath 的方向。</span><span class="sxs-lookup"><span data-stu-id="39ba0-870">Controls the direction of the SiteMapPath.</span></span> <span data-ttu-id="39ba0-871">有效值為 RootToCurrent （預設值）和 CurrentToRoot。</span><span class="sxs-lookup"><span data-stu-id="39ba0-871">Valid values are RootToCurrent (default) and CurrentToRoot.</span></span> |
| <span data-ttu-id="39ba0-872">PathSeparator</span><span class="sxs-lookup"><span data-stu-id="39ba0-872">PathSeparator</span></span> | <span data-ttu-id="39ba0-873">控制在 SiteMapPath 控制項中分隔節點之字元的字串。</span><span class="sxs-lookup"><span data-stu-id="39ba0-873">A String that controls the character that separates nodes in a SiteMapPath control.</span></span> <span data-ttu-id="39ba0-874">預設值為：。</span><span class="sxs-lookup"><span data-stu-id="39ba0-874">The default value is :.</span></span> |
| <span data-ttu-id="39ba0-875">RenderCurrentNodeAsLink</span><span class="sxs-lookup"><span data-stu-id="39ba0-875">RenderCurrentNodeAsLink</span></span> | <span data-ttu-id="39ba0-876">布林值，控制目前的節點是否呈現為連結。</span><span class="sxs-lookup"><span data-stu-id="39ba0-876">A Boolean value that controls whether or not the current node is rendered as a link.</span></span> <span data-ttu-id="39ba0-877">預設值是 False。</span><span class="sxs-lookup"><span data-stu-id="39ba0-877">The default is False.</span></span> |
| <span data-ttu-id="39ba0-878">SkipLinkText</span><span class="sxs-lookup"><span data-stu-id="39ba0-878">SkipLinkText</span></span> | <span data-ttu-id="39ba0-879">當螢幕閱讀程式看到頁面時，協助協助工具。</span><span class="sxs-lookup"><span data-stu-id="39ba0-879">Assists with accessibility when the page is viewed by screen readers.</span></span> <span data-ttu-id="39ba0-880">此屬性允許螢幕閱讀者略過 SiteMapPath 控制項。</span><span class="sxs-lookup"><span data-stu-id="39ba0-880">This property allows screen readers to skip the SiteMapPath control.</span></span> <span data-ttu-id="39ba0-881">若要停用此功能，請將屬性設定為字串. 空白。</span><span class="sxs-lookup"><span data-stu-id="39ba0-881">To disable this feature, set the property to String.Empty.</span></span> |

## <a name="templated-sitemappath-controls"></a><span data-ttu-id="39ba0-882">樣板化 SiteMapPath 控制項</span><span class="sxs-lookup"><span data-stu-id="39ba0-882">Templated SiteMapPath Controls</span></span>

<span data-ttu-id="39ba0-883">SiteMapControl 是樣板化控制項，因此您可以定義不同的範本，以用於顯示控制項。</span><span class="sxs-lookup"><span data-stu-id="39ba0-883">The SiteMapControl is a templated control, and as such, you can define different templates for use in displaying the control.</span></span> <span data-ttu-id="39ba0-884">若要編輯 SiteMapPath 控制項中的範本，請按一下控制項上的 [智慧標籤] 按鈕，然後從功能表中選擇 [編輯範本]。</span><span class="sxs-lookup"><span data-stu-id="39ba0-884">To edit templates in a SiteMapPath control, click the Smart Tag button on the control and choose Edit Templates from the menu.</span></span> <span data-ttu-id="39ba0-885">這會顯示 [SiteMapTasks] 功能表，如下所示，您可以在可用的不同範本之間進行選擇。</span><span class="sxs-lookup"><span data-stu-id="39ba0-885">This displays the SiteMapTasks menu as shown below where you can choose between the different templates available.</span></span>

![](data-bound-controls/_static/image2.jpg)

<span data-ttu-id="39ba0-886">**圖 2**</span><span class="sxs-lookup"><span data-stu-id="39ba0-886">**Figure 2**</span></span>

<span data-ttu-id="39ba0-887">**NodeTemplate**範本是指 SiteMapPath 中的任何節點。</span><span class="sxs-lookup"><span data-stu-id="39ba0-887">The **NodeTemplate** template refers to any node in the SiteMapPath.</span></span> <span data-ttu-id="39ba0-888">如果節點是根節點或目前節點，而且已設定**RootNodeTemplate**或**CurrentNodeTemplate** ，則會覆寫 NodeTemplate。</span><span class="sxs-lookup"><span data-stu-id="39ba0-888">If the node is a root node or the current node and a **RootNodeTemplate** or **CurrentNodeTemplate** is configured, the NodeTemplate is overridden.</span></span>

## <a name="sitemappath-events"></a><span data-ttu-id="39ba0-889">SiteMapPath 事件</span><span class="sxs-lookup"><span data-stu-id="39ba0-889">SiteMapPath Events</span></span>

<span data-ttu-id="39ba0-890">SiteMapPath 控制項有兩個不是衍生自 Control 類別的事件;**ItemCreated**事件和**ItemDataBound**事件。</span><span class="sxs-lookup"><span data-stu-id="39ba0-890">The SiteMapPath control has two events that are not derived from the Control class; the **ItemCreated** event and the **ItemDataBound** event.</span></span> <span data-ttu-id="39ba0-891">建立 SiteMapPath 專案時，會引發 ItemCreated 事件。</span><span class="sxs-lookup"><span data-stu-id="39ba0-891">The ItemCreated event is raised when a SiteMapPath item is created.</span></span> <span data-ttu-id="39ba0-892">在 SiteMapPath-節點的資料系結期間呼叫 DataBind 方法時，會引發 ItemDataBound。</span><span class="sxs-lookup"><span data-stu-id="39ba0-892">ItemDataBound is raised when the DataBind method is called during the data binding of a SiteMapPath node.</span></span> <span data-ttu-id="39ba0-893">**SiteMapNodeItemEventArgs**物件可讓您透過 Item 屬性存取特定的 SiteMapNodeItem。</span><span class="sxs-lookup"><span data-stu-id="39ba0-893">A **SiteMapNodeItemEventArgs** object provides access to the specific SiteMapNodeItem via the Item property.</span></span>

## <a name="controlling-appearance-with-styles"></a><span data-ttu-id="39ba0-894">使用樣式控制外觀</span><span class="sxs-lookup"><span data-stu-id="39ba0-894">Controlling Appearance with Styles</span></span>

<span data-ttu-id="39ba0-895">下列樣式適用于 SiteMapPath 控制項的格式設定。</span><span class="sxs-lookup"><span data-stu-id="39ba0-895">The following styles are available for formatting of a SiteMapPath control.</span></span>

| <span data-ttu-id="39ba0-896">**屬性名稱**</span><span class="sxs-lookup"><span data-stu-id="39ba0-896">**Property Name**</span></span> | <span data-ttu-id="39ba0-897">**控制項**</span><span class="sxs-lookup"><span data-stu-id="39ba0-897">**Controls**</span></span> |
| --- | --- |
| <span data-ttu-id="39ba0-898">CurrentNodeStyle</span><span class="sxs-lookup"><span data-stu-id="39ba0-898">CurrentNodeStyle</span></span> | <span data-ttu-id="39ba0-899">控制目前節點的文字樣式。</span><span class="sxs-lookup"><span data-stu-id="39ba0-899">Controls the style of the text for the current node.</span></span> |
| <span data-ttu-id="39ba0-900">RootNodeStyle</span><span class="sxs-lookup"><span data-stu-id="39ba0-900">RootNodeStyle</span></span> | <span data-ttu-id="39ba0-901">控制根節點的文字樣式。</span><span class="sxs-lookup"><span data-stu-id="39ba0-901">Controls the style of the text for the root node.</span></span> |
| <span data-ttu-id="39ba0-902">NodeStyle</span><span class="sxs-lookup"><span data-stu-id="39ba0-902">NodeStyle</span></span> | <span data-ttu-id="39ba0-903">控制所有節點的文字樣式，假設不適用 CurrentNodeStyle 或 RootNodeStyle。</span><span class="sxs-lookup"><span data-stu-id="39ba0-903">Controls the style of the text for all nodes assuming that a CurrentNodeStyle or RootNodeStyle doesnt apply.</span></span> |

<span data-ttu-id="39ba0-904">CurrentNodeStyle 或 RootNodeStyle 會覆寫 NodeStyle 屬性。</span><span class="sxs-lookup"><span data-stu-id="39ba0-904">The NodeStyle property is overridden by either the CurrentNodeStyle or the RootNodeStyle.</span></span> <span data-ttu-id="39ba0-905">這些屬性都是唯讀的，並會傳回**Style**物件。</span><span class="sxs-lookup"><span data-stu-id="39ba0-905">Each of these properties is read-only and returns a **Style** object.</span></span> <span data-ttu-id="39ba0-906">若要使用其中一個屬性來影響節點的外觀，您必須設定所傳回樣式物件的屬性。</span><span class="sxs-lookup"><span data-stu-id="39ba0-906">To affect the appearance of a node using one of these properties, you will need to set the properties of the Style object that is returned.</span></span> <span data-ttu-id="39ba0-907">例如，下列程式碼會變更目前節點的前景屬性。</span><span class="sxs-lookup"><span data-stu-id="39ba0-907">For example, the code below changes the forecolor property of the current node.</span></span>

[!code-aspx[Main](data-bound-controls/samples/sample10.aspx)]

<span data-ttu-id="39ba0-908">屬性也可以透過程式設計方式套用，如下所示：</span><span class="sxs-lookup"><span data-stu-id="39ba0-908">The property can also be applied programmatically as follows:</span></span>

[!code-csharp[Main](data-bound-controls/samples/sample11.cs)]

> [!NOTE]
> <span data-ttu-id="39ba0-909">如果套用了範本，將不會套用樣式。</span><span class="sxs-lookup"><span data-stu-id="39ba0-909">If a template is applied, the style will not be applied.</span></span>

## <a name="lab-1-configuring-an-aspnet-menu-control"></a><span data-ttu-id="39ba0-910">實驗室1：設定 ASP.NET 功能表控制項</span><span class="sxs-lookup"><span data-stu-id="39ba0-910">Lab 1: Configuring an ASP.NET Menu Control</span></span>

1. <span data-ttu-id="39ba0-911">建立新網站。</span><span class="sxs-lookup"><span data-stu-id="39ba0-911">Create a new Web site.</span></span>
2. <span data-ttu-id="39ba0-912">選取 [檔案]、[新增]、[檔案]，然後從檔案範本清單中選擇 [網站地圖]，以新增網站地圖檔案。</span><span class="sxs-lookup"><span data-stu-id="39ba0-912">Add a Site Map file by selecting File, New, File and choosing Site Map from the list of file templates.</span></span>
3. <span data-ttu-id="39ba0-913">開啟網站地圖（預設為網站地圖）並加以修改，使其看起來像下面的清單。</span><span class="sxs-lookup"><span data-stu-id="39ba0-913">Open the site map (Web.sitemap by default) and modify it so that it looks like the listing below.</span></span> <span data-ttu-id="39ba0-914">您在網站地圖檔案中連結的頁面並不存在，但這在此練習中不會有問題。</span><span class="sxs-lookup"><span data-stu-id="39ba0-914">The pages to which you are linking in the site map file do not really exist, but that will not be an issue for this exercise.</span></span>

    [!code-xml[Main](data-bound-controls/samples/sample12.xml)]
4. <span data-ttu-id="39ba0-915">在設計檢視中開啟預設 Web 表單。</span><span class="sxs-lookup"><span data-stu-id="39ba0-915">Open the default Web form in Design view.</span></span>
5. <span data-ttu-id="39ba0-916">從 [工具箱] 的導覽區段中，將新的 [Menu] 控制項加入至頁面。</span><span class="sxs-lookup"><span data-stu-id="39ba0-916">From the Navigation section of the Toolbox, add a new Menu control to the page.</span></span>
6. <span data-ttu-id="39ba0-917">從 [工具箱] 的 [資料] 區段中，加入新的 SiteMapDataSource。</span><span class="sxs-lookup"><span data-stu-id="39ba0-917">From the Data section of the Toolbox, add a new SiteMapDataSource.</span></span> <span data-ttu-id="39ba0-918">SiteMapDataSource 會自動在您的網站中使用網站地圖檔案。</span><span class="sxs-lookup"><span data-stu-id="39ba0-918">The SiteMapDataSource will automatically use the Web.sitemap file in your site.</span></span> <span data-ttu-id="39ba0-919">（Web.config 檔案*必須*位於網站的根資料夾中）。</span><span class="sxs-lookup"><span data-stu-id="39ba0-919">(The Web.sitemap file *must* be in the root folder of the site.)</span></span>
7. <span data-ttu-id="39ba0-920">按一下 [Menu] 控制項，然後按一下 [智慧標籤] 按鈕以顯示 [功能表工作] 對話方塊。</span><span class="sxs-lookup"><span data-stu-id="39ba0-920">Click the Menu control and then click the Smart Tag button to display the Menu Tasks dialog.</span></span>
8. <span data-ttu-id="39ba0-921">在 [選擇資料來源] 下拉式清單中，選取 [SiteMapDataSource1]。</span><span class="sxs-lookup"><span data-stu-id="39ba0-921">In the Choose Data Source dropdown, select SiteMapDataSource1.</span></span>
9. <span data-ttu-id="39ba0-922">按一下 [自動格式設定] 連結，然後選擇功能表的格式。</span><span class="sxs-lookup"><span data-stu-id="39ba0-922">Click the AutoFormat link and choose a format for the Menu.</span></span>
10. <span data-ttu-id="39ba0-923">在 [屬性] 窗格中，將 [ **StaticDisplayLevels** ] 屬性設定為2。</span><span class="sxs-lookup"><span data-stu-id="39ba0-923">In the Properties pane, set the **StaticDisplayLevels** property to 2.</span></span> <span data-ttu-id="39ba0-924">Menu 控制項現在應該會在設計工具中顯示 [首頁]、[產品] 和 [服務] 節點。</span><span class="sxs-lookup"><span data-stu-id="39ba0-924">The Menu control should now display the Home, Products, and Services node in the Designer.</span></span>
11. <span data-ttu-id="39ba0-925">流覽瀏覽器中的頁面，以使用功能表。</span><span class="sxs-lookup"><span data-stu-id="39ba0-925">Browse the page in your browser to use the menu.</span></span> <span data-ttu-id="39ba0-926">（因為您之前新增至網站地圖的頁面實際上並不存在，當您嘗試並流覽至時，您會看到錯誤）。</span><span class="sxs-lookup"><span data-stu-id="39ba0-926">(Because the pages you ve added to the site map don't actually exist, you will see an error when you try and browse to them.)</span></span>

<span data-ttu-id="39ba0-927">試驗變更 StaticDisplayLevels 和 MaximumDynamicDisplayLevels 屬性，並查看它們如何影響功能表的呈現方式。</span><span class="sxs-lookup"><span data-stu-id="39ba0-927">Experiment with changing the StaticDisplayLevels and the MaximumDynamicDisplayLevels properties and see how they affect how the menu is rendered.</span></span>

## <a name="lab-2-dynamically-binding-a-treeview-control"></a><span data-ttu-id="39ba0-928">實驗室2：動態繫結 TreeView 控制項</span><span class="sxs-lookup"><span data-stu-id="39ba0-928">Lab 2: Dynamically Binding a TreeView Control</span></span>

<span data-ttu-id="39ba0-929">此練習假設您有 SQL Server 在本機執行，而且 Northwind 資料庫存在於 SQL Server 實例上。</span><span class="sxs-lookup"><span data-stu-id="39ba0-929">This exercise assumes that you have SQL Server running locally and that the Northwind database is present on the SQL Server instance.</span></span> <span data-ttu-id="39ba0-930">如果不符合這些條件，請變更範例中的連接字串。</span><span class="sxs-lookup"><span data-stu-id="39ba0-930">If these conditions are not met, please change the connection string in the sample.</span></span> <span data-ttu-id="39ba0-931">請注意，您可能也需要指定 SQL Server authentication，而不是信任的連接。</span><span class="sxs-lookup"><span data-stu-id="39ba0-931">Note that you may also need to specify SQL Server authentication instead of a trusted connection.</span></span>

1. <span data-ttu-id="39ba0-932">建立新網站。</span><span class="sxs-lookup"><span data-stu-id="39ba0-932">Create a new Web site.</span></span>
2. <span data-ttu-id="39ba0-933">切換至 default.aspx 的 [程式碼]，並以下列程式碼取代所有程式碼。</span><span class="sxs-lookup"><span data-stu-id="39ba0-933">Switch to Code view for Default.aspx and replace all code with the code listed below.</span></span> 

    [!code-aspx[Main](data-bound-controls/samples/sample13.aspx)]
3. <span data-ttu-id="39ba0-934">將頁面儲存為 treeview .aspx。</span><span class="sxs-lookup"><span data-stu-id="39ba0-934">Save the page as treeview.aspx.</span></span>
4. <span data-ttu-id="39ba0-935">流覽頁面。</span><span class="sxs-lookup"><span data-stu-id="39ba0-935">Browse the page.</span></span>
5. <span data-ttu-id="39ba0-936">第一次顯示網頁時，請在瀏覽器中查看頁面的來源。</span><span class="sxs-lookup"><span data-stu-id="39ba0-936">When the page is first displayed, view the source of the page in your browser.</span></span> <span data-ttu-id="39ba0-937">請注意，只有可見的節點會傳送至用戶端。</span><span class="sxs-lookup"><span data-stu-id="39ba0-937">Note that only the visible nodes were sent to the client.</span></span>
6. <span data-ttu-id="39ba0-938">按一下任何節點旁邊的加號。</span><span class="sxs-lookup"><span data-stu-id="39ba0-938">Click the plus sign next to any node.</span></span>
7. <span data-ttu-id="39ba0-939">再次查看頁面上的來源。</span><span class="sxs-lookup"><span data-stu-id="39ba0-939">View source on the page again.</span></span> <span data-ttu-id="39ba0-940">請注意，新顯示的節點現在已經存在。</span><span class="sxs-lookup"><span data-stu-id="39ba0-940">Notice that the newly displayed nodes are now present.</span></span>

## <a name="lab-3-details-view-and-editing-data-using-a-gridview-and-detailsview"></a><span data-ttu-id="39ba0-941">實驗室3：使用 GridView 和 DetailsView 詳細說明和編輯資料</span><span class="sxs-lookup"><span data-stu-id="39ba0-941">Lab 3: Details View and Editing Data Using a GridView and DetailsView</span></span>

1. <span data-ttu-id="39ba0-942">建立新網站。</span><span class="sxs-lookup"><span data-stu-id="39ba0-942">Create a new Web site.</span></span>
2. <span data-ttu-id="39ba0-943">將新的 web.config 加入至網站。</span><span class="sxs-lookup"><span data-stu-id="39ba0-943">Add a new web.config to the Web site.</span></span>
3. <span data-ttu-id="39ba0-944">將連接字串新增至 web.config 檔案，如下所示：</span><span class="sxs-lookup"><span data-stu-id="39ba0-944">Add a connection string to the web.config file as shown below:</span></span> 

    [!code-xml[Main](data-bound-controls/samples/sample14.xml)]

    > [!NOTE]
    > <span data-ttu-id="39ba0-945">您可能需要根據您的環境變更連接字串。</span><span class="sxs-lookup"><span data-stu-id="39ba0-945">You may need to change the connection string based upon your environment.</span></span>
4. <span data-ttu-id="39ba0-946">儲存並關閉 web.config 檔案。</span><span class="sxs-lookup"><span data-stu-id="39ba0-946">Save and close the web.config file.</span></span>
5. <span data-ttu-id="39ba0-947">開啟 default.aspx 並加入新的 SqlDataSource 控制項。</span><span class="sxs-lookup"><span data-stu-id="39ba0-947">Open Default.aspx and add a new SqlDataSource control.</span></span>
6. <span data-ttu-id="39ba0-948">將 SqlDataSource 控制項的識別碼變更為**Products**。</span><span class="sxs-lookup"><span data-stu-id="39ba0-948">Change the ID of the SqlDataSource control to **Products**.</span></span>
7. <span data-ttu-id="39ba0-949">在 [ **SqlDataSource**工作] 功能表中，按一下 [**設定資料來源**]。</span><span class="sxs-lookup"><span data-stu-id="39ba0-949">In the **SqlDataSource Tasks** menu, click **Configure Data Source**.</span></span>
8. <span data-ttu-id="39ba0-950">在 [連接] 下拉式清單中選取**Northwind** ，然後按 [下一步]</span><span class="sxs-lookup"><span data-stu-id="39ba0-950">Select **Northwind** in the connection dropdown and click Next.</span></span>
9. <span data-ttu-id="39ba0-951">從 [**名稱**] 下拉式清單中選取 [**產品**]，然後檢查 [ **ProductID**， **ProductName**，**單價**] 和 [量表]**核取方塊，** 如下所示</span><span class="sxs-lookup"><span data-stu-id="39ba0-951">Select **Products** from the **Name** dropdown and check the **ProductID**, **ProductName**, **UnitPrice**, and **UnitsInStock** checkboxes as shown below.</span></span> 

![](data-bound-controls/_static/image3.jpg)

    **Figure 3**
10. <span data-ttu-id="39ba0-952">按 [下一步]。</span><span class="sxs-lookup"><span data-stu-id="39ba0-952">Click **Next**.</span></span>
11. <span data-ttu-id="39ba0-953">按一下 [完成] **Walkthrough: Calling Code in an VSTO Add-in from VBA**。</span><span class="sxs-lookup"><span data-stu-id="39ba0-953">Click **Finish**.</span></span>
12. <span data-ttu-id="39ba0-954">切換至來源視圖，並檢查所產生的程式碼。</span><span class="sxs-lookup"><span data-stu-id="39ba0-954">Switch to Source view and examine the code that was generated.</span></span> <span data-ttu-id="39ba0-955">請注意已新增至 SqlDataSource 控制項的**SelectCommand**、 **DeleteCommand**、 **InsertCommand**和**UpdateCommand** 。</span><span class="sxs-lookup"><span data-stu-id="39ba0-955">Notice the **SelectCommand**, **DeleteCommand**, **InsertCommand**, and **UpdateCommand** that were added to the SqlDataSource control.</span></span> <span data-ttu-id="39ba0-956">另請注意已新增的參數。</span><span class="sxs-lookup"><span data-stu-id="39ba0-956">Also notice the parameters that were added.</span></span>
13. <span data-ttu-id="39ba0-957">切換至設計檢視，並將新的 GridView 控制項加入至頁面。</span><span class="sxs-lookup"><span data-stu-id="39ba0-957">Switch to Design view and add a new GridView control to the page.</span></span>
14. <span data-ttu-id="39ba0-958">從 [**選擇資料來源**] 下拉式清單中選取 [**產品**]。</span><span class="sxs-lookup"><span data-stu-id="39ba0-958">Select **Products** from the **Choose Data Source** dropdown.</span></span>
15. <span data-ttu-id="39ba0-959">核取 [**啟用分頁**] 和 [**啟用選取範圍**]，如下所示。</span><span class="sxs-lookup"><span data-stu-id="39ba0-959">Check **Enable Paging** and **Enable Selection** as shown below.</span></span> 

![](data-bound-controls/_static/image4.jpg)

    **Figure 4**
16. <span data-ttu-id="39ba0-960">按一下 [**編輯資料行**] 連結，並確認已核取 [**自動產生欄位**]。</span><span class="sxs-lookup"><span data-stu-id="39ba0-960">Click the **Edit Columns** link and make sure that **Auto-generate fields** is checked.</span></span>
17. <span data-ttu-id="39ba0-961">按一下 [確定]。</span><span class="sxs-lookup"><span data-stu-id="39ba0-961">Click **OK**.</span></span>
18. <span data-ttu-id="39ba0-962">選取 GridView 控制項後，按一下 [屬性] 窗格中 [ **DataKeyNames** ] 屬性旁邊的按鈕。</span><span class="sxs-lookup"><span data-stu-id="39ba0-962">With the GridView control selected, click the button next to the **DataKeyNames** property in the Properties pane.</span></span>
19. <span data-ttu-id="39ba0-963">從 [可用的**資料欄位**] 清單中選取 [ **ProductID** ]，然後按一下 [ **&gt;** ] 按鈕將其加入。</span><span class="sxs-lookup"><span data-stu-id="39ba0-963">Select **ProductID** from the **Available data fields** list and click the **&gt;** button to add it.</span></span>
20. <span data-ttu-id="39ba0-964">按一下 [確定]。</span><span class="sxs-lookup"><span data-stu-id="39ba0-964">Click OK.</span></span>
21. <span data-ttu-id="39ba0-965">將新的 SqlDataSource 控制項加入至頁面。</span><span class="sxs-lookup"><span data-stu-id="39ba0-965">Add a new SqlDataSource control to the page.</span></span>
22. <span data-ttu-id="39ba0-966">將 SqlDataSource 控制項的識別碼變更為 [**詳細資料**]。</span><span class="sxs-lookup"><span data-stu-id="39ba0-966">Change the ID of the SqlDataSource control to **Details**.</span></span>
23. <span data-ttu-id="39ba0-967">在 [SqlDataSource 工作] 功能表中，選擇 [**設定資料來源**]。</span><span class="sxs-lookup"><span data-stu-id="39ba0-967">From the SqlDataSource Tasks menu, choose **Configure Data Source**.</span></span>
24. <span data-ttu-id="39ba0-968">從下拉式清單中選擇 [ **Northwind** ]，然後按 **[下一步]** 。</span><span class="sxs-lookup"><span data-stu-id="39ba0-968">Choose **Northwind** from the dropdown and click **Next**.</span></span>
25. <span data-ttu-id="39ba0-969">從 <strong>名稱</strong> 下拉式清單中選取 <strong>產品</strong>，然後勾選 資料<strong>行</strong> 清單方塊中的 <strong>\</strong ></span><span class="sxs-lookup"><span data-stu-id="39ba0-969">Select <strong>Products</strong> from the <strong>Name</strong> dropdown and check the <strong>\</strong>\* checkbox in the <strong>Columns</strong> listbox.</span></span>
26. <span data-ttu-id="39ba0-970">按一下 [ **WHERE** ] 按鈕。</span><span class="sxs-lookup"><span data-stu-id="39ba0-970">Click the **WHERE** button.</span></span>
27. <span data-ttu-id="39ba0-971">從 [資料**行**] 下拉式清單中選取 [ **ProductID** ]。</span><span class="sxs-lookup"><span data-stu-id="39ba0-971">Select **ProductID** from the **Column** dropdown.</span></span>
28. <span data-ttu-id="39ba0-972">在 [運算子] 下拉式清單中選取 [ **=** ]。</span><span class="sxs-lookup"><span data-stu-id="39ba0-972">Select **=** in the Operator dropdown.</span></span>
29. <span data-ttu-id="39ba0-973">從 [**來源**] 下拉式清單中選取 [**控制項**]。</span><span class="sxs-lookup"><span data-stu-id="39ba0-973">Select **Control** from the **Source** dropdown.</span></span>
30. <span data-ttu-id="39ba0-974">從 [**控制項識別碼**] 下拉式清單中選取 [ **GridView1** ]。</span><span class="sxs-lookup"><span data-stu-id="39ba0-974">Select **GridView1** from the **Control ID** dropdown.</span></span>
31. <span data-ttu-id="39ba0-975">按一下 [**新增**] 按鈕以加入 WHERE 子句。</span><span class="sxs-lookup"><span data-stu-id="39ba0-975">Click the **Add** button to add the WHERE clause.</span></span>
32. <span data-ttu-id="39ba0-976">按一下 [確定]。</span><span class="sxs-lookup"><span data-stu-id="39ba0-976">Click **OK**.</span></span>
33. <span data-ttu-id="39ba0-977">按一下 [ **Advanced** ] 按鈕，然後選取 [**產生 INSERT、UPDATE 和 DELETE 子句**] 核取方塊。</span><span class="sxs-lookup"><span data-stu-id="39ba0-977">Click the **Advanced** button and check the **Generate INSERT, UPDATE, and DELETE statements** checkbox.</span></span>
34. <span data-ttu-id="39ba0-978">按一下 [確定]。</span><span class="sxs-lookup"><span data-stu-id="39ba0-978">Click **OK**.</span></span>
35. <span data-ttu-id="39ba0-979">按 **[下一步**] 並按一下 **[完成]** 。</span><span class="sxs-lookup"><span data-stu-id="39ba0-979">Click **Next** and click **Finish**.</span></span>
36. <span data-ttu-id="39ba0-980">將 DetailsView 控制項新增至頁面。</span><span class="sxs-lookup"><span data-stu-id="39ba0-980">Add a DetailsView control to the page.</span></span>
37. <span data-ttu-id="39ba0-981">在 [**選擇資料來源**] 下拉式清單中，選擇 [**詳細**資料]。</span><span class="sxs-lookup"><span data-stu-id="39ba0-981">In the **Choose Data Source** dropdown, choose **Details**.</span></span>
38. <span data-ttu-id="39ba0-982">勾選 [**啟用編輯**] 核取方塊，如下所示。</span><span class="sxs-lookup"><span data-stu-id="39ba0-982">Check the **Enable Editing** checkbox as shown below.</span></span> 

![](data-bound-controls/_static/image1.gif)

    **Figure 5**
39. <span data-ttu-id="39ba0-983">儲存頁面並流覽 default.aspx。</span><span class="sxs-lookup"><span data-stu-id="39ba0-983">Save the page and browse Default.aspx.</span></span>
40. <span data-ttu-id="39ba0-984">按一下 [不同記錄] 旁的 [**選取**] 連結，以自動看到 DetailsView 更新。</span><span class="sxs-lookup"><span data-stu-id="39ba0-984">Click the **Select** link next to different records to see the DetailsView update automatically.</span></span>
41. <span data-ttu-id="39ba0-985">按一下 [DetailsView] 控制項中的 [**編輯**] 連結。</span><span class="sxs-lookup"><span data-stu-id="39ba0-985">Click the **Edit** link in the DetailsView control.</span></span>
42. <span data-ttu-id="39ba0-986">對記錄進行變更，然後按一下 [**更新**]。</span><span class="sxs-lookup"><span data-stu-id="39ba0-986">Make a change to the record and click **Update**.</span></span>
