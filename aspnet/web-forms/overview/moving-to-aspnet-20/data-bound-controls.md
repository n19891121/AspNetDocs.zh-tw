---
uid: web-forms/overview/moving-to-aspnet-20/data-bound-controls
title: 資料繫結件 :微軟文件
author: rick-anderson
description: 大多數ASP.NET應用程式依賴於後端數據源的某種程度的數據表示。 數據綁定控件是交互的關鍵部分。
ms.author: riande
ms.date: 02/20/2005
ms.assetid: 0e23ff32-646d-43f3-8bec-6b2313d3abd6
msc.legacyurl: /web-forms/overview/moving-to-aspnet-20/data-bound-controls
msc.type: authoredcontent
ms.openlocfilehash: 941e2ed15b3da28991e7b06cbab570eb1b5b8899
ms.sourcegitcommit: 022f79dbc1350e0c6ffaa1e7e7c6e850cdabf9af
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/17/2020
ms.locfileid: "81543076"
---
# <a name="data-bound-controls"></a><span data-ttu-id="b35b8-104">資料繫結控制項</span><span class="sxs-lookup"><span data-stu-id="b35b8-104">Data Bound Controls</span></span>

<span data-ttu-id="b35b8-105">由[微軟](https://github.com/microsoft)</span><span class="sxs-lookup"><span data-stu-id="b35b8-105">by [Microsoft](https://github.com/microsoft)</span></span>

> <span data-ttu-id="b35b8-106">大多數ASP.NET應用程式依賴於後端數據源的某種程度的數據表示。</span><span class="sxs-lookup"><span data-stu-id="b35b8-106">Most ASP.NET applications rely on some degree of data presentation from a back-end data source.</span></span> <span data-ttu-id="b35b8-107">數據繫結件一直是動態 Web 應用程式中與資料互動的關鍵部分。</span><span class="sxs-lookup"><span data-stu-id="b35b8-107">Data-bound controls have been a pivotal part of interacting with data in dynamic Web applications.</span></span> <span data-ttu-id="b35b8-108">ASP.NET 2.0 引入了對數據綁定控件的一些實質性改進,包括新的 BaseDataBoundControl 類和聲明性語法。</span><span class="sxs-lookup"><span data-stu-id="b35b8-108">ASP.NET 2.0 introduces some substantial improvements to data-bound controls, including a new BaseDataBoundControl class and declarative syntax.</span></span>

<span data-ttu-id="b35b8-109">大多數ASP.NET應用程式依賴於後端數據源的某種程度的數據表示。</span><span class="sxs-lookup"><span data-stu-id="b35b8-109">Most ASP.NET applications rely on some degree of data presentation from a back-end data source.</span></span> <span data-ttu-id="b35b8-110">數據繫結件一直是動態 Web 應用程式中與資料互動的關鍵部分。</span><span class="sxs-lookup"><span data-stu-id="b35b8-110">Data-bound controls have been a pivotal part of interacting with data in dynamic Web applications.</span></span> <span data-ttu-id="b35b8-111">ASP.NET 2.0 引入了對數據綁定控件的一些實質性改進,包括新的 BaseDataBoundControl 類和聲明性語法。</span><span class="sxs-lookup"><span data-stu-id="b35b8-111">ASP.NET 2.0 introduces some substantial improvements to data-bound controls, including a new BaseDataBoundControl class and declarative syntax.</span></span>

<span data-ttu-id="b35b8-112">BaseDataBoundControl 充當 DataBoundControl 類和分層數據綁定控制類的基類。</span><span class="sxs-lookup"><span data-stu-id="b35b8-112">The BaseDataBoundControl acts as the base class for the DataBoundControl class and the HierarchicalDataBoundControl class.</span></span> <span data-ttu-id="b35b8-113">在本模組中,我們將討論以下從 DataBoundControl 派生的類:</span><span class="sxs-lookup"><span data-stu-id="b35b8-113">In this module, we will discuss the following classes that derive from DataBoundControl:</span></span>

- <span data-ttu-id="b35b8-114">AdRotator</span><span class="sxs-lookup"><span data-stu-id="b35b8-114">AdRotator</span></span>
- <span data-ttu-id="b35b8-115">清單控制項</span><span class="sxs-lookup"><span data-stu-id="b35b8-115">List controls</span></span>
- <span data-ttu-id="b35b8-116">GridView</span><span class="sxs-lookup"><span data-stu-id="b35b8-116">GridView</span></span>
- <span data-ttu-id="b35b8-117">表單檢視</span><span class="sxs-lookup"><span data-stu-id="b35b8-117">FormView</span></span>
- <span data-ttu-id="b35b8-118">詳細資訊檢視</span><span class="sxs-lookup"><span data-stu-id="b35b8-118">DetailsView</span></span>

<span data-ttu-id="b35b8-119">我們還將討論以下派生自分層數據綁定控制類的類:</span><span class="sxs-lookup"><span data-stu-id="b35b8-119">We will also discuss the following classes that derive from HierarchicalDataBoundControl class:</span></span>

- <span data-ttu-id="b35b8-120">TreeView</span><span class="sxs-lookup"><span data-stu-id="b35b8-120">TreeView</span></span>
- <span data-ttu-id="b35b8-121">功能表</span><span class="sxs-lookup"><span data-stu-id="b35b8-121">Menu</span></span>
- <span data-ttu-id="b35b8-122">網站地圖路徑</span><span class="sxs-lookup"><span data-stu-id="b35b8-122">SiteMapPath</span></span>

## <a name="databoundcontrol-class"></a><span data-ttu-id="b35b8-123">資料繫結控制類</span><span class="sxs-lookup"><span data-stu-id="b35b8-123">DataBoundControl Class</span></span>

<span data-ttu-id="b35b8-124">DataBoundControl 類是一個抽象類(在 VB 中標記為 MustInherit),用於與表格或列表樣式數據進行交互。</span><span class="sxs-lookup"><span data-stu-id="b35b8-124">The DataBoundControl class is an abstract class (marked MustInherit in VB) used to interact with tabular or list-style data.</span></span> <span data-ttu-id="b35b8-125">以下控件是從 DataBoundControl 派生的一些控制項。</span><span class="sxs-lookup"><span data-stu-id="b35b8-125">The following controls are some of the controls that derive from DataBoundControl.</span></span>

## <a name="adrotator"></a><span data-ttu-id="b35b8-126">AdRotator</span><span class="sxs-lookup"><span data-stu-id="b35b8-126">AdRotator</span></span>

<span data-ttu-id="b35b8-127">AdRotator 控制項允許您在連結到特定 URL 的網頁上顯示圖形橫幅。</span><span class="sxs-lookup"><span data-stu-id="b35b8-127">The AdRotator control allows you to display a graphic banner on a Web page that is linked to a specific URL.</span></span> <span data-ttu-id="b35b8-128">顯示的圖形使用控制項的屬性旋轉。</span><span class="sxs-lookup"><span data-stu-id="b35b8-128">The graphic that is displayed is rotated using properties for the control.</span></span> <span data-ttu-id="b35b8-129">可以使用**展示次數**配置網頁上特定廣告的頻率,並且可以使用關鍵字篩選對廣告進行篩選。</span><span class="sxs-lookup"><span data-stu-id="b35b8-129">The frequency of a particular ad displaying on a page can be configured using the **Impressions** property and ads can be filtered using keyword filtering.</span></span>

<span data-ttu-id="b35b8-130">AdRotator 控制項使用 XML 檔案或資料庫中的表來收集資料。</span><span class="sxs-lookup"><span data-stu-id="b35b8-130">AdRotator controls use either an XML file or a table in a database for data.</span></span> <span data-ttu-id="b35b8-131">XML 檔案中使用以下屬性來設定 AdRotator 控制項。</span><span class="sxs-lookup"><span data-stu-id="b35b8-131">The following attributes are used in XML files to configure the AdRotator control.</span></span>

### <a name="imageurl"></a><span data-ttu-id="b35b8-132">ImageUrl</span><span class="sxs-lookup"><span data-stu-id="b35b8-132">ImageUrl</span></span>
<span data-ttu-id="b35b8-133">要為廣告顯示的圖像的 URL。</span><span class="sxs-lookup"><span data-stu-id="b35b8-133">The URL of an image to display for the ad.</span></span>

### <a name="navigateurl"></a><span data-ttu-id="b35b8-134">導覽網址</span><span class="sxs-lookup"><span data-stu-id="b35b8-134">NavigateUrl</span></span>
<span data-ttu-id="b35b8-135">點擊廣告時應帶用戶輸入的網址。</span><span class="sxs-lookup"><span data-stu-id="b35b8-135">The URL that the user should be taken to when the ad is clicked.</span></span> <span data-ttu-id="b35b8-136">這應該是 URL 編碼的。</span><span class="sxs-lookup"><span data-stu-id="b35b8-136">This should be URL encoded.</span></span>

### <a name="alternatetext"></a><span data-ttu-id="b35b8-137">AlternateText</span><span class="sxs-lookup"><span data-stu-id="b35b8-137">AlternateText</span></span>
<span data-ttu-id="b35b8-138">在工具提示中顯示的由螢幕閱讀器讀取的備用文本。</span><span class="sxs-lookup"><span data-stu-id="b35b8-138">The alternate text that is displayed in a tooltip and read by screen readers.</span></span> <span data-ttu-id="b35b8-139">還顯示 ImageUrl 指定的圖像不可用時。</span><span class="sxs-lookup"><span data-stu-id="b35b8-139">Also displays when the image specified by ImageUrl is not available.</span></span>

### <a name="keyword"></a><span data-ttu-id="b35b8-140">關鍵字</span><span class="sxs-lookup"><span data-stu-id="b35b8-140">Keyword</span></span>
<span data-ttu-id="b35b8-141">定義在使用關鍵字篩選時可以使用的關鍵字。</span><span class="sxs-lookup"><span data-stu-id="b35b8-141">Defines a keyword that can be used when using keyword filtering.</span></span> <span data-ttu-id="b35b8-142">如果指定,則僅顯示關鍵字與關鍵字篩選器匹配的廣告。</span><span class="sxs-lookup"><span data-stu-id="b35b8-142">If specified, only those ads with a keyword matching the keyword filter will be displayed.</span></span>

### <a name="impressions"></a><span data-ttu-id="b35b8-143">曝光數</span><span class="sxs-lookup"><span data-stu-id="b35b8-143">Impressions</span></span>
<span data-ttu-id="b35b8-144">確定特定廣告的展示頻率的加權數位。</span><span class="sxs-lookup"><span data-stu-id="b35b8-144">A weighting number that determines how often a particular ad is likely to appear.</span></span> <span data-ttu-id="b35b8-145">它相對於同一檔中其他廣告的展示次數。</span><span class="sxs-lookup"><span data-stu-id="b35b8-145">It is relative to the impression of other ads in the same file.</span></span> <span data-ttu-id="b35b8-146">XML 檔中所有廣告的集體展示的最大價值為2,048,000,000 1。</span><span class="sxs-lookup"><span data-stu-id="b35b8-146">The maximum value of the collective impressions for all ads in an XML file is 2,048,000,000 1.</span></span>

### <a name="height"></a><span data-ttu-id="b35b8-147">高度</span><span class="sxs-lookup"><span data-stu-id="b35b8-147">Height</span></span>
<span data-ttu-id="b35b8-148">廣告的高度(以像素為單位)。</span><span class="sxs-lookup"><span data-stu-id="b35b8-148">The height of the ad in pixels.</span></span>

### <a name="width"></a><span data-ttu-id="b35b8-149">寬度</span><span class="sxs-lookup"><span data-stu-id="b35b8-149">Width</span></span>
<span data-ttu-id="b35b8-150">廣告的寬度(以像素為單位)。</span><span class="sxs-lookup"><span data-stu-id="b35b8-150">The width of the ad in pixels.</span></span>

> [!NOTE]
> <span data-ttu-id="b35b8-151">"高度和寬度"屬性將覆蓋 AdRotator 控制項本身的高度和寬度。</span><span class="sxs-lookup"><span data-stu-id="b35b8-151">The Height and Width attributes override the height and width for the AdRotator control itself.</span></span>

<span data-ttu-id="b35b8-152">典型的 XML 檔案可能如下所示:</span><span class="sxs-lookup"><span data-stu-id="b35b8-152">A typical XML file might look like the following:</span></span>

[!code-xml[Main](data-bound-controls/samples/sample1.xml)]

<span data-ttu-id="b35b8-153">在上面的示例中,Contoso 的廣告出現的可能性是ASP.NET網站廣告的兩倍,因為"展示次數"屬性的值。</span><span class="sxs-lookup"><span data-stu-id="b35b8-153">In the above example, the ad for Contoso is twice as likely to appear as the ad for the ASP.NET Web site because of the value for the Impressions attribute.</span></span>

<span data-ttu-id="b35b8-154">要顯示來自上述 XML 檔中的廣告,向頁面添加 AdRotator 控制項,並將 **「廣告檔」** 屬性設定為 XML 檔,如下所示:</span><span class="sxs-lookup"><span data-stu-id="b35b8-154">To display ads from the above XML file, add an AdRotator control to a page and set the **AdvertisementFile** property to point to the XML file as shown below:</span></span>

[!code-aspx[Main](data-bound-controls/samples/sample2.aspx)]

<span data-ttu-id="b35b8-155">如果選擇使用資料庫表作為 AdRotator 控制項的資料來源,則必須使用以下架構設定資料庫:</span><span class="sxs-lookup"><span data-stu-id="b35b8-155">If you choose to use a database table as the data source for your AdRotator control, you will first need to set up a database using the following schema:</span></span>

| <span data-ttu-id="b35b8-156">**欄名稱**</span><span class="sxs-lookup"><span data-stu-id="b35b8-156">**Column name**</span></span> | <span data-ttu-id="b35b8-157">**資料類型**</span><span class="sxs-lookup"><span data-stu-id="b35b8-157">**Data type**</span></span> | <span data-ttu-id="b35b8-158">**說明**</span><span class="sxs-lookup"><span data-stu-id="b35b8-158">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="b35b8-159">ID</span><span class="sxs-lookup"><span data-stu-id="b35b8-159">ID</span></span> | <span data-ttu-id="b35b8-160">int</span><span class="sxs-lookup"><span data-stu-id="b35b8-160">int</span></span> | <span data-ttu-id="b35b8-161">主索引鍵。</span><span class="sxs-lookup"><span data-stu-id="b35b8-161">Primary key.</span></span> <span data-ttu-id="b35b8-162">此列可以具有任何名稱。</span><span class="sxs-lookup"><span data-stu-id="b35b8-162">This column can have any name.</span></span> |
| <span data-ttu-id="b35b8-163">ImageUrl</span><span class="sxs-lookup"><span data-stu-id="b35b8-163">ImageUrl</span></span> | <span data-ttu-id="b35b8-164">恩瓦爾恰爾(*長度*)</span><span class="sxs-lookup"><span data-stu-id="b35b8-164">nvarchar(*length*)</span></span> | <span data-ttu-id="b35b8-165">要為廣告顯示的圖像的相對或絕對 URL。</span><span class="sxs-lookup"><span data-stu-id="b35b8-165">The relative or absolute URL of the image to display for the ad.</span></span> |
| <span data-ttu-id="b35b8-166">導覽網址</span><span class="sxs-lookup"><span data-stu-id="b35b8-166">NavigateUrl</span></span> | <span data-ttu-id="b35b8-167">恩瓦爾恰爾(*長度*)</span><span class="sxs-lookup"><span data-stu-id="b35b8-167">nvarchar(*length*)</span></span> | <span data-ttu-id="b35b8-168">廣告的目標網址。</span><span class="sxs-lookup"><span data-stu-id="b35b8-168">The target URL for the ad.</span></span> <span data-ttu-id="b35b8-169">如果您未提供值,則廣告不是超連結。</span><span class="sxs-lookup"><span data-stu-id="b35b8-169">If you do not provide a value, the ad is not a hyperlink.</span></span> |
| <span data-ttu-id="b35b8-170">AlternateText</span><span class="sxs-lookup"><span data-stu-id="b35b8-170">AlternateText</span></span> | <span data-ttu-id="b35b8-171">恩瓦爾恰爾(*長度*)</span><span class="sxs-lookup"><span data-stu-id="b35b8-171">nvarchar(*length*)</span></span> | <span data-ttu-id="b35b8-172">如果找不到影像,則顯示的文本。</span><span class="sxs-lookup"><span data-stu-id="b35b8-172">The text displayed if the image cannot be found.</span></span> <span data-ttu-id="b35b8-173">在某些瀏覽器中,文本顯示為工具提示。</span><span class="sxs-lookup"><span data-stu-id="b35b8-173">In some browsers, the text is displayed as a ToolTip.</span></span> <span data-ttu-id="b35b8-174">備用文本還用於輔助功能,以便看不到圖形的用戶可以聽到其描述大聲讀出。</span><span class="sxs-lookup"><span data-stu-id="b35b8-174">Alternate text is also used for accessibility so that users who cannot see the graphic can hear its description read out loud.</span></span> |
| <span data-ttu-id="b35b8-175">關鍵字</span><span class="sxs-lookup"><span data-stu-id="b35b8-175">Keyword</span></span> | <span data-ttu-id="b35b8-176">恩瓦爾恰爾(*長度*)</span><span class="sxs-lookup"><span data-stu-id="b35b8-176">nvarchar(*length*)</span></span> | <span data-ttu-id="b35b8-177">網頁可以過濾的廣告的類別。</span><span class="sxs-lookup"><span data-stu-id="b35b8-177">A category for the ad on which the page can filter.</span></span> |
| <span data-ttu-id="b35b8-178">曝光數</span><span class="sxs-lookup"><span data-stu-id="b35b8-178">Impressions</span></span> | <span data-ttu-id="b35b8-179">int(4)</span><span class="sxs-lookup"><span data-stu-id="b35b8-179">int(4)</span></span> | <span data-ttu-id="b35b8-180">指示廣告展示頻率的可能性的數位。</span><span class="sxs-lookup"><span data-stu-id="b35b8-180">A number that indicates the likelihood of how often the ad is displayed.</span></span> <span data-ttu-id="b35b8-181">數位越大,廣告的展示頻率就越大。</span><span class="sxs-lookup"><span data-stu-id="b35b8-181">The larger the number, the more often the ad will be displayed.</span></span> <span data-ttu-id="b35b8-182">XML 檔中的所有展示次數值總數不得超過 2,048,000,000 - 1。</span><span class="sxs-lookup"><span data-stu-id="b35b8-182">The total of all impressions values in the XML file may not exceed 2,048,000,000 - 1.</span></span> |
| <span data-ttu-id="b35b8-183">寬度</span><span class="sxs-lookup"><span data-stu-id="b35b8-183">Width</span></span> | <span data-ttu-id="b35b8-184">int(4)</span><span class="sxs-lookup"><span data-stu-id="b35b8-184">int(4)</span></span> | <span data-ttu-id="b35b8-185">圖像的寬度(以像素為單位)。</span><span class="sxs-lookup"><span data-stu-id="b35b8-185">The width of the image in pixels.</span></span> |
| <span data-ttu-id="b35b8-186">高度</span><span class="sxs-lookup"><span data-stu-id="b35b8-186">Height</span></span> | <span data-ttu-id="b35b8-187">int(4)</span><span class="sxs-lookup"><span data-stu-id="b35b8-187">int(4)</span></span> | <span data-ttu-id="b35b8-188">圖像的高度(以像素為單位)。</span><span class="sxs-lookup"><span data-stu-id="b35b8-188">The height of the image in pixels.</span></span> |

<span data-ttu-id="b35b8-189">如果您已經擁有了具有不同架構的資料庫,則可以使用**AlternateTextField、ImageUrlField**和**Navigate UrlField\*\*\*\*NavigateUrlField**屬性將 AdRotator 屬性映射到現有資料庫。</span><span class="sxs-lookup"><span data-stu-id="b35b8-189">In cases where you already have a database with a different schema, you can use the **AlternateTextField**, **ImageUrlField**, and **NavigateUrlField** properties to map the AdRotator attributes to your existing database.</span></span> <span data-ttu-id="b35b8-190">要在 AdRotator 控制項中顯示資料庫中的數據,請向頁面新增資料來源控制項,設定資料來源控制項的連接字串以指向資料庫,並將 AdRotator 控制項的**DataSourceID**屬性設定為資料源控制件的 ID。</span><span class="sxs-lookup"><span data-stu-id="b35b8-190">To display the data from the database in the AdRotator control, add a data source control to the page, configure the connection string for the data source control to point to your database, and set the AdRotator control's **DataSourceID** property to the ID of the data source control.</span></span> <span data-ttu-id="b35b8-191">如果您需要以程式設計方式配置 AdRotator 廣告,請使用 Ad"創建"活動。</span><span class="sxs-lookup"><span data-stu-id="b35b8-191">In cases where you have a need to configure AdRotator ads programmatically, use the AdCreated event.</span></span> <span data-ttu-id="b35b8-192">AdCreated 事件需要兩個參數;一個物件,另一個為 AdCreatedEventArgs 的實例。</span><span class="sxs-lookup"><span data-stu-id="b35b8-192">The AdCreated event takes two parameters; one an object, and the other an instance of AdCreatedEventArgs.</span></span> <span data-ttu-id="b35b8-193">AdCreatedEventArgs 是對正在創建的廣告的引用。</span><span class="sxs-lookup"><span data-stu-id="b35b8-193">The AdCreatedEventArgs is a reference to the ad that is being created.</span></span>

<span data-ttu-id="b35b8-194">以下代碼段以程式設計方式設定廣告的 ImageUrl、NavigateUrl 和備用文字:</span><span class="sxs-lookup"><span data-stu-id="b35b8-194">The following code snippet sets the ImageUrl, NavigateUrl, and AlternateText for an ad programmatically:</span></span>

[!code-csharp[Main](data-bound-controls/samples/sample3.cs)]

## <a name="list-controls"></a><span data-ttu-id="b35b8-195">清單控制項</span><span class="sxs-lookup"><span data-stu-id="b35b8-195">List Controls</span></span>

<span data-ttu-id="b35b8-196">清單控制項包括清單框、下拉清單、複選框清單、廣播按鈕清單和專案符號清單。</span><span class="sxs-lookup"><span data-stu-id="b35b8-196">List controls include the ListBox, DropDownList, CheckBoxList, RadioButtonList, and BulletedList.</span></span> <span data-ttu-id="b35b8-197">這些控制項中的每一個都可以綁定到數據源的數據。</span><span class="sxs-lookup"><span data-stu-id="b35b8-197">Each of these controls can be data bound to a data source.</span></span> <span data-ttu-id="b35b8-198">它們使用數據源中的一個字段作為顯示文本,可以選擇使用第二個字段作為項的值。</span><span class="sxs-lookup"><span data-stu-id="b35b8-198">They use one field in the data source as the display text and can optionally use a second field as the value of an item.</span></span> <span data-ttu-id="b35b8-199">還可以在設計時靜態添加項,還可以混合從數據源添加的靜態項和動態項。</span><span class="sxs-lookup"><span data-stu-id="b35b8-199">Items can also be added statically at design-time, and you can mix static items and dynamic items added from a data source.</span></span>

<span data-ttu-id="b35b8-200">要綁定清單控制項,向頁面添加資料來源控制項。</span><span class="sxs-lookup"><span data-stu-id="b35b8-200">To data bind a list control, add a data source control to the page.</span></span> <span data-ttu-id="b35b8-201">為資料來源控制項指定 SELECT 命令,然後將清單控制項的 DataSourceID 屬性設定為資料來源控制項的 ID。</span><span class="sxs-lookup"><span data-stu-id="b35b8-201">Specify a SELECT command for the data source control and then set the DataSourceID property of the list control to the ID of the data source control.</span></span> <span data-ttu-id="b35b8-202">使用**DataTextField**和**DataValueField**屬性定義顯示文本和控制項的值。</span><span class="sxs-lookup"><span data-stu-id="b35b8-202">Use the **DataTextField** and **DataValueField** properties to define the display text and the value for the control.</span></span> <span data-ttu-id="b35b8-203">此外,您可以使用**DataTextFormatString**屬性控制顯示文字的外觀,如下所示:</span><span class="sxs-lookup"><span data-stu-id="b35b8-203">Additionally, you can use the **DataTextFormatString** property to control the appearance of the display text as follows:</span></span>

| <span data-ttu-id="b35b8-204">**表達**</span><span class="sxs-lookup"><span data-stu-id="b35b8-204">**Expression**</span></span> | <span data-ttu-id="b35b8-205">**說明**</span><span class="sxs-lookup"><span data-stu-id="b35b8-205">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="b35b8-206">價格:{0:C}</span><span class="sxs-lookup"><span data-stu-id="b35b8-206">Price: {0:C}</span></span> | <span data-ttu-id="b35b8-207">對於數位/十進位數據。</span><span class="sxs-lookup"><span data-stu-id="b35b8-207">For numeric/decimal data.</span></span> <span data-ttu-id="b35b8-208">顯示字面「價格:「後跟貨幣格式的數位。</span><span class="sxs-lookup"><span data-stu-id="b35b8-208">Displays the literal "Price:" followed by numbers in currency format.</span></span> <span data-ttu-id="b35b8-209">貨幣格式取決於**在 Page**指令或 Web.config 檔中的區域性屬性中指定的區域性設置。</span><span class="sxs-lookup"><span data-stu-id="b35b8-209">The currency format depends on the culture setting specified in the culture attribute on the **Page** directive or in the Web.config file.</span></span> |
| {0:D4} | <span data-ttu-id="b35b8-210">對於整數數據。</span><span class="sxs-lookup"><span data-stu-id="b35b8-210">For integer data.</span></span> <span data-ttu-id="b35b8-211">不能與十進位數位一起使用。</span><span class="sxs-lookup"><span data-stu-id="b35b8-211">Cannot be used with decimal numbers.</span></span> <span data-ttu-id="b35b8-212">整數顯示在四個字元寬的零填充欄位中。</span><span class="sxs-lookup"><span data-stu-id="b35b8-212">Integers are displayed in a zero-padded field that is four characters wide.</span></span> |
| <span data-ttu-id="b35b8-213">{0:N2}%</span><span class="sxs-lookup"><span data-stu-id="b35b8-213">{0:N2}%</span></span> | <span data-ttu-id="b35b8-214">對於數字數據。</span><span class="sxs-lookup"><span data-stu-id="b35b8-214">For numeric data.</span></span> <span data-ttu-id="b35b8-215">顯示具有 2 位精度的數位,後跟字"%」。。</span><span class="sxs-lookup"><span data-stu-id="b35b8-215">Displays the number with 2-decimal place precision followed by the literal "%".</span></span> |
| <span data-ttu-id="b35b8-216">{0:000.0}</span><span class="sxs-lookup"><span data-stu-id="b35b8-216">{0:000.0}</span></span> | <span data-ttu-id="b35b8-217">對於數位/十進位數據。</span><span class="sxs-lookup"><span data-stu-id="b35b8-217">For numeric/decimal data.</span></span> <span data-ttu-id="b35b8-218">數位四捨五入為小數位數。</span><span class="sxs-lookup"><span data-stu-id="b35b8-218">Numbers are rounded to one decimal place.</span></span> <span data-ttu-id="b35b8-219">小於三位數的數字會填補零。</span><span class="sxs-lookup"><span data-stu-id="b35b8-219">Numbers less than three digits are zero-padded.</span></span> |
| {0:D} | <span data-ttu-id="b35b8-220">對於日期/時間數據。</span><span class="sxs-lookup"><span data-stu-id="b35b8-220">For date/time data.</span></span> <span data-ttu-id="b35b8-221">顯示長日期格式("1996年8月6日,星期四")。</span><span class="sxs-lookup"><span data-stu-id="b35b8-221">Displays long date format ("Thursday, August 06, 1996").</span></span> <span data-ttu-id="b35b8-222">日期格式取決於頁面或 Web.config 檔案的文化設定。</span><span class="sxs-lookup"><span data-stu-id="b35b8-222">Date format depends on the culture setting of the page or the Web.config file.</span></span> |
| {0:d} | <span data-ttu-id="b35b8-223">對於日期/時間數據。</span><span class="sxs-lookup"><span data-stu-id="b35b8-223">For date/time data.</span></span> <span data-ttu-id="b35b8-224">顯示短日期格式("12/31/99")。</span><span class="sxs-lookup"><span data-stu-id="b35b8-224">Displays short date format ("12/31/99").</span></span> |
| <span data-ttu-id="b35b8-225">{0:yy-MM-dd}</span><span class="sxs-lookup"><span data-stu-id="b35b8-225">{0:yy-MM-dd}</span></span> | <span data-ttu-id="b35b8-226">對於日期/時間數據。</span><span class="sxs-lookup"><span data-stu-id="b35b8-226">For date/time data.</span></span> <span data-ttu-id="b35b8-227">以數位年月格式顯示日期 (96-08-06)</span><span class="sxs-lookup"><span data-stu-id="b35b8-227">Displays date in numeric year-month-day format (96-08-06)</span></span> |

## <a name="gridview"></a><span data-ttu-id="b35b8-228">GridView</span><span class="sxs-lookup"><span data-stu-id="b35b8-228">GridView</span></span>

<span data-ttu-id="b35b8-229">GridView 控制件允許使用聲明性方法進行表格式數據顯示和編輯,是DataGrid控制件的繼承者。</span><span class="sxs-lookup"><span data-stu-id="b35b8-229">The GridView control allows for tabular data display and editing using a declarative approach and is the successor to the DataGrid control.</span></span> <span data-ttu-id="b35b8-230">網格視圖控件中提供了以下功能。</span><span class="sxs-lookup"><span data-stu-id="b35b8-230">The following features are available in the GridView control.</span></span>

- <span data-ttu-id="b35b8-231">綁定到資料源控件,如 SqlDataSource。</span><span class="sxs-lookup"><span data-stu-id="b35b8-231">Binding to data source controls, such as SqlDataSource.</span></span>
- <span data-ttu-id="b35b8-232">內置排序功能。</span><span class="sxs-lookup"><span data-stu-id="b35b8-232">Built-in sorting capabilities.</span></span>
- <span data-ttu-id="b35b8-233">內置更新和刪除功能。</span><span class="sxs-lookup"><span data-stu-id="b35b8-233">Built-in updating and deleting capabilities.</span></span>
- <span data-ttu-id="b35b8-234">內置尋呼功能。</span><span class="sxs-lookup"><span data-stu-id="b35b8-234">Built-in paging capabilities.</span></span>
- <span data-ttu-id="b35b8-235">內置行選擇功能。</span><span class="sxs-lookup"><span data-stu-id="b35b8-235">Built-in row selection capabilities.</span></span>
- <span data-ttu-id="b35b8-236">對 GridView 物件模型的程式設計訪問,以動態設置屬性、處理事件等。</span><span class="sxs-lookup"><span data-stu-id="b35b8-236">Programmatic access to the GridView object model to dynamically set properties, handle events, and so on.</span></span>
- <span data-ttu-id="b35b8-237">多個鍵欄位。</span><span class="sxs-lookup"><span data-stu-id="b35b8-237">Multiple key fields.</span></span>
- <span data-ttu-id="b35b8-238">超連結列的多個數據欄位。</span><span class="sxs-lookup"><span data-stu-id="b35b8-238">Multiple data fields for the hyperlink columns.</span></span>
- <span data-ttu-id="b35b8-239">通過主題和樣式自定義外觀。</span><span class="sxs-lookup"><span data-stu-id="b35b8-239">Customizable appearance through themes and styles.</span></span>

<span data-ttu-id="b35b8-240">**欄欄位**</span><span class="sxs-lookup"><span data-stu-id="b35b8-240">**Column Fields**</span></span>

<span data-ttu-id="b35b8-241">GridView 控件中的每個列都由數據控制欄位物件表示。</span><span class="sxs-lookup"><span data-stu-id="b35b8-241">Each column in the GridView control is represented by a DataControlField object.</span></span> <span data-ttu-id="b35b8-242">預設情況下,自動產生列柱屬性設置為 true ,該**屬性**為資料源中的每個欄位創建一個自動生成欄位物件。</span><span class="sxs-lookup"><span data-stu-id="b35b8-242">By default, the AutoGenerateColumns property is set to **true**, which creates an AutoGeneratedField object for each field in the data source.</span></span> <span data-ttu-id="b35b8-243">然後,每個欄位都以網格檢視控制件中的列呈現為一列,順序顯示每個欄位在數據源中。</span><span class="sxs-lookup"><span data-stu-id="b35b8-243">Each field is then rendered as a column in the GridView control in the order that each field appears in the data source.</span></span> <span data-ttu-id="b35b8-244">還可以透過**將 「自動產生列」** 屬性設定為**false,** 然後定義自己的欄位集合,手動控制**GridView**控件中顯示的欄位。</span><span class="sxs-lookup"><span data-stu-id="b35b8-244">You can also manually control which column fields appear in the **GridView** control by setting the **AutoGenerateColumns** property to **false** and then defining your own column field collection.</span></span> <span data-ttu-id="b35b8-245">不同的列欄位類型確定控制項中列的行為。</span><span class="sxs-lookup"><span data-stu-id="b35b8-245">Different column field types determine the behavior of the columns in the control.</span></span>

<span data-ttu-id="b35b8-246">下表列出了可以使用的不同列欄位類型。</span><span class="sxs-lookup"><span data-stu-id="b35b8-246">The following table lists the different column field types that can be used.</span></span>

| <span data-ttu-id="b35b8-247">**欄位型別**</span><span class="sxs-lookup"><span data-stu-id="b35b8-247">**Column field type**</span></span> | <span data-ttu-id="b35b8-248">**說明**</span><span class="sxs-lookup"><span data-stu-id="b35b8-248">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="b35b8-249">BoundField</span><span class="sxs-lookup"><span data-stu-id="b35b8-249">BoundField</span></span> | <span data-ttu-id="b35b8-250">顯示資料源中欄位的值。</span><span class="sxs-lookup"><span data-stu-id="b35b8-250">Displays the value of a field in a data source.</span></span> <span data-ttu-id="b35b8-251">這是 GridView 控件的預設列類型。</span><span class="sxs-lookup"><span data-stu-id="b35b8-251">This is the default column type of the GridView control.</span></span> |
| <span data-ttu-id="b35b8-252">ButtonField</span><span class="sxs-lookup"><span data-stu-id="b35b8-252">ButtonField</span></span> | <span data-ttu-id="b35b8-253">顯示 GridView 控件中每個專案的命令按鈕。</span><span class="sxs-lookup"><span data-stu-id="b35b8-253">Displays a command button for each item in the GridView control.</span></span> <span data-ttu-id="b35b8-254">這允許您創建自訂按鈕控制件的欄,例如「新增」或「刪除」按鈕。</span><span class="sxs-lookup"><span data-stu-id="b35b8-254">This allows you to create a column of custom button controls, such as the Add or the Remove button.</span></span> |
| <span data-ttu-id="b35b8-255">CheckBoxField</span><span class="sxs-lookup"><span data-stu-id="b35b8-255">CheckBoxField</span></span> | <span data-ttu-id="b35b8-256">在 GridView 控件中顯示每個項目的複選框。</span><span class="sxs-lookup"><span data-stu-id="b35b8-256">Displays a check box for each item in the GridView control.</span></span> <span data-ttu-id="b35b8-257">此欄位類型通常用於顯示具有布林值的欄位。</span><span class="sxs-lookup"><span data-stu-id="b35b8-257">This column field type is commonly used to display fields with a Boolean value.</span></span> |
| <span data-ttu-id="b35b8-258">CommandField</span><span class="sxs-lookup"><span data-stu-id="b35b8-258">CommandField</span></span> | <span data-ttu-id="b35b8-259">顯示預先定義的指令按鈕,以執行選擇、編輯或刪除操作。</span><span class="sxs-lookup"><span data-stu-id="b35b8-259">Displays predefined command buttons to perform selecting, editing, or deleting operations.</span></span> |
| <span data-ttu-id="b35b8-260">HyperLinkField</span><span class="sxs-lookup"><span data-stu-id="b35b8-260">HyperLinkField</span></span> | <span data-ttu-id="b35b8-261">將數據源中的欄位值顯示為超連結。</span><span class="sxs-lookup"><span data-stu-id="b35b8-261">Displays the value of a field in a data source as a hyperlink.</span></span> <span data-ttu-id="b35b8-262">此列欄位類型允許您將第二個字段綁定到超連結的 URL。</span><span class="sxs-lookup"><span data-stu-id="b35b8-262">This column field type allows you to bind a second field to the hyperlink's URL.</span></span> |
| <span data-ttu-id="b35b8-263">ImageField</span><span class="sxs-lookup"><span data-stu-id="b35b8-263">ImageField</span></span> | <span data-ttu-id="b35b8-264">在 GridView 控件中顯示每個項目的圖像。</span><span class="sxs-lookup"><span data-stu-id="b35b8-264">Displays an image for each item in the GridView control.</span></span> |
| <span data-ttu-id="b35b8-265">樣本欄位</span><span class="sxs-lookup"><span data-stu-id="b35b8-265">TemplateField</span></span> | <span data-ttu-id="b35b8-266">根據指定的範本顯示 GridView 控制件中每個專案的使用者定義內容。</span><span class="sxs-lookup"><span data-stu-id="b35b8-266">Displays user-defined content for each item in the GridView control according to a specified template.</span></span> <span data-ttu-id="b35b8-267">此欄位類型允許您建立自訂欄位。</span><span class="sxs-lookup"><span data-stu-id="b35b8-267">This column field type allows you to create a custom column field.</span></span> |

<span data-ttu-id="b35b8-268">要聲明性地定義列欄位集合,請首先在 GridView 控件的打開和關閉標記之間添加開篇**&lt;和&gt;** 關閉 列標記。</span><span class="sxs-lookup"><span data-stu-id="b35b8-268">To define a column field collection declaratively, first add opening and closing **&lt;Columns&gt;** tags between the opening and closing tags of the GridView control.</span></span> <span data-ttu-id="b35b8-269">接下來,列出要在"開始"和"關閉**&lt;列"&gt;** 標記之間包含的欄位。</span><span class="sxs-lookup"><span data-stu-id="b35b8-269">Next, list the column fields that you want to include between the opening and closing **&lt;Columns&gt;** tags.</span></span> <span data-ttu-id="b35b8-270">指定的列按列出的順序添加到列集合中。</span><span class="sxs-lookup"><span data-stu-id="b35b8-270">The columns specified are added to the Columns collection in the order listed.</span></span> <span data-ttu-id="b35b8-271">**列**集合儲存控制項中的所有欄位,並允許您以程式設計方式管理 GridView 控制件中的欄位。</span><span class="sxs-lookup"><span data-stu-id="b35b8-271">The **Columns** collection stores all the column fields in the control and allows you to programmatically manage the column fields in the GridView control.</span></span>

<span data-ttu-id="b35b8-272">顯式聲明的列欄位可以與自動生成的欄位結合顯示。</span><span class="sxs-lookup"><span data-stu-id="b35b8-272">Explicitly declared column fields can be displayed in combination with automatically generated column fields.</span></span> <span data-ttu-id="b35b8-273">當兩者同時使用時,首先呈現顯式聲明的列欄位,後跟自動生成的列欄位。</span><span class="sxs-lookup"><span data-stu-id="b35b8-273">When both are used, explicitly declared column fields are rendered first, followed by the automatically generated column fields.</span></span>

## <a name="binding-to-data"></a><span data-ttu-id="b35b8-274">繫結到資料</span><span class="sxs-lookup"><span data-stu-id="b35b8-274">Binding to Data</span></span>

<span data-ttu-id="b35b8-275">GridView 控制項可以綁定到資料來源控制項(如**SqlDataSource、ObjectDataSource**等)以及實現系統的任何**ObjectDataSource**資料來源。</span><span class="sxs-lookup"><span data-stu-id="b35b8-275">The GridView control can be bound to a data source control (such as **SqlDataSource**, **ObjectDataSource**, and so on), as well as any data source that implements the System.Collections.IEnumerable interface (such as System.Data.DataView, System.Collections.ArrayList, or System.Collections.Hashtable).</span></span> <span data-ttu-id="b35b8-276">使用以下方法之一將 GridView 控制元件的結合資料來源類型:</span><span class="sxs-lookup"><span data-stu-id="b35b8-276">Use one of the following methods to bind the GridView control to the appropriate data source type:</span></span>

- <span data-ttu-id="b35b8-277">要綁定到資料源控制項,將 GridView 控制項的 DataSourceID 屬性設置為資料來源控制項的 ID 值。</span><span class="sxs-lookup"><span data-stu-id="b35b8-277">To bind to a data source control, set the DataSourceID property of the GridView control to the ID value of the data source control.</span></span> <span data-ttu-id="b35b8-278">GridView 控件會自動綁定到指定的數據源控制項,並可以利用資料來源控制項的功能執行排序、更新、刪除和分頁功能。</span><span class="sxs-lookup"><span data-stu-id="b35b8-278">The GridView control automatically binds to the specified data source control and can take advantage of the data source control's capabilities to perform sorting, updating, deleting, and paging functionality.</span></span> <span data-ttu-id="b35b8-279">這是綁定到數據的首選方法。</span><span class="sxs-lookup"><span data-stu-id="b35b8-279">This is the preferred method to bind to data.</span></span>
- <span data-ttu-id="b35b8-280">要綁定到實現 System.集合.IE50ble 介面的數據源,請以程式設計方式將 GridView 控件的 DataSource 屬性設置為數據源,然後調用 DataBind 方法。</span><span class="sxs-lookup"><span data-stu-id="b35b8-280">To bind to a data source that implements the System.Collections.IEnumerable interface, programmatically set the DataSource property of the GridView control to the data source and then call the DataBind method.</span></span> <span data-ttu-id="b35b8-281">使用此方法時,GridView 控制件不提供內置排序、更新、刪除和分頁功能。</span><span class="sxs-lookup"><span data-stu-id="b35b8-281">When using this method, the GridView control does not provide built-in sorting, updating, deleting, and paging functionality.</span></span> <span data-ttu-id="b35b8-282">您需要自己提供此功能。</span><span class="sxs-lookup"><span data-stu-id="b35b8-282">You need to provide this functionality yourself.</span></span>

## <a name="data-operations"></a><span data-ttu-id="b35b8-283">資料作業</span><span class="sxs-lookup"><span data-stu-id="b35b8-283">Data Operations</span></span>

<span data-ttu-id="b35b8-284">GridView 控制件提供了許多內建功能,允許使用者對控制項中的項進行排序、更新、刪除、選擇和分頁。</span><span class="sxs-lookup"><span data-stu-id="b35b8-284">The GridView control provides many built-in capabilities that allow the user to sort, update, delete, select, and page through items in the control.</span></span> <span data-ttu-id="b35b8-285">當 GridView 控件綁定到數據來源控制項時,GridView 控件可以利用資料來源控制件的功能並提供自動排序、更新和刪除功能。</span><span class="sxs-lookup"><span data-stu-id="b35b8-285">When the GridView control is bound to a data source control, the GridView control can take advantage of the data source control's capabilities and provide automatic sorting, updating, and deleting functionality.</span></span>

> [!NOTE]
> <span data-ttu-id="b35b8-286">GridView 控件可以為與其他類型的數據源進行排序、更新和刪除提供支援;但是,您需要提供適當的事件處理程式,並實現這些操作。</span><span class="sxs-lookup"><span data-stu-id="b35b8-286">The GridView control can provide support for sorting, updating, and deleting with other types of data sources; however, you will need to provide an appropriate event handler with the implementation for these operations.</span></span>

<span data-ttu-id="b35b8-287">排序允許用戶通過單擊列的標題對 GridView 控件中相對於特定列的專案進行排序。</span><span class="sxs-lookup"><span data-stu-id="b35b8-287">Sorting allows the user to sort the items in the GridView control with respect to a specific column by clicking on the column's header.</span></span> <span data-ttu-id="b35b8-288">要開啟排序,請將 Allow 排序屬性設定為**true**。</span><span class="sxs-lookup"><span data-stu-id="b35b8-288">To enable sorting, set the AllowSorting property to **true**.</span></span>

<span data-ttu-id="b35b8-289">按下**ButtonField**或**樣本欄位**欄位中的按鈕(分別具有"編輯"、"刪除"和"選擇")時,將啟用自動更新、刪除和選擇功能。</span><span class="sxs-lookup"><span data-stu-id="b35b8-289">The automatic updating, deleting, and selection functionalities are enabled when a button in a **ButtonField** or **TemplateField** column field, with a command name of "Edit", "Delete", and "Select", respectively, is clicked.</span></span> <span data-ttu-id="b35b8-290">如果「自動產生編輯按鈕」、「自動產生刪除按鈕」或「自動產生選擇按鈕」屬性分別設定為**true,** 則 GridView 控制件可以自動新增帶有「編輯」、「刪除」或「選擇」按鈕的 **「命令欄位**」列欄位。</span><span class="sxs-lookup"><span data-stu-id="b35b8-290">The GridView control can automatically add a **CommandField** column field with an Edit, Delete, or Select button if the AutoGenerateEditButton, AutoGenerateDeleteButton, or AutoGenerateSelectButton property is set to **true**, respectively.</span></span>

> [!NOTE]
> <span data-ttu-id="b35b8-291">GridView 控件不支援將記錄插入數據源。</span><span class="sxs-lookup"><span data-stu-id="b35b8-291">Inserting records into the data source is not directly supported by the GridView control.</span></span> <span data-ttu-id="b35b8-292">但是,可以使用 GridView 控件與"詳細資訊視圖"或"窗體視圖"控件結合使用來插入記錄。</span><span class="sxs-lookup"><span data-stu-id="b35b8-292">However, it is possible to insert records by using the GridView control in conjunction with the DetailsView or FormView control.</span></span>

<span data-ttu-id="b35b8-293">GridView 控制項可自動將記錄分解為頁面,而不是同時顯示資料來源中的所有記錄。</span><span class="sxs-lookup"><span data-stu-id="b35b8-293">Instead of displaying all the records in the data source at the same time, the GridView control can automatically break the records up into pages.</span></span> <span data-ttu-id="b35b8-294">要開啟分頁,請將 Allow 分頁屬性設定為**true**。</span><span class="sxs-lookup"><span data-stu-id="b35b8-294">To enable paging, set the AllowPaging property to **true**.</span></span>

## <a name="customizing-the-user-interface"></a><span data-ttu-id="b35b8-295">自訂使用者介面</span><span class="sxs-lookup"><span data-stu-id="b35b8-295">Customizing the User Interface</span></span>

<span data-ttu-id="b35b8-296">您可以通過為控制項的不同部分設定樣式屬性來自定義 GridView 控制件的外觀。</span><span class="sxs-lookup"><span data-stu-id="b35b8-296">You can customize the appearance of the GridView control by setting the style properties for the different parts of the control.</span></span> <span data-ttu-id="b35b8-297">下表列出了不同的樣式屬性。</span><span class="sxs-lookup"><span data-stu-id="b35b8-297">The following table lists the different style properties.</span></span>

| <span data-ttu-id="b35b8-298">**樣式屬性**</span><span class="sxs-lookup"><span data-stu-id="b35b8-298">**Style property**</span></span> | <span data-ttu-id="b35b8-299">**說明**</span><span class="sxs-lookup"><span data-stu-id="b35b8-299">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="b35b8-300">替代行樣式</span><span class="sxs-lookup"><span data-stu-id="b35b8-300">AlternatingRowStyle</span></span> | <span data-ttu-id="b35b8-301">GridView 控件中交替數據行的樣式設置。</span><span class="sxs-lookup"><span data-stu-id="b35b8-301">The style settings for the alternating data rows in the GridView control.</span></span> <span data-ttu-id="b35b8-302">設置此屬性時,數據行在 RowStyle 設置和**交替行設置**之間交替顯示。</span><span class="sxs-lookup"><span data-stu-id="b35b8-302">When this property is set, the data rows are displayed alternating between the RowStyle settings and the **AlternatingRowStyle** settings.</span></span> |
| <span data-ttu-id="b35b8-303">編輯行樣式</span><span class="sxs-lookup"><span data-stu-id="b35b8-303">EditRowStyle</span></span> | <span data-ttu-id="b35b8-304">格格檢視控制項中正在編輯的行的樣式設置。</span><span class="sxs-lookup"><span data-stu-id="b35b8-304">The style settings for the row being edited in the GridView control.</span></span> |
| <span data-ttu-id="b35b8-305">空白資料行樣式</span><span class="sxs-lookup"><span data-stu-id="b35b8-305">EmptyDataRowStyle</span></span> | <span data-ttu-id="b35b8-306">當數據源不包含任何記錄時,GridView 控件中顯示的空數據行的樣式設置。</span><span class="sxs-lookup"><span data-stu-id="b35b8-306">The style settings for the empty data row displayed in the GridView control when the data source does not contain any records.</span></span> |
| <span data-ttu-id="b35b8-307">腳法</span><span class="sxs-lookup"><span data-stu-id="b35b8-307">FooterStyle</span></span> | <span data-ttu-id="b35b8-308">GridView 控件的腳行的樣式設置。</span><span class="sxs-lookup"><span data-stu-id="b35b8-308">The style settings for the footer row of the GridView control.</span></span> |
| <span data-ttu-id="b35b8-309">標題樣式</span><span class="sxs-lookup"><span data-stu-id="b35b8-309">HeaderStyle</span></span> | <span data-ttu-id="b35b8-310">GridView 控件的標頭行的樣式設置。</span><span class="sxs-lookup"><span data-stu-id="b35b8-310">The style settings for the header row of the GridView control.</span></span> |
| <span data-ttu-id="b35b8-311">呼叫樣式</span><span class="sxs-lookup"><span data-stu-id="b35b8-311">PagerStyle</span></span> | <span data-ttu-id="b35b8-312">GridView 控件的尋呼機行的樣式設置。</span><span class="sxs-lookup"><span data-stu-id="b35b8-312">The style settings for the pager row of the GridView control.</span></span> |
| <span data-ttu-id="b35b8-313">行樣式</span><span class="sxs-lookup"><span data-stu-id="b35b8-313">RowStyle</span></span> | <span data-ttu-id="b35b8-314">GridView 控件中數據行的樣式設置。</span><span class="sxs-lookup"><span data-stu-id="b35b8-314">The style settings for the data rows in the GridView control.</span></span> <span data-ttu-id="b35b8-315">當還設置**交替羅文樣式**屬性時,數據行將顯示在 **「行樣式」** 設置和**交替行設置**之間交替顯示。</span><span class="sxs-lookup"><span data-stu-id="b35b8-315">When the **AlternatingRowStyle** property is also set, the data rows are displayed alternating between the **RowStyle** settings and the **AlternatingRowStyle** settings.</span></span> |
| <span data-ttu-id="b35b8-316">選取行樣式</span><span class="sxs-lookup"><span data-stu-id="b35b8-316">SelectedRowStyle</span></span> | <span data-ttu-id="b35b8-317">GridView 控件中所選行的樣式設置。</span><span class="sxs-lookup"><span data-stu-id="b35b8-317">The style settings for the selected row in the GridView control.</span></span> |

<span data-ttu-id="b35b8-318">您還可以顯示或隱藏控制項的不同部分。</span><span class="sxs-lookup"><span data-stu-id="b35b8-318">You can also show or hide different parts of the control.</span></span> <span data-ttu-id="b35b8-319">下表列出了控制顯示或隱藏哪些零件的屬性。</span><span class="sxs-lookup"><span data-stu-id="b35b8-319">The following table lists the properties that control which parts are shown or hidden.</span></span>

| <span data-ttu-id="b35b8-320">**屬性**</span><span class="sxs-lookup"><span data-stu-id="b35b8-320">**Property**</span></span> | <span data-ttu-id="b35b8-321">**說明**</span><span class="sxs-lookup"><span data-stu-id="b35b8-321">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="b35b8-322">顯示足</span><span class="sxs-lookup"><span data-stu-id="b35b8-322">ShowFooter</span></span> | <span data-ttu-id="b35b8-323">顯示或隱藏 GridView 控件的腳部。</span><span class="sxs-lookup"><span data-stu-id="b35b8-323">Shows or hides the footer section of the GridView control.</span></span> |
| <span data-ttu-id="b35b8-324">顯示標題</span><span class="sxs-lookup"><span data-stu-id="b35b8-324">ShowHeader</span></span> | <span data-ttu-id="b35b8-325">顯示或隱藏 GridView 控件的標題部分。</span><span class="sxs-lookup"><span data-stu-id="b35b8-325">Shows or hides the header section of the GridView control.</span></span> |

### <a name="events"></a><span data-ttu-id="b35b8-326">事件</span><span class="sxs-lookup"><span data-stu-id="b35b8-326">Events</span></span>

<span data-ttu-id="b35b8-327">GridView 控件提供了多個可以針對的事件。</span><span class="sxs-lookup"><span data-stu-id="b35b8-327">The GridView control provides several events that you can program against.</span></span> <span data-ttu-id="b35b8-328">這允許您在發生事件時運行自定義例程。</span><span class="sxs-lookup"><span data-stu-id="b35b8-328">This allows you to run a custom routine whenever an event occurs.</span></span> <span data-ttu-id="b35b8-329">下表列出了 GridView 控件支援的事件。</span><span class="sxs-lookup"><span data-stu-id="b35b8-329">The following table lists the events supported by the GridView control.</span></span>

| <span data-ttu-id="b35b8-330">**事件**</span><span class="sxs-lookup"><span data-stu-id="b35b8-330">**Event**</span></span> | <span data-ttu-id="b35b8-331">**說明**</span><span class="sxs-lookup"><span data-stu-id="b35b8-331">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="b35b8-332">頁面索引已變更</span><span class="sxs-lookup"><span data-stu-id="b35b8-332">PageIndexChanged</span></span> | <span data-ttu-id="b35b8-333">按一下其中一個尋呼機按鈕,但在 GridView 控件處理分頁操作後發生。</span><span class="sxs-lookup"><span data-stu-id="b35b8-333">Occurs when one of the pager buttons is clicked, but after the GridView control handles the paging operation.</span></span> <span data-ttu-id="b35b8-334">當用戶導航到控制項中的不同頁面後需要執行任務時,通常使用此事件。</span><span class="sxs-lookup"><span data-stu-id="b35b8-334">This event is commonly used when you need to perform a task after the user navigates to a different page in the control.</span></span> |
| <span data-ttu-id="b35b8-335">頁面索引變更</span><span class="sxs-lookup"><span data-stu-id="b35b8-335">PageIndexChanging</span></span> | <span data-ttu-id="b35b8-336">按一下其中一個尋呼機按鈕,但在 GridView 控件處理分頁操作之前發生。</span><span class="sxs-lookup"><span data-stu-id="b35b8-336">Occurs when one of the pager buttons is clicked, but before the GridView control handles the paging operation.</span></span> <span data-ttu-id="b35b8-337">此事件通常用於取消分頁操作。</span><span class="sxs-lookup"><span data-stu-id="b35b8-337">This event is often used to cancel the paging operation.</span></span> |
| <span data-ttu-id="b35b8-338">列取消編輯</span><span class="sxs-lookup"><span data-stu-id="b35b8-338">RowCancelingEdit</span></span> | <span data-ttu-id="b35b8-339">按下行的「取消」按鈕,但在 GridView 控件退出編輯模式之前發生。</span><span class="sxs-lookup"><span data-stu-id="b35b8-339">Occurs when a row's Cancel button is clicked, but before the GridView control exits edit mode.</span></span> <span data-ttu-id="b35b8-340">此事件通常用於停止取消操作。</span><span class="sxs-lookup"><span data-stu-id="b35b8-340">This event is often used to stop the canceling operation.</span></span> |
| <span data-ttu-id="b35b8-341">列命令</span><span class="sxs-lookup"><span data-stu-id="b35b8-341">RowCommand</span></span> | <span data-ttu-id="b35b8-342">在 GridView 控件中按一下按鈕時發生。</span><span class="sxs-lookup"><span data-stu-id="b35b8-342">Occurs when a button is clicked in the GridView control.</span></span> <span data-ttu-id="b35b8-343">當在控制項中按一下按鈕時,此事件通常用於執行任務。</span><span class="sxs-lookup"><span data-stu-id="b35b8-343">This event is often used to perform a task when a button is clicked in the control.</span></span> |
| <span data-ttu-id="b35b8-344">行建立</span><span class="sxs-lookup"><span data-stu-id="b35b8-344">RowCreated</span></span> | <span data-ttu-id="b35b8-345">在 GridView 控件中創建新行時發生。</span><span class="sxs-lookup"><span data-stu-id="b35b8-345">Occurs when a new row is created in the GridView control.</span></span> <span data-ttu-id="b35b8-346">此事件通常用於在創建行時修改行的內容。</span><span class="sxs-lookup"><span data-stu-id="b35b8-346">This event is often used to modify the contents of a row when the row is created.</span></span> |
| <span data-ttu-id="b35b8-347">行資料繫結</span><span class="sxs-lookup"><span data-stu-id="b35b8-347">RowDataBound</span></span> | <span data-ttu-id="b35b8-348">當數據行綁定到 GridView 控件中的數據時發生。</span><span class="sxs-lookup"><span data-stu-id="b35b8-348">Occurs when a data row is bound to data in the GridView control.</span></span> <span data-ttu-id="b35b8-349">此事件通常用於在行綁定到數據時修改行的內容。</span><span class="sxs-lookup"><span data-stu-id="b35b8-349">This event is often used to modify the contents of a row when the row is bound to data.</span></span> |
| <span data-ttu-id="b35b8-350">已移除列</span><span class="sxs-lookup"><span data-stu-id="b35b8-350">RowDeleted</span></span> | <span data-ttu-id="b35b8-351">按下行的"刪除"按鈕,但在 GridView 控件從數據源中刪除記錄後,將發生。</span><span class="sxs-lookup"><span data-stu-id="b35b8-351">Occurs when a row's Delete button is clicked, but after the GridView control deletes the record from the data source.</span></span> <span data-ttu-id="b35b8-352">此事件通常用於檢查刪除操作的結果。</span><span class="sxs-lookup"><span data-stu-id="b35b8-352">This event is often used to check the results of the delete operation.</span></span> |
| <span data-ttu-id="b35b8-353">列刪除</span><span class="sxs-lookup"><span data-stu-id="b35b8-353">RowDeleting</span></span> | <span data-ttu-id="b35b8-354">按下行的"刪除"按鈕,但在 GridView 控件從數據源中刪除記錄之前發生。</span><span class="sxs-lookup"><span data-stu-id="b35b8-354">Occurs when a row's Delete button is clicked, but before the GridView control deletes the record from the data source.</span></span> <span data-ttu-id="b35b8-355">此事件通常用於取消刪除操作。</span><span class="sxs-lookup"><span data-stu-id="b35b8-355">This event is often used to cancel the deleting operation.</span></span> |
| <span data-ttu-id="b35b8-356">行編輯</span><span class="sxs-lookup"><span data-stu-id="b35b8-356">RowEditing</span></span> | <span data-ttu-id="b35b8-357">按下行的「編輯」按鈕,但在 GridView 控件進入編輯模式之前發生。</span><span class="sxs-lookup"><span data-stu-id="b35b8-357">Occurs when a row's Edit button is clicked, but before the GridView control enters edit mode.</span></span> <span data-ttu-id="b35b8-358">此事件通常用於取消編輯操作。</span><span class="sxs-lookup"><span data-stu-id="b35b8-358">This event is often used to cancel the editing operation.</span></span> |
| <span data-ttu-id="b35b8-359">列更新</span><span class="sxs-lookup"><span data-stu-id="b35b8-359">RowUpdated</span></span> | <span data-ttu-id="b35b8-360">按下行的"更新"按鈕,但在 GridView 控件更新行後發生。</span><span class="sxs-lookup"><span data-stu-id="b35b8-360">Occurs when a row's Update button is clicked, but after the GridView control updates the row.</span></span> <span data-ttu-id="b35b8-361">此事件通常用於檢查更新操作的結果。</span><span class="sxs-lookup"><span data-stu-id="b35b8-361">This event is often used to check the results of the update operation.</span></span> |
| <span data-ttu-id="b35b8-362">列更新</span><span class="sxs-lookup"><span data-stu-id="b35b8-362">RowUpdating</span></span> | <span data-ttu-id="b35b8-363">按下行的"更新"按鈕,但在 GridView 控件更新行之前發生。</span><span class="sxs-lookup"><span data-stu-id="b35b8-363">Occurs when a row's Update button is clicked, but before the GridView control updates the row.</span></span> <span data-ttu-id="b35b8-364">此事件通常用於取消更新操作。</span><span class="sxs-lookup"><span data-stu-id="b35b8-364">This event is often used to cancel the updating operation.</span></span> |
| <span data-ttu-id="b35b8-365">SelectedIndexChanged</span><span class="sxs-lookup"><span data-stu-id="b35b8-365">SelectedIndexChanged</span></span> | <span data-ttu-id="b35b8-366">按下行的「選擇」按鈕,但在 GridView 控件處理選擇操作後發生。</span><span class="sxs-lookup"><span data-stu-id="b35b8-366">Occurs when a row's Select button is clicked, but after the GridView control handles the select operation.</span></span> <span data-ttu-id="b35b8-367">此事件通常用於在控制項中選擇行後執行任務。</span><span class="sxs-lookup"><span data-stu-id="b35b8-367">This event is often used to perform a task after a row is selected in the control.</span></span> |
| <span data-ttu-id="b35b8-368">選取的索引變更</span><span class="sxs-lookup"><span data-stu-id="b35b8-368">SelectedIndexChanging</span></span> | <span data-ttu-id="b35b8-369">按下行的「選擇」按鈕,但在 GridView 控件處理選擇操作之前發生。</span><span class="sxs-lookup"><span data-stu-id="b35b8-369">Occurs when a row's Select button is clicked, but before the GridView control handles the select operation.</span></span> <span data-ttu-id="b35b8-370">此事件通常用於取消選擇操作。</span><span class="sxs-lookup"><span data-stu-id="b35b8-370">This event is often used to cancel the selection operation.</span></span> |
| <span data-ttu-id="b35b8-371">排序</span><span class="sxs-lookup"><span data-stu-id="b35b8-371">Sorted</span></span> | <span data-ttu-id="b35b8-372">按下對列進行排序的超連結,但在 GridView 控件處理排序操作後,將發生。</span><span class="sxs-lookup"><span data-stu-id="b35b8-372">Occurs when the hyperlink to sort a column is clicked, but after the GridView control handles the sort operation.</span></span> <span data-ttu-id="b35b8-373">此事件通常用於在使用者單擊超連結對列進行排序后執行任務。</span><span class="sxs-lookup"><span data-stu-id="b35b8-373">This event is commonly used to perform a task after the user clicks on a hyperlink to sort a column.</span></span> |
| <span data-ttu-id="b35b8-374">排序</span><span class="sxs-lookup"><span data-stu-id="b35b8-374">Sorting</span></span> | <span data-ttu-id="b35b8-375">按下對列進行排序的超連結,但在 GridView 控件處理排序操作之前發生。</span><span class="sxs-lookup"><span data-stu-id="b35b8-375">Occurs when the hyperlink to sort a column is clicked, but before the GridView control handles the sort operation.</span></span> <span data-ttu-id="b35b8-376">此事件通常用於取消排序操作或執行自訂排序例程。</span><span class="sxs-lookup"><span data-stu-id="b35b8-376">This event is often used to cancel the sorting operation or to perform a custom sorting routine.</span></span> |

## <a name="formview"></a><span data-ttu-id="b35b8-377">表單檢視</span><span class="sxs-lookup"><span data-stu-id="b35b8-377">FormView</span></span>

<span data-ttu-id="b35b8-378">FormView 控制件用於顯示數據源中的單個記錄。</span><span class="sxs-lookup"><span data-stu-id="b35b8-378">The FormView control is used to display a single record from a data source.</span></span> <span data-ttu-id="b35b8-379">它與「詳細資訊檢視」控制件類似,只顯示使用者定義的範本而不是行欄位。</span><span class="sxs-lookup"><span data-stu-id="b35b8-379">It is similar to the DetailsView control, except it displays user-defined templates instead of row fields.</span></span> <span data-ttu-id="b35b8-380">通過創建自己的範本,您可以更靈活地控制數據的顯示方式。</span><span class="sxs-lookup"><span data-stu-id="b35b8-380">Creating your own templates gives you greater flexibility in controlling how the data is displayed.</span></span> <span data-ttu-id="b35b8-381">FormView 控制項支援以下功能:</span><span class="sxs-lookup"><span data-stu-id="b35b8-381">The FormView control supports the following features:</span></span>

- <span data-ttu-id="b35b8-382">綁定到資料來源控制項,如 SqlDataSource 和 ObjectDataSource。</span><span class="sxs-lookup"><span data-stu-id="b35b8-382">Binding to data source controls, such as SqlDataSource and ObjectDataSource.</span></span>
- <span data-ttu-id="b35b8-383">內置插入功能。</span><span class="sxs-lookup"><span data-stu-id="b35b8-383">Built-in inserting capabilities.</span></span>
- <span data-ttu-id="b35b8-384">內置更新和刪除功能。</span><span class="sxs-lookup"><span data-stu-id="b35b8-384">Built-in updating and deleting capabilities.</span></span>
- <span data-ttu-id="b35b8-385">內置尋呼功能。</span><span class="sxs-lookup"><span data-stu-id="b35b8-385">Built-in paging capabilities.</span></span>
- <span data-ttu-id="b35b8-386">對 FormView 物件模型的程式設計訪問,以動態設置屬性、處理事件等。</span><span class="sxs-lookup"><span data-stu-id="b35b8-386">Programmatic access to the FormView object model to dynamically set properties, handle events, and so on.</span></span>
- <span data-ttu-id="b35b8-387">通過使用者定義的範本、主題和樣式自定義外觀。</span><span class="sxs-lookup"><span data-stu-id="b35b8-387">Customizable appearance through user-defined templates, themes, and styles.</span></span>

## <a name="templates"></a><span data-ttu-id="b35b8-388">範本</span><span class="sxs-lookup"><span data-stu-id="b35b8-388">Templates</span></span>

<span data-ttu-id="b35b8-389">要顯示內容,需要為控制項的不同部分創建範本。</span><span class="sxs-lookup"><span data-stu-id="b35b8-389">For the FormView control to display content, you need to create templates for the different parts of the control.</span></span> <span data-ttu-id="b35b8-390">大多數範本是可選的;但是,您必須為配置控制項的模式創建範本。</span><span class="sxs-lookup"><span data-stu-id="b35b8-390">Most templates are optional; however, you must create a template for the mode in which the control is configured.</span></span> <span data-ttu-id="b35b8-391">例如,支援插入記錄的 FormView 控制項必須定義插入項範本。</span><span class="sxs-lookup"><span data-stu-id="b35b8-391">For example, a FormView control that supports inserting records must have an insert item template defined.</span></span> <span data-ttu-id="b35b8-392">下表列出了您可以創建的不同範本。</span><span class="sxs-lookup"><span data-stu-id="b35b8-392">The following table lists the different templates that you can create.</span></span>

| <span data-ttu-id="b35b8-393">**範本類型**</span><span class="sxs-lookup"><span data-stu-id="b35b8-393">**Template type**</span></span> | <span data-ttu-id="b35b8-394">**說明**</span><span class="sxs-lookup"><span data-stu-id="b35b8-394">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="b35b8-395">編輯項目範本</span><span class="sxs-lookup"><span data-stu-id="b35b8-395">EditItemTemplate</span></span> | <span data-ttu-id="b35b8-396">在 FormView 控制件處於編輯模式時定義數據行的內容。</span><span class="sxs-lookup"><span data-stu-id="b35b8-396">Defines the content for the data row when the FormView control is in edit mode.</span></span> <span data-ttu-id="b35b8-397">此範本通常包含輸入控制項和命令按鈕,使用者可以使用這些按鈕編輯現有記錄。</span><span class="sxs-lookup"><span data-stu-id="b35b8-397">This template usually contains input controls and command buttons with which the user can edit an existing record.</span></span> |
| <span data-ttu-id="b35b8-398">空資料範本</span><span class="sxs-lookup"><span data-stu-id="b35b8-398">EmptyDataTemplate</span></span> | <span data-ttu-id="b35b8-399">定義 FormView 控制件綁定到不包含任何記錄的資料來源時顯示的空資料行的內容。</span><span class="sxs-lookup"><span data-stu-id="b35b8-399">Defines the content for the empty data row displayed when the FormView control is bound to a data source that does not contain any records.</span></span> <span data-ttu-id="b35b8-400">此範本通常包含內容,以提醒使用者數據來源不包含任何記錄。</span><span class="sxs-lookup"><span data-stu-id="b35b8-400">This template usually contains content to alert the user that the data source does not contain any records.</span></span> |
| <span data-ttu-id="b35b8-401">腳部範本</span><span class="sxs-lookup"><span data-stu-id="b35b8-401">FooterTemplate</span></span> | <span data-ttu-id="b35b8-402">定義頁腳行的內容。</span><span class="sxs-lookup"><span data-stu-id="b35b8-402">Defines the content for the footer row.</span></span> <span data-ttu-id="b35b8-403">此範本通常包含您希望在頁腳行中顯示的任何其他內容。</span><span class="sxs-lookup"><span data-stu-id="b35b8-403">This template usually contains any additional content you would like to display in the footer row.</span></span> <span data-ttu-id="b35b8-404">作為替代方法,只需設置"英尺文本"屬性,即可指定要在頁腳行中顯示的文本。</span><span class="sxs-lookup"><span data-stu-id="b35b8-404">As an alternative, you can simply specify text to display in the footer row by setting the FooterText property.</span></span> |
| <span data-ttu-id="b35b8-405">標題樣本</span><span class="sxs-lookup"><span data-stu-id="b35b8-405">HeaderTemplate</span></span> | <span data-ttu-id="b35b8-406">定義標題行的內容。</span><span class="sxs-lookup"><span data-stu-id="b35b8-406">Defines the content for the header row.</span></span> <span data-ttu-id="b35b8-407">此範本通常包含要在標題行中顯示的任何其他內容。</span><span class="sxs-lookup"><span data-stu-id="b35b8-407">This template usually contains any additional content you would like to display in the header row.</span></span> <span data-ttu-id="b35b8-408">作為替代方法,只需設置"標題文本"屬性,即可指定要在標題行中顯示的文本。</span><span class="sxs-lookup"><span data-stu-id="b35b8-408">As an alternative, you can simply specify text to display in the header row by setting the HeaderText property.</span></span> |
| <span data-ttu-id="b35b8-409">ItemTemplate</span><span class="sxs-lookup"><span data-stu-id="b35b8-409">ItemTemplate</span></span> | <span data-ttu-id="b35b8-410">當 FormView 控件處於唯讀模式時,定義數據行的內容。</span><span class="sxs-lookup"><span data-stu-id="b35b8-410">Defines the content for the data row when the FormView control is in read-only mode.</span></span> <span data-ttu-id="b35b8-411">此範本通常包含用於顯示現有記錄的值的內容。</span><span class="sxs-lookup"><span data-stu-id="b35b8-411">This template usually contains content to display the values of an existing record.</span></span> |
| <span data-ttu-id="b35b8-412">插入項目樣本</span><span class="sxs-lookup"><span data-stu-id="b35b8-412">InsertItemTemplate</span></span> | <span data-ttu-id="b35b8-413">在 FormView 控制檔處處於插入模式時定義數據行的內容。</span><span class="sxs-lookup"><span data-stu-id="b35b8-413">Defines the content for the data row when the FormView control is in insert mode.</span></span> <span data-ttu-id="b35b8-414">此範本通常包含輸入控制項和命令按鈕,使用者可以使用這些按鈕添加新記錄。</span><span class="sxs-lookup"><span data-stu-id="b35b8-414">This template usually contains input controls and command buttons with which the user can add a new record.</span></span> |
| <span data-ttu-id="b35b8-415">呼叫樣本</span><span class="sxs-lookup"><span data-stu-id="b35b8-415">PagerTemplate</span></span> | <span data-ttu-id="b35b8-416">定義啟用分頁功能時顯示的尋呼機行的內容(當 Allow 分頁屬性設置為**true**時)。</span><span class="sxs-lookup"><span data-stu-id="b35b8-416">Defines the content for the pager row displayed when the paging feature is enabled (when the AllowPaging property is set to **true**).</span></span> <span data-ttu-id="b35b8-417">此範本通常包含用戶可以導航到其他記錄的控制項。</span><span class="sxs-lookup"><span data-stu-id="b35b8-417">This template usually contains controls with which the user can navigate to another record.</span></span> |

<span data-ttu-id="b35b8-418">編輯項範本和插入項範本中的輸入控制項可以使用雙向綁定表示式綁定到數據源的欄位。</span><span class="sxs-lookup"><span data-stu-id="b35b8-418">Input controls in the edit item template and insert item template can be bound to the fields of a data source by using a two-way binding expression.</span></span> <span data-ttu-id="b35b8-419">這允許 FormView 控制件自動提取用於更新或插入操作的輸入控制項的值。</span><span class="sxs-lookup"><span data-stu-id="b35b8-419">This allows the FormView control to automatically extract the values of the input control for an update or insert operation.</span></span> <span data-ttu-id="b35b8-420">雙向繫式還允許編輯項範本中的輸入控制項自動顯示原始欄位值。</span><span class="sxs-lookup"><span data-stu-id="b35b8-420">Two-way binding expressions also allow input controls in an edit item template to automatically display the original field values.</span></span>

### <a name="binding-to-data"></a><span data-ttu-id="b35b8-421">繫結到資料</span><span class="sxs-lookup"><span data-stu-id="b35b8-421">Binding to Data</span></span>

<span data-ttu-id="b35b8-422">FormView 控制項可以綁定到資料來源控制項(如 SqlDataSource、AccessDataSource、ObjectDataSource**ObjectDataSource**等)或實現系統的任何**SqlDataSource**資料來源。</span><span class="sxs-lookup"><span data-stu-id="b35b8-422">The FormView control can be bound to a data source control (such as **SqlDataSource**, AccessDataSource, **ObjectDataSource** and so on), or to any data source that implements the System.Collections.IEnumerable interface (such as System.Data.DataView, System.Collections.ArrayList, and System.Collections.Hashtable).</span></span> <span data-ttu-id="b35b8-423">使用以下方法之一會 FormView 控制元件的結合資料來源類型:</span><span class="sxs-lookup"><span data-stu-id="b35b8-423">Use one of the following methods to bind the FormView control to the appropriate data source type:</span></span>

- <span data-ttu-id="b35b8-424">要綁定到資料源控制項,將 FormView 控制項的 DataSourceID 屬性設置為資料來源控制項的 ID 值。</span><span class="sxs-lookup"><span data-stu-id="b35b8-424">To bind to a data source control, set the DataSourceID property of the FormView control to the ID value of the data source control.</span></span> <span data-ttu-id="b35b8-425">FormView 控制件會自動綁定到指定的數據源控制項,並可以利用資料來源控制項的功能執行插入、更新、刪除和分頁功能。</span><span class="sxs-lookup"><span data-stu-id="b35b8-425">The FormView control automatically binds to the specified data source control and can take advantage of the data source control's capabilities to perform inserting, updating, deleting, and paging functionality.</span></span> <span data-ttu-id="b35b8-426">這是綁定到數據的首選方法。</span><span class="sxs-lookup"><span data-stu-id="b35b8-426">This is the preferred method to bind to data.</span></span>
- <span data-ttu-id="b35b8-427">要綁定到實現**System.集合.IE50ble 介面**的資料來源,請以程式設計方式將 FormView 控制項的 DataSource 屬性設定為資料源,然後調用 DataBind 方法。</span><span class="sxs-lookup"><span data-stu-id="b35b8-427">To bind to a data source that implements the **System.Collections.IEnumerable** interface, programmatically set the DataSource property of the FormView control to the data source and then call the DataBind method.</span></span> <span data-ttu-id="b35b8-428">使用此方法時,FormView 控制項不提供內置的插入、更新、刪除和分頁功能。</span><span class="sxs-lookup"><span data-stu-id="b35b8-428">When using this method, the FormView control does not provide built-in inserting, updating, deleting, and paging functionality.</span></span> <span data-ttu-id="b35b8-429">您需要使用相應的事件來提供此功能。</span><span class="sxs-lookup"><span data-stu-id="b35b8-429">You need to provide this functionality by using the appropriate event.</span></span>

## <a name="data-operations"></a><span data-ttu-id="b35b8-430">資料作業</span><span class="sxs-lookup"><span data-stu-id="b35b8-430">Data Operations</span></span>

<span data-ttu-id="b35b8-431">FormView 控制項提供許多內建功能,允許使用者更新、刪除、插入和翻閱控制項中的項。</span><span class="sxs-lookup"><span data-stu-id="b35b8-431">The FormView control provides many built-in capabilities that allow the user to update, delete, insert, and page through items in the control.</span></span> <span data-ttu-id="b35b8-432">當 FormView 控件綁定到數據來源控制項時,FormView 控制項可以利用資料來源控制元件的功能並提供自動更新、刪除、插入和分頁功能。</span><span class="sxs-lookup"><span data-stu-id="b35b8-432">When the FormView control is bound to a data source control, the FormView control can take advantage of the data source control's capabilities and provide automatic updating, deleting, inserting, and paging functionality.</span></span> <span data-ttu-id="b35b8-433">FormView 控制項可為與其他類型的資料來源的更新、刪除、插入和分頁操作提供支援;但是,您必須提供適當的事件處理程式,並實現這些操作。</span><span class="sxs-lookup"><span data-stu-id="b35b8-433">The FormView control can provide support for update, delete, insert, and paging operations with other types of data sources; however, you must provide an appropriate event handler with the implementation for these operations.</span></span>

<span data-ttu-id="b35b8-434">由於 FormView 控制件使用範本,因此它不提供自動生成命令按鈕以執行更新、刪除或插入操作的方法。</span><span class="sxs-lookup"><span data-stu-id="b35b8-434">Because the FormView control uses templates, it does not provide a way to automatically generate command buttons to perform updating, deleting, or inserting operations.</span></span> <span data-ttu-id="b35b8-435">您必須手動將這些命令按鈕包含在相應的範本中。</span><span class="sxs-lookup"><span data-stu-id="b35b8-435">You must manually include these command buttons in the appropriate template.</span></span> <span data-ttu-id="b35b8-436">FormView 控制件可識別某些按鈕,這些按鈕的命令**名稱**屬性設置為特定值。</span><span class="sxs-lookup"><span data-stu-id="b35b8-436">The FormView control recognizes certain buttons that have their **CommandName** properties set to specific values.</span></span> <span data-ttu-id="b35b8-437">下表列出了 FormView 控件識別的命令按鈕。</span><span class="sxs-lookup"><span data-stu-id="b35b8-437">The following table lists the command buttons that the FormView control recognizes.</span></span>

| <span data-ttu-id="b35b8-438">**Button**</span><span class="sxs-lookup"><span data-stu-id="b35b8-438">**Button**</span></span> | <span data-ttu-id="b35b8-439">**命令名稱值**</span><span class="sxs-lookup"><span data-stu-id="b35b8-439">**Commandname value**</span></span> | <span data-ttu-id="b35b8-440">**說明**</span><span class="sxs-lookup"><span data-stu-id="b35b8-440">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="b35b8-441">取消</span><span class="sxs-lookup"><span data-stu-id="b35b8-441">Cancel</span></span> | <span data-ttu-id="b35b8-442">取消"</span><span class="sxs-lookup"><span data-stu-id="b35b8-442">"Cancel"</span></span> | <span data-ttu-id="b35b8-443">用於更新或插入操作以取消操作並丟棄使用者輸入的值。</span><span class="sxs-lookup"><span data-stu-id="b35b8-443">Used in updating or inserting operations to cancel the operation and to discard the values entered by the user.</span></span> <span data-ttu-id="b35b8-444">然後,FormView 控件返回到預設模式屬性指定的模式。</span><span class="sxs-lookup"><span data-stu-id="b35b8-444">The FormView control then returns to the mode specified by the DefaultMode property.</span></span> |
| <span data-ttu-id="b35b8-445">刪除</span><span class="sxs-lookup"><span data-stu-id="b35b8-445">Delete</span></span> | <span data-ttu-id="b35b8-446">"Delete"</span><span class="sxs-lookup"><span data-stu-id="b35b8-446">"Delete"</span></span> | <span data-ttu-id="b35b8-447">移除從資料來源中移除顯示的記錄的操作。</span><span class="sxs-lookup"><span data-stu-id="b35b8-447">Used in deleting operations to delete the displayed record from the data source.</span></span> <span data-ttu-id="b35b8-448">建立項目刪除和項目刪除事件。</span><span class="sxs-lookup"><span data-stu-id="b35b8-448">Raises the ItemDeleting and ItemDeleted events.</span></span> |
| <span data-ttu-id="b35b8-449">編輯</span><span class="sxs-lookup"><span data-stu-id="b35b8-449">Edit</span></span> | <span data-ttu-id="b35b8-450">"編輯"</span><span class="sxs-lookup"><span data-stu-id="b35b8-450">"Edit"</span></span> | <span data-ttu-id="b35b8-451">用於更新操作,將 FormView 控制件置於編輯模式。</span><span class="sxs-lookup"><span data-stu-id="b35b8-451">Used in updating operations to put the FormView control in edit mode.</span></span> <span data-ttu-id="b35b8-452">為數據列顯示**在 EditItemTemplate**屬性中指定的內容。</span><span class="sxs-lookup"><span data-stu-id="b35b8-452">The content specified in the **EditItemTemplate** property is displayed for the data row.</span></span> |
| <span data-ttu-id="b35b8-453">插入</span><span class="sxs-lookup"><span data-stu-id="b35b8-453">Insert</span></span> | <span data-ttu-id="b35b8-454">"插入"</span><span class="sxs-lookup"><span data-stu-id="b35b8-454">"Insert"</span></span> | <span data-ttu-id="b35b8-455">用於插入操作,嘗試使用使用者提供的值在數據源中插入新記錄。</span><span class="sxs-lookup"><span data-stu-id="b35b8-455">Used in inserting operations to attempt to insert a new record in the data source using the values provided by the user.</span></span> <span data-ttu-id="b35b8-456">引發專案插入和專案插入事件。</span><span class="sxs-lookup"><span data-stu-id="b35b8-456">Raises the ItemInserting and ItemInserted events.</span></span> |
| <span data-ttu-id="b35b8-457">新增</span><span class="sxs-lookup"><span data-stu-id="b35b8-457">New</span></span> | <span data-ttu-id="b35b8-458">"新建"</span><span class="sxs-lookup"><span data-stu-id="b35b8-458">"New"</span></span> | <span data-ttu-id="b35b8-459">用於插入操作,將 FormView 控制件置於插入模式。</span><span class="sxs-lookup"><span data-stu-id="b35b8-459">Used in inserting operations to put the FormView control in insert mode.</span></span> <span data-ttu-id="b35b8-460">在**InsertItemTemplate**屬性中指定的內容將顯示為數據列。</span><span class="sxs-lookup"><span data-stu-id="b35b8-460">The content specified in the **InsertItemTemplate** property is displayed for the data row.</span></span> |
| <span data-ttu-id="b35b8-461">頁面</span><span class="sxs-lookup"><span data-stu-id="b35b8-461">Page</span></span> | <span data-ttu-id="b35b8-462">"頁"</span><span class="sxs-lookup"><span data-stu-id="b35b8-462">"Page"</span></span> | <span data-ttu-id="b35b8-463">用於尋呼操作,以表示執行分頁的尋呼行中的按鈕。</span><span class="sxs-lookup"><span data-stu-id="b35b8-463">Used in paging operations to represent a button in the pager row that performs paging.</span></span> <span data-ttu-id="b35b8-464">要指定分頁操作,請將按鈕的**CommandArgument**屬性設置為「下一步」、「前一」、「第一」、「最後」或要導航的頁面的索引。</span><span class="sxs-lookup"><span data-stu-id="b35b8-464">To specify the paging operation, set the **CommandArgument** property of the button to "Next", "Prev", "First", "Last", or the index of the page to which to navigate.</span></span> <span data-ttu-id="b35b8-465">引發頁面索引更改和頁面索引更改事件。</span><span class="sxs-lookup"><span data-stu-id="b35b8-465">Raises the PageIndexChanging and PageIndexChanged events.</span></span> |
| <span data-ttu-id="b35b8-466">更新</span><span class="sxs-lookup"><span data-stu-id="b35b8-466">Update</span></span> | <span data-ttu-id="b35b8-467">"更新"</span><span class="sxs-lookup"><span data-stu-id="b35b8-467">"Update"</span></span> | <span data-ttu-id="b35b8-468">用於更新操作,以嘗試使用使用者提供的值更新數據源中顯示的記錄。</span><span class="sxs-lookup"><span data-stu-id="b35b8-468">Used in updating operations to attempt to update the displayed record in the data source with the values provided by the user.</span></span> <span data-ttu-id="b35b8-469">引發專案更新和專案更新事件。</span><span class="sxs-lookup"><span data-stu-id="b35b8-469">Raises the ItemUpdating and ItemUpdated events.</span></span> |

<span data-ttu-id="b35b8-470">與"刪除"按鈕(立即刪除顯示的記錄)不同,當按下「編輯」或「新建」按鈕時,「FormView」控件將分別進入編輯或插入模式。</span><span class="sxs-lookup"><span data-stu-id="b35b8-470">Unlike the Delete button (which deletes the displayed record immediately), when the Edit or New button is clicked, the FormView control goes into edit or insert mode respectively.</span></span> <span data-ttu-id="b35b8-471">在編輯模式下,當前數據項將顯示 **「編輯項目範本」** 屬性中包含的內容。</span><span class="sxs-lookup"><span data-stu-id="b35b8-471">In edit mode, the content contained in the **EditItemTemplate** property is displayed for the current data item.</span></span> <span data-ttu-id="b35b8-472">通常,定義編輯項目範本,以便將"編輯"按鈕替換為"更新"和"取消"按鈕。</span><span class="sxs-lookup"><span data-stu-id="b35b8-472">Typically, the edit item template is defined such that the Edit button is replaced with an Update and a Cancel button.</span></span> <span data-ttu-id="b35b8-473">適合欄位資料類型(如 TextBox 或 CheckBox 控件)的輸入控制項通常也會顯示欄位的值供使用者修改。</span><span class="sxs-lookup"><span data-stu-id="b35b8-473">Input controls that are appropriate for the field's data type (such as a TextBox or a CheckBox control) are also usually displayed with a field's value for the user to modify.</span></span> <span data-ttu-id="b35b8-474">按下"更新"按鈕會更新數據源中的記錄,而按兩下"取消"按鈕將放棄任何更改。</span><span class="sxs-lookup"><span data-stu-id="b35b8-474">Clicking the Update button updates the record in the data source, while clicking the Cancel button abandons any changes.</span></span>

<span data-ttu-id="b35b8-475">同樣,當控件處於插入模式**InsertItemTemplate**時,數據項中包含的內容。</span><span class="sxs-lookup"><span data-stu-id="b35b8-475">Likewise, the content contained in the **InsertItemTemplate** property is displayed for the data item when the control is in insert mode.</span></span> <span data-ttu-id="b35b8-476">插入項範本通常定義,以便將「新建」按鈕替換為「插入」和「取消」按鈕,並顯示空輸入控制項,以便使用者輸入新記錄的值。</span><span class="sxs-lookup"><span data-stu-id="b35b8-476">The insert item template is typically defined such that the New button is replaced with an Insert and a Cancel button, and empty input controls are displayed for the user to enter the values for the new record.</span></span> <span data-ttu-id="b35b8-477">按下「插入」按鈕會將記錄插入資料源中,而單擊"取消"按鈕將放棄任何更改。</span><span class="sxs-lookup"><span data-stu-id="b35b8-477">Clicking the Insert button inserts the record in the data source, while clicking the Cancel button abandons any changes.</span></span>

<span data-ttu-id="b35b8-478">FormView 控制件提供分頁功能,允許用戶導航到數據源中的其他記錄。</span><span class="sxs-lookup"><span data-stu-id="b35b8-478">The FormView control provides a paging feature, which allows the user to navigate to other records in the data source.</span></span> <span data-ttu-id="b35b8-479">啟用後,在包含頁面導航控制件的 FormView 控件中將顯示尋呼行。</span><span class="sxs-lookup"><span data-stu-id="b35b8-479">When enabled, a pager row is displayed in the FormView control that contains the page navigation controls.</span></span> <span data-ttu-id="b35b8-480">要開啟分頁,請將**Allow 分頁**屬性設定為**true**。</span><span class="sxs-lookup"><span data-stu-id="b35b8-480">To enable paging, set the **AllowPaging** property to **true**.</span></span> <span data-ttu-id="b35b8-481">您可以通過設定尋呼機樣式和尋呼程式設置屬性中包含的物件的屬性來自定義尋呼機行。</span><span class="sxs-lookup"><span data-stu-id="b35b8-481">You can customize the pager row by setting the properties of objects contained in the PagerStyle and the PagerSettings property.</span></span> <span data-ttu-id="b35b8-482">您可以使用**尋呼器範本**屬性創建自己的 UI,而不是使用內建尋呼機行 UI。</span><span class="sxs-lookup"><span data-stu-id="b35b8-482">Instead of using the built-in pager row UI, you can create your own UI by using the **PagerTemplate** property.</span></span>

## <a name="customizing-the-user-interface"></a><span data-ttu-id="b35b8-483">自訂使用者介面</span><span class="sxs-lookup"><span data-stu-id="b35b8-483">Customizing the User Interface</span></span>

<span data-ttu-id="b35b8-484">您可以通過為控制項的不同部分設定樣式屬性來自定義 FormView 控制件的外觀。</span><span class="sxs-lookup"><span data-stu-id="b35b8-484">You can customize the appearance of the FormView control by setting the style properties for the different parts of the control.</span></span> <span data-ttu-id="b35b8-485">下表列出了不同的樣式屬性。</span><span class="sxs-lookup"><span data-stu-id="b35b8-485">The following table lists the different style properties.</span></span>

| <span data-ttu-id="b35b8-486">**樣式屬性**</span><span class="sxs-lookup"><span data-stu-id="b35b8-486">**Style property**</span></span> | <span data-ttu-id="b35b8-487">**說明**</span><span class="sxs-lookup"><span data-stu-id="b35b8-487">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="b35b8-488">編輯行樣式</span><span class="sxs-lookup"><span data-stu-id="b35b8-488">EditRowStyle</span></span> | <span data-ttu-id="b35b8-489">當 FormView 控制件處於編輯模式時,數據行的樣式設置。</span><span class="sxs-lookup"><span data-stu-id="b35b8-489">The style settings for the data row when the FormView control is in edit mode.</span></span> |
| <span data-ttu-id="b35b8-490">空白資料行樣式</span><span class="sxs-lookup"><span data-stu-id="b35b8-490">EmptyDataRowStyle</span></span> | <span data-ttu-id="b35b8-491">當數據來源不包含任何記錄時,表單檢視控制項中顯示的空數據行的樣式設置。</span><span class="sxs-lookup"><span data-stu-id="b35b8-491">The style settings for the empty data row displayed in the FormView control when the data source does not contain any records.</span></span> |
| <span data-ttu-id="b35b8-492">腳法</span><span class="sxs-lookup"><span data-stu-id="b35b8-492">FooterStyle</span></span> | <span data-ttu-id="b35b8-493">FormView 控件的腳行的樣式設置。</span><span class="sxs-lookup"><span data-stu-id="b35b8-493">The style settings for the footer row of the FormView control.</span></span> |
| <span data-ttu-id="b35b8-494">標題樣式</span><span class="sxs-lookup"><span data-stu-id="b35b8-494">HeaderStyle</span></span> | <span data-ttu-id="b35b8-495">FormView 控件的標頭行的樣式設置。</span><span class="sxs-lookup"><span data-stu-id="b35b8-495">The style settings for the header row of the FormView control.</span></span> |
| <span data-ttu-id="b35b8-496">插入行樣式</span><span class="sxs-lookup"><span data-stu-id="b35b8-496">InsertRowStyle</span></span> | <span data-ttu-id="b35b8-497">當 FormView 控件處於插入模式時,數據行的樣式設置。</span><span class="sxs-lookup"><span data-stu-id="b35b8-497">The style settings for the data row when the FormView control is in insert mode.</span></span> |
| <span data-ttu-id="b35b8-498">呼叫樣式</span><span class="sxs-lookup"><span data-stu-id="b35b8-498">PagerStyle</span></span> | <span data-ttu-id="b35b8-499">啟用分頁功能時,在 FormView 控件中顯示的尋呼機行的樣式設置。</span><span class="sxs-lookup"><span data-stu-id="b35b8-499">The style settings for the pager row displayed in the FormView control when the paging feature is enabled.</span></span> |
| <span data-ttu-id="b35b8-500">行樣式</span><span class="sxs-lookup"><span data-stu-id="b35b8-500">RowStyle</span></span> | <span data-ttu-id="b35b8-501">當 FormView 控件處於唯讀模式時,數據行的樣式設置。</span><span class="sxs-lookup"><span data-stu-id="b35b8-501">The style settings for the data row when the FormView control is in read-only mode.</span></span> |

## <a name="events"></a><span data-ttu-id="b35b8-502">事件</span><span class="sxs-lookup"><span data-stu-id="b35b8-502">Events</span></span>

<span data-ttu-id="b35b8-503">FormView 控制項提供了多個事件,您可以針對這些事件進行程式設計。</span><span class="sxs-lookup"><span data-stu-id="b35b8-503">The FormView control provides several events that you can program against.</span></span> <span data-ttu-id="b35b8-504">這允許您在發生事件時運行自定義例程。</span><span class="sxs-lookup"><span data-stu-id="b35b8-504">This allows you to run a custom routine whenever an event occurs.</span></span> <span data-ttu-id="b35b8-505">下表列出了 FormView 控制件支援的事件。</span><span class="sxs-lookup"><span data-stu-id="b35b8-505">The following table lists the events supported by the FormView control.</span></span>

| <span data-ttu-id="b35b8-506">**事件**</span><span class="sxs-lookup"><span data-stu-id="b35b8-506">**Event**</span></span> | <span data-ttu-id="b35b8-507">**說明**</span><span class="sxs-lookup"><span data-stu-id="b35b8-507">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="b35b8-508">專案指令</span><span class="sxs-lookup"><span data-stu-id="b35b8-508">ItemCommand</span></span> | <span data-ttu-id="b35b8-509">按下 FormView 控件中的按鈕時發生。</span><span class="sxs-lookup"><span data-stu-id="b35b8-509">Occurs when a button within a FormView control is clicked.</span></span> <span data-ttu-id="b35b8-510">當在控制項中按一下按鈕時,此事件通常用於執行任務。</span><span class="sxs-lookup"><span data-stu-id="b35b8-510">This event is often used to perform a task when a button is clicked in the control.</span></span> |
| <span data-ttu-id="b35b8-511">項目建立</span><span class="sxs-lookup"><span data-stu-id="b35b8-511">ItemCreated</span></span> | <span data-ttu-id="b35b8-512">在表單表控制件中創建所有 FormViewRow 物件後發生。</span><span class="sxs-lookup"><span data-stu-id="b35b8-512">Occurs after all FormViewRow objects are created in the FormView control.</span></span> <span data-ttu-id="b35b8-513">此事件通常用於在顯示記錄之前修改記錄的值。</span><span class="sxs-lookup"><span data-stu-id="b35b8-513">This event is often used to modify the values of a record before it is displayed.</span></span> |
| <span data-ttu-id="b35b8-514">項目已移除</span><span class="sxs-lookup"><span data-stu-id="b35b8-514">ItemDeleted</span></span> | <span data-ttu-id="b35b8-515">按下「刪除」按鈕(其**CommandName**屬性設置為"刪除"的按鈕),但在 FormView 控制項從資料來源中刪除記錄後,將發生這種情況。</span><span class="sxs-lookup"><span data-stu-id="b35b8-515">Occurs when a Delete button (a button with its **CommandName** property set to "Delete") is clicked, but after the FormView control deletes the record from the data source.</span></span> <span data-ttu-id="b35b8-516">此事件通常用於檢查刪除操作的結果。</span><span class="sxs-lookup"><span data-stu-id="b35b8-516">This event is often used to check the results of the delete operation.</span></span> |
| <span data-ttu-id="b35b8-517">項目刪除</span><span class="sxs-lookup"><span data-stu-id="b35b8-517">ItemDeleting</span></span> | <span data-ttu-id="b35b8-518">按下"刪除"按鈕,但在 FormView 控件從數據源中刪除記錄之前發生。</span><span class="sxs-lookup"><span data-stu-id="b35b8-518">Occurs when a Delete button is clicked, but before the FormView control deletes the record from the data source.</span></span> <span data-ttu-id="b35b8-519">此事件通常用於取消刪除操作。</span><span class="sxs-lookup"><span data-stu-id="b35b8-519">This event is often used to cancel the delete operation.</span></span> |
| <span data-ttu-id="b35b8-520">專案已插入</span><span class="sxs-lookup"><span data-stu-id="b35b8-520">ItemInserted</span></span> | <span data-ttu-id="b35b8-521">按下「插入」按鈕(其**CommandName**屬性設定為「插入」的按鈕),但在 FormView 控制項插入記錄後,將發生這種情況。</span><span class="sxs-lookup"><span data-stu-id="b35b8-521">Occurs when an Insert button (a button with its **CommandName** property set to "Insert") is clicked, but after the FormView control inserts the record.</span></span> <span data-ttu-id="b35b8-522">此事件通常用於檢查插入操作的結果。</span><span class="sxs-lookup"><span data-stu-id="b35b8-522">This event is often used to check the results of the insert operation.</span></span> |
| <span data-ttu-id="b35b8-523">專案插入</span><span class="sxs-lookup"><span data-stu-id="b35b8-523">ItemInserting</span></span> | <span data-ttu-id="b35b8-524">按下「插入」按鈕,但在 FormView 控件插入記錄之前發生。</span><span class="sxs-lookup"><span data-stu-id="b35b8-524">Occurs when an Insert button is clicked, but before the FormView control inserts the record.</span></span> <span data-ttu-id="b35b8-525">此事件通常用於取消插入操作。</span><span class="sxs-lookup"><span data-stu-id="b35b8-525">This event is often used to cancel the insert operation.</span></span> |
| <span data-ttu-id="b35b8-526">專案更新</span><span class="sxs-lookup"><span data-stu-id="b35b8-526">ItemUpdated</span></span> | <span data-ttu-id="b35b8-527">按下「更新」按鈕(其**CommandName**屬性設置為"更新"的按鈕),但在 FormView 控制件更新行後,將發生。</span><span class="sxs-lookup"><span data-stu-id="b35b8-527">Occurs when an Update button (a button with its **CommandName** property set to "Update") is clicked, but after the FormView control updates the row.</span></span> <span data-ttu-id="b35b8-528">此事件通常用於檢查更新操作的結果。</span><span class="sxs-lookup"><span data-stu-id="b35b8-528">This event is often used to check the results of the update operation.</span></span> |
| <span data-ttu-id="b35b8-529">專案更新</span><span class="sxs-lookup"><span data-stu-id="b35b8-529">ItemUpdating</span></span> | <span data-ttu-id="b35b8-530">按下"更新"按鈕,但在 FormView 控件更新記錄之前發生。</span><span class="sxs-lookup"><span data-stu-id="b35b8-530">Occurs when an Update button is clicked, but before the FormView control updates the record.</span></span> <span data-ttu-id="b35b8-531">此事件通常用於取消更新操作。</span><span class="sxs-lookup"><span data-stu-id="b35b8-531">This event is often used to cancel the update operation.</span></span> |
| <span data-ttu-id="b35b8-532">模式已變更</span><span class="sxs-lookup"><span data-stu-id="b35b8-532">ModeChanged</span></span> | <span data-ttu-id="b35b8-533">在 FormView 控制件更改模式(編輯、插入或唯讀模式)後發生。</span><span class="sxs-lookup"><span data-stu-id="b35b8-533">Occurs after the FormView control changes modes (to edit, insert, or read-only mode).</span></span> <span data-ttu-id="b35b8-534">此事件通常用於在 FormView 控制件更改模式時執行任務。</span><span class="sxs-lookup"><span data-stu-id="b35b8-534">This event is often used to perform a task when the FormView control changes modes.</span></span> |
| <span data-ttu-id="b35b8-535">模式變更</span><span class="sxs-lookup"><span data-stu-id="b35b8-535">ModeChanging</span></span> | <span data-ttu-id="b35b8-536">在 FormView 控制件更改模式之前發生(以編輯、插入或唯讀模式)。</span><span class="sxs-lookup"><span data-stu-id="b35b8-536">Occurs before the FormView control changes modes (to edit, insert, or read-only mode).</span></span> <span data-ttu-id="b35b8-537">此事件通常用於取消模式更改。</span><span class="sxs-lookup"><span data-stu-id="b35b8-537">This event is often used to cancel a mode change.</span></span> |
| <span data-ttu-id="b35b8-538">頁面索引已變更</span><span class="sxs-lookup"><span data-stu-id="b35b8-538">PageIndexChanged</span></span> | <span data-ttu-id="b35b8-539">按一下其中一個尋呼機按鈕,但在 FormView 控件處理分頁操作後發生。</span><span class="sxs-lookup"><span data-stu-id="b35b8-539">Occurs when one of the pager buttons is clicked, but after the FormView control handles the paging operation.</span></span> <span data-ttu-id="b35b8-540">當用戶導航到控制項中的不同記錄後需要執行任務時,通常使用此事件。</span><span class="sxs-lookup"><span data-stu-id="b35b8-540">This event is commonly used when you need to perform a task after the user navigates to a different record in the control.</span></span> |
| <span data-ttu-id="b35b8-541">頁面索引變更</span><span class="sxs-lookup"><span data-stu-id="b35b8-541">PageIndexChanging</span></span> | <span data-ttu-id="b35b8-542">按一下其中一個尋呼機按鈕,但在 FormView 控件處理分頁操作之前發生。</span><span class="sxs-lookup"><span data-stu-id="b35b8-542">Occurs when one of the pager buttons is clicked, but before the FormView control handles the paging operation.</span></span> <span data-ttu-id="b35b8-543">此事件通常用於取消分頁操作。</span><span class="sxs-lookup"><span data-stu-id="b35b8-543">This event is often used to cancel the paging operation.</span></span> |

## <a name="detailsview"></a><span data-ttu-id="b35b8-544">詳細資訊檢視</span><span class="sxs-lookup"><span data-stu-id="b35b8-544">DetailsView</span></span>

<span data-ttu-id="b35b8-545">"詳細資訊檢視"控制件用於顯示表中資料源中的單個記錄,其中記錄的每個欄位都顯示在表的一行中。</span><span class="sxs-lookup"><span data-stu-id="b35b8-545">The DetailsView control is used to display a single record from a data source in a table, where each field of the record is displayed in a row of the table.</span></span> <span data-ttu-id="b35b8-546">它可以與 GridView 控件結合使用,用於主詳細資訊方案。</span><span class="sxs-lookup"><span data-stu-id="b35b8-546">It can be used in combination with a GridView control for master-detail scenarios.</span></span> <span data-ttu-id="b35b8-547">"詳細資訊檢視"控制件支援以下功能:</span><span class="sxs-lookup"><span data-stu-id="b35b8-547">The DetailsView control supports the following features:</span></span>

- <span data-ttu-id="b35b8-548">綁定到資料源控件,如 SqlDataSource。</span><span class="sxs-lookup"><span data-stu-id="b35b8-548">Binding to data source controls, such as SqlDataSource.</span></span>
- <span data-ttu-id="b35b8-549">內置插入功能。</span><span class="sxs-lookup"><span data-stu-id="b35b8-549">Built-in inserting capabilities.</span></span>
- <span data-ttu-id="b35b8-550">內置更新和刪除功能。</span><span class="sxs-lookup"><span data-stu-id="b35b8-550">Built-in updating and deleting capabilities.</span></span>
- <span data-ttu-id="b35b8-551">內置尋呼功能。</span><span class="sxs-lookup"><span data-stu-id="b35b8-551">Built-in paging capabilities.</span></span>
- <span data-ttu-id="b35b8-552">對 DetailsView 物件模型的程式設計存取,以動態設置屬性、處理事件等。</span><span class="sxs-lookup"><span data-stu-id="b35b8-552">Programmatic access to the DetailsView object model to dynamically set properties, handle events, and so on.</span></span>
- <span data-ttu-id="b35b8-553">通過主題和樣式自定義外觀。</span><span class="sxs-lookup"><span data-stu-id="b35b8-553">Customizable appearance through themes and styles.</span></span>

## <a name="row-fields"></a><span data-ttu-id="b35b8-554">列欄位</span><span class="sxs-lookup"><span data-stu-id="b35b8-554">Row Fields</span></span>

<span data-ttu-id="b35b8-555">"詳細資訊檢視"控制件中的每個資料行都是通過聲明欄位控制項創建的。</span><span class="sxs-lookup"><span data-stu-id="b35b8-555">Each data row in the DetailsView control is created by declaring a field control.</span></span> <span data-ttu-id="b35b8-556">不同的行欄位類型確定控制項中的行的行為。</span><span class="sxs-lookup"><span data-stu-id="b35b8-556">Different row field types determine the behavior of the rows in the control.</span></span> <span data-ttu-id="b35b8-557">欄位控制項派生自資料控制欄位。</span><span class="sxs-lookup"><span data-stu-id="b35b8-557">Field controls derive from DataControlField.</span></span> <span data-ttu-id="b35b8-558">下表列出了可以使用的不同行欄位類型。</span><span class="sxs-lookup"><span data-stu-id="b35b8-558">The following table lists the different row field types that can be used.</span></span>

| <span data-ttu-id="b35b8-559">**欄位型別**</span><span class="sxs-lookup"><span data-stu-id="b35b8-559">**Column field type**</span></span> | <span data-ttu-id="b35b8-560">**說明**</span><span class="sxs-lookup"><span data-stu-id="b35b8-560">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="b35b8-561">BoundField</span><span class="sxs-lookup"><span data-stu-id="b35b8-561">BoundField</span></span> | <span data-ttu-id="b35b8-562">將資料來源中的欄位值顯示為文字。</span><span class="sxs-lookup"><span data-stu-id="b35b8-562">Displays the value of a field in a data source as text.</span></span> |
| <span data-ttu-id="b35b8-563">ButtonField</span><span class="sxs-lookup"><span data-stu-id="b35b8-563">ButtonField</span></span> | <span data-ttu-id="b35b8-564">在「詳細資訊查看」控件中顯示命令按鈕。</span><span class="sxs-lookup"><span data-stu-id="b35b8-564">Displays a command button in the DetailsView control.</span></span> <span data-ttu-id="b35b8-565">這允許您顯示具有自訂按鈕控制件(如"添加"或"刪除"按鈕)的行。</span><span class="sxs-lookup"><span data-stu-id="b35b8-565">This allows you to display a row with a custom button control, such as an Add or a Remove button.</span></span> |
| <span data-ttu-id="b35b8-566">CheckBoxField</span><span class="sxs-lookup"><span data-stu-id="b35b8-566">CheckBoxField</span></span> | <span data-ttu-id="b35b8-567">在「詳細資訊查看」控件中顯示複選框。</span><span class="sxs-lookup"><span data-stu-id="b35b8-567">Displays a check box in the DetailsView control.</span></span> <span data-ttu-id="b35b8-568">此行欄位類型通常用於顯示具有布林值的欄位。</span><span class="sxs-lookup"><span data-stu-id="b35b8-568">This row field type is commonly used to display fields with a Boolean value.</span></span> |
| <span data-ttu-id="b35b8-569">CommandField</span><span class="sxs-lookup"><span data-stu-id="b35b8-569">CommandField</span></span> | <span data-ttu-id="b35b8-570">顯示內建命令按鈕,用於在「詳細資訊檢視」控件中執行編輯、插入或刪除操作。</span><span class="sxs-lookup"><span data-stu-id="b35b8-570">Displays built-in command buttons to perform edit, insert, or delete operations in the DetailsView control.</span></span> |
| <span data-ttu-id="b35b8-571">HyperLinkField</span><span class="sxs-lookup"><span data-stu-id="b35b8-571">HyperLinkField</span></span> | <span data-ttu-id="b35b8-572">將數據源中的欄位值顯示為超連結。</span><span class="sxs-lookup"><span data-stu-id="b35b8-572">Displays the value of a field in a data source as a hyperlink.</span></span> <span data-ttu-id="b35b8-573">此行欄位類型允許您將第二個字段綁定到超連結的 URL。</span><span class="sxs-lookup"><span data-stu-id="b35b8-573">This row field type allows you to bind a second field to the hyperlink's URL.</span></span> |
| <span data-ttu-id="b35b8-574">ImageField</span><span class="sxs-lookup"><span data-stu-id="b35b8-574">ImageField</span></span> | <span data-ttu-id="b35b8-575">在「詳細資訊檢視」控件中顯示圖像。</span><span class="sxs-lookup"><span data-stu-id="b35b8-575">Displays an image in the DetailsView control.</span></span> |
| <span data-ttu-id="b35b8-576">樣本欄位</span><span class="sxs-lookup"><span data-stu-id="b35b8-576">TemplateField</span></span> | <span data-ttu-id="b35b8-577">根據指定的範本在「詳細資訊檢視」控件中顯示行的使用者定義內容。</span><span class="sxs-lookup"><span data-stu-id="b35b8-577">Displays user-defined content for a row in the DetailsView control according to a specified template.</span></span> <span data-ttu-id="b35b8-578">此行欄位類型允許您建立自訂列欄位。</span><span class="sxs-lookup"><span data-stu-id="b35b8-578">This row field type allows you to create a custom row field.</span></span> |

<span data-ttu-id="b35b8-579">預設情況下,AutoGenerateRows 屬性設置為**true**,該屬性會自動為資料源中可綁定類型的每個字段生成綁定行欄位物件。</span><span class="sxs-lookup"><span data-stu-id="b35b8-579">By default, the AutoGenerateRows property is set to **true**, which automatically generates a bound row field object for each field of a bindable type in the data source.</span></span> <span data-ttu-id="b35b8-580">有效的可綁定類型是字串、日期時間、十進位、Guid和基元類型集。</span><span class="sxs-lookup"><span data-stu-id="b35b8-580">Valid bindable types are String, DateTime, Decimal, Guid, and the set of primitive types.</span></span> <span data-ttu-id="b35b8-581">然後,每個欄位以文本形式以每個欄位在資料源中顯示的順序顯示。</span><span class="sxs-lookup"><span data-stu-id="b35b8-581">Each field is then displayed in a row as text, in the order in which each field appears in the data source.</span></span>

<span data-ttu-id="b35b8-582">自動生成行提供了一種快速簡便的方法來顯示記錄中的每個欄位。</span><span class="sxs-lookup"><span data-stu-id="b35b8-582">Automatically generating the rows provides a quick and easy way to display every field in the record.</span></span> <span data-ttu-id="b35b8-583">但是,要利用"詳細資訊視圖"控件的高級功能,必須顯式聲明要包含在"詳細資訊視圖"控件中的行欄位。</span><span class="sxs-lookup"><span data-stu-id="b35b8-583">However, to make use of the DetailsView control's advanced capabilities you must explicitly declare the row fields to include in the DetailsView control.</span></span> <span data-ttu-id="b35b8-584">要宣告列欄位,首先將**AutoGenerateRows**屬性設定為**false**。</span><span class="sxs-lookup"><span data-stu-id="b35b8-584">To declare the row fields, first set the **AutoGenerateRows** property to **false**.</span></span> <span data-ttu-id="b35b8-585">接下來,在「詳細資訊檢視」控制件的打開和關閉標記之間添加打開和關閉**&lt;欄位&gt;** 標記。</span><span class="sxs-lookup"><span data-stu-id="b35b8-585">Next, add opening and closing **&lt;Fields&gt;** tags between the opening and closing tags of the DetailsView control.</span></span> <span data-ttu-id="b35b8-586">最後,列出要在「欄位」 標記之間包含的列**&lt;欄&gt;位**。</span><span class="sxs-lookup"><span data-stu-id="b35b8-586">Finally, list the row fields that you want to include between the opening and closing **&lt;Fields&gt;** tags.</span></span> <span data-ttu-id="b35b8-587">指定的行欄位按列出的順序加入到欄位集合中。</span><span class="sxs-lookup"><span data-stu-id="b35b8-587">The row fields specified are added to the Fields collection in the order listed.</span></span> <span data-ttu-id="b35b8-588">**欄位**「集合允許您以程式設計方式管理」詳細資訊檢視「控制件中的行欄位。</span><span class="sxs-lookup"><span data-stu-id="b35b8-588">The **Fields** collection allows you to programmatically manage the row fields in the DetailsView control.</span></span>

> [!NOTE]
> <span data-ttu-id="b35b8-589">自動生成的行欄位不會添加到欄位集合中。</span><span class="sxs-lookup"><span data-stu-id="b35b8-589">Automatically generated row fields are not added to the Fields collection.</span></span>

## <a name="binding-to-data"></a><span data-ttu-id="b35b8-590">繫結到資料</span><span class="sxs-lookup"><span data-stu-id="b35b8-590">Binding to Data</span></span>

<span data-ttu-id="b35b8-591">詳細資訊檢視控制項可以綁定到資料來源控制項(如**SqlDataSource**或 AccessDataSource)或實現系統的任何資料來源。</span><span class="sxs-lookup"><span data-stu-id="b35b8-591">The DetailsView control can be bound to a data source control, such as **SqlDataSource** or AccessDataSource, or to any data source that implements the System.Collections.IEnumerable interface, such as System.Data.DataView, System.Collections.ArrayList and System.Collections.Hashtable.</span></span>

<span data-ttu-id="b35b8-592">使用以下方法之一將「詳細資訊檢視」控制項裝置型態為相應的資料來源類型:</span><span class="sxs-lookup"><span data-stu-id="b35b8-592">Use one of the following methods to bind the DetailsView control to the appropriate data source type:</span></span>

- <span data-ttu-id="b35b8-593">要綁定到資料源控制項,請將「詳細資訊檢視」控制件的 DataSourceID 屬性設定為資料來源控制項的 ID 值。</span><span class="sxs-lookup"><span data-stu-id="b35b8-593">To bind to a data source control, set the DataSourceID property of the DetailsView control to the ID value of the data source control.</span></span> <span data-ttu-id="b35b8-594">"詳細資訊檢視"控制件會自動綁定到指定的資料源控制件。</span><span class="sxs-lookup"><span data-stu-id="b35b8-594">The DetailsView control automatically binds to the specified data source control.</span></span> <span data-ttu-id="b35b8-595">這是綁定到數據的首選方法。</span><span class="sxs-lookup"><span data-stu-id="b35b8-595">This is the preferred method to bind to data.</span></span>
- <span data-ttu-id="b35b8-596">要綁定到實現**System.集合.IE50ble 介面**的數據源,請以程式設計方式將「詳細資訊視圖」控件的 DataSource 屬性設置為數據源,然後調用 DataBind 方法。</span><span class="sxs-lookup"><span data-stu-id="b35b8-596">To bind to a data source that implements the **System.Collections.IEnumerable** interface, programmatically set the DataSource property of the DetailsView control to the data source and then call the DataBind method.</span></span>

## <a name="security"></a><span data-ttu-id="b35b8-597">安全性</span><span class="sxs-lookup"><span data-stu-id="b35b8-597">Security</span></span>

<span data-ttu-id="b35b8-598">此控件可用於顯示使用者輸入,其中可能包括惡意用戶端腳本。</span><span class="sxs-lookup"><span data-stu-id="b35b8-598">This control can be used to display user input, which might include malicious client script.</span></span> <span data-ttu-id="b35b8-599">在應用程式中顯示可執行文本、SQL 語句或其他代碼之前,請檢查從用戶端發送的任何資訊。</span><span class="sxs-lookup"><span data-stu-id="b35b8-599">Check any information that is sent from a client for executable script, SQL statements, or other code before displaying it in your application.</span></span> <span data-ttu-id="b35b8-600">ASP.NET提供輸入請求驗證功能,以阻止使用者輸入中的文本和 HTML。</span><span class="sxs-lookup"><span data-stu-id="b35b8-600">ASP.NET provides an input request validation feature to block script and HTML in user input.</span></span>

## <a name="data-operations"></a><span data-ttu-id="b35b8-601">資料作業</span><span class="sxs-lookup"><span data-stu-id="b35b8-601">Data Operations</span></span>

<span data-ttu-id="b35b8-602">"詳細資訊視圖"控制件提供內置功能,允許使用者更新、刪除、插入和翻閱控制件中的項。</span><span class="sxs-lookup"><span data-stu-id="b35b8-602">The DetailsView control provides built-in capabilities that allow the user to update, delete, insert, and page through items in the control.</span></span> <span data-ttu-id="b35b8-603">當「詳細資訊檢視」控制件綁定到資料來源控制項時,詳細資訊檢視控制項可以利用資料來源控制件的功能並提供自動更新、刪除、插入和分頁功能。</span><span class="sxs-lookup"><span data-stu-id="b35b8-603">When the DetailsView control is bound to a data source control, the DetailsView control can take advantage of the data source control's capabilities and provide automatic updating, deleting, inserting, and paging functionality.</span></span>

<span data-ttu-id="b35b8-604">"詳細資訊檢視"控制件可以為與其他類型的資料源的更新、刪除、插入和分頁操作提供支援;但是,您必須在適當的事件處理程式中為這些操作提供實現。</span><span class="sxs-lookup"><span data-stu-id="b35b8-604">The DetailsView control can provide support for update, delete, insert, and paging operations with other types of data sources; however, you must provide the implementation for these operations in an appropriate event handler.</span></span>

<span data-ttu-id="b35b8-605">"詳細資訊檢視"控制件可以通過分別將"自動生成編輯按鈕"、"自動生成刪除按鈕"或"自動生成插入按鈕"屬性設置為**true,** 自動添加具有"編輯"、"刪除"或"新建"按鈕的**CommandField**行欄位。</span><span class="sxs-lookup"><span data-stu-id="b35b8-605">The DetailsView control can automatically add a **CommandField** row field with an Edit, Delete, or New button by setting the AutoGenerateEditButton, AutoGenerateDeleteButton, or AutoGenerateInsertButton properties to **true**, respectively.</span></span> <span data-ttu-id="b35b8-606">與"刪除"按鈕(立即刪除所選記錄)不同,按一下「編輯」或「新建」按鈕時,「詳細資訊視圖」控制件將分別進入編輯或插入模式。</span><span class="sxs-lookup"><span data-stu-id="b35b8-606">Unlike the Delete button (which deletes the selected record immediately), when the Edit or New button is clicked, the DetailsView control goes into edit or insert mode, respectively.</span></span> <span data-ttu-id="b35b8-607">在編輯模式下,"編輯"按鈕將替換為"更新"和"取消"按鈕。</span><span class="sxs-lookup"><span data-stu-id="b35b8-607">In edit mode, the Edit button is replaced with an Update and a Cancel button.</span></span> <span data-ttu-id="b35b8-608">適合欄位資料類型(如 TextBox 或 CheckBox 控制件)的輸入控制項將顯示欄位的值,供使用者修改。</span><span class="sxs-lookup"><span data-stu-id="b35b8-608">Input controls that are appropriate for the field's data type (such as a TextBox or a CheckBox control) are displayed with a field's value for the user to modify.</span></span> <span data-ttu-id="b35b8-609">按下"更新"按鈕會更新數據源中的記錄,而按兩下"取消"按鈕將放棄任何更改。</span><span class="sxs-lookup"><span data-stu-id="b35b8-609">Clicking the Update button updates the record in the data source, while clicking the Cancel button abandons any changes.</span></span> <span data-ttu-id="b35b8-610">同樣,在插入模式下,"新建"按鈕將替換為"插入"和"取消"按鈕,並顯示空輸入控制項,以便使用者輸入新記錄的值。</span><span class="sxs-lookup"><span data-stu-id="b35b8-610">Likewise, in insert mode, the New button is replaced with an Insert and a Cancel button, and empty input controls are displayed for the user to enter the values for the new record.</span></span>

<span data-ttu-id="b35b8-611">"詳細資訊視圖"控制件提供分頁功能,允許使用者導航到資料源中的其他記錄。</span><span class="sxs-lookup"><span data-stu-id="b35b8-611">The DetailsView control provides a paging feature, which allows the user to navigate to other records in the data source.</span></span> <span data-ttu-id="b35b8-612">啟用後,頁面導航控件將顯示在尋呼機行中。</span><span class="sxs-lookup"><span data-stu-id="b35b8-612">When enabled, page navigation controls are displayed in a pager row.</span></span> <span data-ttu-id="b35b8-613">要開啟分頁,請將 Allow 分頁屬性設定為**true**。</span><span class="sxs-lookup"><span data-stu-id="b35b8-613">To enable paging, set the AllowPaging property to **true**.</span></span> <span data-ttu-id="b35b8-614">可以使用尋呼機樣式和尋呼器設置屬性自定義尋呼機行。</span><span class="sxs-lookup"><span data-stu-id="b35b8-614">The pager row can be customized using the PagerStyle and PagerSettings properties.</span></span>

## <a name="customizing-the-user-interface"></a><span data-ttu-id="b35b8-615">自訂使用者介面</span><span class="sxs-lookup"><span data-stu-id="b35b8-615">Customizing the User Interface</span></span>

<span data-ttu-id="b35b8-616">您可以通過為控制項的不同部分設置樣式屬性來自定義「詳細資訊檢視」控制件的外觀。</span><span class="sxs-lookup"><span data-stu-id="b35b8-616">You can customize the appearance of the DetailsView control by setting the style properties for the different parts of the control.</span></span> <span data-ttu-id="b35b8-617">下表列出了不同的樣式屬性。</span><span class="sxs-lookup"><span data-stu-id="b35b8-617">The following table lists the different style properties.</span></span>

| <span data-ttu-id="b35b8-618">**樣式屬性**</span><span class="sxs-lookup"><span data-stu-id="b35b8-618">**Style property**</span></span> | <span data-ttu-id="b35b8-619">**說明**</span><span class="sxs-lookup"><span data-stu-id="b35b8-619">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="b35b8-620">替代行樣式</span><span class="sxs-lookup"><span data-stu-id="b35b8-620">AlternatingRowStyle</span></span> | <span data-ttu-id="b35b8-621">"詳細資訊檢視"控制件中交替資料行的樣式設置。</span><span class="sxs-lookup"><span data-stu-id="b35b8-621">The style settings for the alternating data rows in the DetailsView control.</span></span> <span data-ttu-id="b35b8-622">設置此屬性時,數據行在 RowStyle 設置和**交替行設置**之間交替顯示。</span><span class="sxs-lookup"><span data-stu-id="b35b8-622">When this property is set, the data rows are displayed alternating between the RowStyle settings and the **AlternatingRowStyle** settings.</span></span> |
| <span data-ttu-id="b35b8-623">命令列樣式</span><span class="sxs-lookup"><span data-stu-id="b35b8-623">CommandRowStyle</span></span> | <span data-ttu-id="b35b8-624">包含「詳細資訊檢視」控制件中的內置命令按鈕的行的樣式設置。</span><span class="sxs-lookup"><span data-stu-id="b35b8-624">The style settings for the row containing the built-in command buttons in the DetailsView control.</span></span> |
| <span data-ttu-id="b35b8-625">編輯行樣式</span><span class="sxs-lookup"><span data-stu-id="b35b8-625">EditRowStyle</span></span> | <span data-ttu-id="b35b8-626">當"詳細資訊視圖"控制件處於編輯模式時,數據行的樣式設置。</span><span class="sxs-lookup"><span data-stu-id="b35b8-626">The style settings for the data rows when the DetailsView control is in edit mode.</span></span> |
| <span data-ttu-id="b35b8-627">空白資料行樣式</span><span class="sxs-lookup"><span data-stu-id="b35b8-627">EmptyDataRowStyle</span></span> | <span data-ttu-id="b35b8-628">當數據源不包含任何記錄時,在「詳細資訊檢視」控件中顯示的空數據行的樣式設置。</span><span class="sxs-lookup"><span data-stu-id="b35b8-628">The style settings for the empty data row displayed in the DetailsView control when the data source does not contain any records.</span></span> |
| <span data-ttu-id="b35b8-629">腳法</span><span class="sxs-lookup"><span data-stu-id="b35b8-629">FooterStyle</span></span> | <span data-ttu-id="b35b8-630">"詳細資訊視圖"控制件的腳行的樣式設置。</span><span class="sxs-lookup"><span data-stu-id="b35b8-630">The style settings for the footer row of the DetailsView control.</span></span> |
| <span data-ttu-id="b35b8-631">標題樣式</span><span class="sxs-lookup"><span data-stu-id="b35b8-631">HeaderStyle</span></span> | <span data-ttu-id="b35b8-632">詳細資訊視圖控件的標頭行的樣式設置。</span><span class="sxs-lookup"><span data-stu-id="b35b8-632">The style settings for the header row of the DetailsView control.</span></span> |
| <span data-ttu-id="b35b8-633">插入行樣式</span><span class="sxs-lookup"><span data-stu-id="b35b8-633">InsertRowStyle</span></span> | <span data-ttu-id="b35b8-634">當「詳細資訊檢視」控件處於插入模式時,數據行的樣式設置。</span><span class="sxs-lookup"><span data-stu-id="b35b8-634">The style settings for the data rows when the DetailsView control is in insert mode.</span></span> |
| <span data-ttu-id="b35b8-635">呼叫樣式</span><span class="sxs-lookup"><span data-stu-id="b35b8-635">PagerStyle</span></span> | <span data-ttu-id="b35b8-636">"詳細資訊視圖"控制件的尋呼機行的樣式設置。</span><span class="sxs-lookup"><span data-stu-id="b35b8-636">The style settings for the pager row of the DetailsView control.</span></span> |
| <span data-ttu-id="b35b8-637">行樣式</span><span class="sxs-lookup"><span data-stu-id="b35b8-637">RowStyle</span></span> | <span data-ttu-id="b35b8-638">詳細資訊檢視控件中數據行的樣式設置。</span><span class="sxs-lookup"><span data-stu-id="b35b8-638">The style settings for the data rows in the DetailsView control.</span></span> <span data-ttu-id="b35b8-639">當還設置**交替羅文樣式**屬性時,數據行將顯示在 **「行樣式」** 設置和**交替行設置**之間交替顯示。</span><span class="sxs-lookup"><span data-stu-id="b35b8-639">When the **AlternatingRowStyle** property is also set, the data rows are displayed alternating between the **RowStyle** settings and the **AlternatingRowStyle** settings.</span></span> |
| <span data-ttu-id="b35b8-640">欄位標題樣式</span><span class="sxs-lookup"><span data-stu-id="b35b8-640">FieldHeaderStyle</span></span> | <span data-ttu-id="b35b8-641">"詳細資訊檢視"控制件的標題列的樣式設置。</span><span class="sxs-lookup"><span data-stu-id="b35b8-641">The style settings for the header column of the DetailsView control.</span></span> |

## <a name="events"></a><span data-ttu-id="b35b8-642">事件</span><span class="sxs-lookup"><span data-stu-id="b35b8-642">Events</span></span>

<span data-ttu-id="b35b8-643">"詳細資訊檢視"控制件提供了多個事件,您可以針對這些事件進行程式設計。</span><span class="sxs-lookup"><span data-stu-id="b35b8-643">The DetailsView control provides several events that you can program against.</span></span> <span data-ttu-id="b35b8-644">這允許您在發生事件時運行自定義例程。</span><span class="sxs-lookup"><span data-stu-id="b35b8-644">This allows you to run a custom routine whenever an event occurs.</span></span> <span data-ttu-id="b35b8-645">下表列出了詳細資訊視圖控制項支援的事件。</span><span class="sxs-lookup"><span data-stu-id="b35b8-645">The following table lists the events supported by the DetailsView control.</span></span> <span data-ttu-id="b35b8-646">"詳細資訊視圖"控件還從其基本類繼承這些事件:數據綁定、數據綁定、已處置、Init、載入、預渲染和渲染。</span><span class="sxs-lookup"><span data-stu-id="b35b8-646">The DetailsView control also inherits these events from its base classes: DataBinding, DataBound, Disposed, Init, Load, PreRender, and Render.</span></span>

| <span data-ttu-id="b35b8-647">**事件**</span><span class="sxs-lookup"><span data-stu-id="b35b8-647">**Event**</span></span> | <span data-ttu-id="b35b8-648">**說明**</span><span class="sxs-lookup"><span data-stu-id="b35b8-648">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="b35b8-649">專案指令</span><span class="sxs-lookup"><span data-stu-id="b35b8-649">ItemCommand</span></span> | <span data-ttu-id="b35b8-650">在「詳細資訊查看」控件中按一下按鈕時發生。</span><span class="sxs-lookup"><span data-stu-id="b35b8-650">Occurs when a button is clicked in the DetailsView control.</span></span> |
| <span data-ttu-id="b35b8-651">項目建立</span><span class="sxs-lookup"><span data-stu-id="b35b8-651">ItemCreated</span></span> | <span data-ttu-id="b35b8-652">在「詳細資訊檢視」控制件中創建所有詳細資訊檢視行物件後發生。</span><span class="sxs-lookup"><span data-stu-id="b35b8-652">Occurs after all DetailsViewRow objects are created in the DetailsView control.</span></span> <span data-ttu-id="b35b8-653">此事件通常用於在顯示記錄之前修改記錄的值。</span><span class="sxs-lookup"><span data-stu-id="b35b8-653">This event is often used to modify the values of a record before it is displayed.</span></span> |
| <span data-ttu-id="b35b8-654">項目已移除</span><span class="sxs-lookup"><span data-stu-id="b35b8-654">ItemDeleted</span></span> | <span data-ttu-id="b35b8-655">按下「刪除」按鈕,但在「詳細資訊查看」控件從數據源中刪除記錄後發生。</span><span class="sxs-lookup"><span data-stu-id="b35b8-655">Occurs when a Delete button is clicked, but after the DetailsView control deletes the record from the data source.</span></span> <span data-ttu-id="b35b8-656">此事件通常用於檢查刪除操作的結果。</span><span class="sxs-lookup"><span data-stu-id="b35b8-656">This event is often used to check the results of the delete operation.</span></span> |
| <span data-ttu-id="b35b8-657">項目刪除</span><span class="sxs-lookup"><span data-stu-id="b35b8-657">ItemDeleting</span></span> | <span data-ttu-id="b35b8-658">按下「刪除」按鈕,但在「詳細資訊查看」控件從數據源中刪除記錄之前發生。</span><span class="sxs-lookup"><span data-stu-id="b35b8-658">Occurs when a Delete button is clicked, but before the DetailsView control deletes the record from the data source.</span></span> <span data-ttu-id="b35b8-659">此事件通常用於取消刪除操作。</span><span class="sxs-lookup"><span data-stu-id="b35b8-659">This event is often used to cancel the delete operation.</span></span> |
| <span data-ttu-id="b35b8-660">專案已插入</span><span class="sxs-lookup"><span data-stu-id="b35b8-660">ItemInserted</span></span> | <span data-ttu-id="b35b8-661">按下「插入」按鈕,但在「詳細資訊檢視」控件插入記錄後發生。</span><span class="sxs-lookup"><span data-stu-id="b35b8-661">Occurs when an Insert button is clicked, but after the DetailsView control inserts the record.</span></span> <span data-ttu-id="b35b8-662">此事件通常用於檢查插入操作的結果。</span><span class="sxs-lookup"><span data-stu-id="b35b8-662">This event is often used to check the results of the insert operation.</span></span> |
| <span data-ttu-id="b35b8-663">專案插入</span><span class="sxs-lookup"><span data-stu-id="b35b8-663">ItemInserting</span></span> | <span data-ttu-id="b35b8-664">按下「插入」按鈕,但在「詳細資訊檢視」控件插入記錄之前發生。</span><span class="sxs-lookup"><span data-stu-id="b35b8-664">Occurs when an Insert button is clicked, but before the DetailsView control inserts the record.</span></span> <span data-ttu-id="b35b8-665">此事件通常用於取消插入操作。</span><span class="sxs-lookup"><span data-stu-id="b35b8-665">This event is often used to cancel the insert operation.</span></span> |
| <span data-ttu-id="b35b8-666">專案更新</span><span class="sxs-lookup"><span data-stu-id="b35b8-666">ItemUpdated</span></span> | <span data-ttu-id="b35b8-667">按下「更新」按鈕時發生,但在「詳細資訊查看」控件更新行後發生。</span><span class="sxs-lookup"><span data-stu-id="b35b8-667">Occurs when an Update button is clicked, but after the DetailsView control updates the row.</span></span> <span data-ttu-id="b35b8-668">此事件通常用於檢查更新操作的結果。</span><span class="sxs-lookup"><span data-stu-id="b35b8-668">This event is often used to check the results of the update operation.</span></span> |
| <span data-ttu-id="b35b8-669">專案更新</span><span class="sxs-lookup"><span data-stu-id="b35b8-669">ItemUpdating</span></span> | <span data-ttu-id="b35b8-670">按下「更新」按鈕,但在「詳細資訊查看」控件更新記錄之前發生。</span><span class="sxs-lookup"><span data-stu-id="b35b8-670">Occurs when an Update button is clicked, but before the DetailsView control updates the record.</span></span> <span data-ttu-id="b35b8-671">此事件通常用於取消更新操作。</span><span class="sxs-lookup"><span data-stu-id="b35b8-671">This event is often used to cancel the update operation.</span></span> |
| <span data-ttu-id="b35b8-672">模式已變更</span><span class="sxs-lookup"><span data-stu-id="b35b8-672">ModeChanged</span></span> | <span data-ttu-id="b35b8-673">在「詳細資訊檢視」控制件更改模式(編輯、插入或唯讀模式)後發生。</span><span class="sxs-lookup"><span data-stu-id="b35b8-673">Occurs after the DetailsView control changes modes (edit, insert, or read-only mode).</span></span> <span data-ttu-id="b35b8-674">當"詳細資訊視圖"控制項更改模式時,此事件通常用於執行任務。</span><span class="sxs-lookup"><span data-stu-id="b35b8-674">This event is often used to perform a task when the DetailsView control changes modes.</span></span> |
| <span data-ttu-id="b35b8-675">模式變更</span><span class="sxs-lookup"><span data-stu-id="b35b8-675">ModeChanging</span></span> | <span data-ttu-id="b35b8-676">在「詳細資訊檢視」控制件更改模式(編輯、插入或唯讀模式)之前發生。</span><span class="sxs-lookup"><span data-stu-id="b35b8-676">Occurs before the DetailsView control changes modes (edit, insert, or read-only mode).</span></span> <span data-ttu-id="b35b8-677">此事件通常用於取消模式更改。</span><span class="sxs-lookup"><span data-stu-id="b35b8-677">This event is often used to cancel a mode change.</span></span> |
| <span data-ttu-id="b35b8-678">頁面索引已變更</span><span class="sxs-lookup"><span data-stu-id="b35b8-678">PageIndexChanged</span></span> | <span data-ttu-id="b35b8-679">按一下其中一個尋呼機按鈕,但在「詳細資訊檢視」控件處理分頁操作後發生。</span><span class="sxs-lookup"><span data-stu-id="b35b8-679">Occurs when one of the pager buttons is clicked, but after the DetailsView control handles the paging operation.</span></span> <span data-ttu-id="b35b8-680">當用戶導航到控制項中的不同記錄後需要執行任務時,通常使用此事件。</span><span class="sxs-lookup"><span data-stu-id="b35b8-680">This event is commonly used when you need to perform a task after the user navigates to a different record in the control.</span></span> |
| <span data-ttu-id="b35b8-681">頁面索引變更</span><span class="sxs-lookup"><span data-stu-id="b35b8-681">PageIndexChanging</span></span> | <span data-ttu-id="b35b8-682">按一下其中一個尋呼機按鈕,但在「詳細資訊檢視」控件處理分頁操作之前發生。</span><span class="sxs-lookup"><span data-stu-id="b35b8-682">Occurs when one of the pager buttons is clicked, but before the DetailsView control handles the paging operation.</span></span> <span data-ttu-id="b35b8-683">此事件通常用於取消分頁操作。</span><span class="sxs-lookup"><span data-stu-id="b35b8-683">This event is often used to cancel the paging operation.</span></span> |

## <a name="the-menu-control"></a><span data-ttu-id="b35b8-684">選單控制項</span><span class="sxs-lookup"><span data-stu-id="b35b8-684">The Menu Control</span></span>

<span data-ttu-id="b35b8-685">ASP.NET 2.0 中的功能表控件設計為功能齊全的導航系統。</span><span class="sxs-lookup"><span data-stu-id="b35b8-685">The Menu control in ASP.NET 2.0 is designed to be a full-featured navigation system.</span></span> <span data-ttu-id="b35b8-686">它可以輕鬆地將數據綁定到分層數據源(如 SiteMapDataSource)。</span><span class="sxs-lookup"><span data-stu-id="b35b8-686">It can be databound easily to hierarchical data sources such as the SiteMapDataSource.</span></span>

<span data-ttu-id="b35b8-687">功能表控制項結構可以聲明性或動態定義,由單個根節點和任意數量的子節點組成。</span><span class="sxs-lookup"><span data-stu-id="b35b8-687">A Menu controls structure can be defined declaratively or dynamically and consists of a single root node and any number of sub-nodes.</span></span> <span data-ttu-id="b35b8-688">以下代碼聲明性地定義了功能表控件的功能表。</span><span class="sxs-lookup"><span data-stu-id="b35b8-688">The following code declaratively defines a menu for the Menu control.</span></span>

[!code-aspx[Main](data-bound-controls/samples/sample4.aspx)]

<span data-ttu-id="b35b8-689">在上面的示例中,Home.aspx 節點是根節點。</span><span class="sxs-lookup"><span data-stu-id="b35b8-689">In the above example, the Home.aspx node is the root node.</span></span> <span data-ttu-id="b35b8-690">所有其他節點都嵌套在不同級別的根節點中。</span><span class="sxs-lookup"><span data-stu-id="b35b8-690">All other nodes are nested within the root node at various levels.</span></span>

<span data-ttu-id="b35b8-691">功能表控制項可以呈現兩種類型的功能表;靜態功能表和動態功能表。</span><span class="sxs-lookup"><span data-stu-id="b35b8-691">There are two types of menus that the Menu control can render; static menus and dynamic menus.</span></span> <span data-ttu-id="b35b8-692">靜態功能表由始終可見的菜單項組成。</span><span class="sxs-lookup"><span data-stu-id="b35b8-692">Static menus consist of menu items that are always visible.</span></span> <span data-ttu-id="b35b8-693">動態功能表由功能表項組成,這些功能表僅在使用者用滑鼠懸停在功能表項上時才可見。</span><span class="sxs-lookup"><span data-stu-id="b35b8-693">Dynamic menus consist of menu items that are only visible when the user hovers over them with the mouse.</span></span> <span data-ttu-id="b35b8-694">客戶可能會經常將靜態功能表與聲明性功能表和動態功能表與運行時數據綁定的菜單混淆。</span><span class="sxs-lookup"><span data-stu-id="b35b8-694">Customers may often confuse static menus with menus defined declaratively and dynamic menus with menus that are databound at runtime.</span></span> <span data-ttu-id="b35b8-695">事實上,動態功能表和靜態功能表與總體方法無關。</span><span class="sxs-lookup"><span data-stu-id="b35b8-695">In fact, dynamic and static menus are unrelated to the method of population.</span></span> <span data-ttu-id="b35b8-696">術語*靜態*和*動態*僅指默認情況下功能表是靜態顯示還是僅在使用者執行某些操作時顯示。</span><span class="sxs-lookup"><span data-stu-id="b35b8-696">The terms *static* and *dynamic* refer only to whether or not the menu is statically displayed by default or only displayed when the user takes some action.</span></span>

<span data-ttu-id="b35b8-697">**StaticDisplayLevels 屬性**用於配置功能表的級別是靜態的,因此默認情況下顯示。</span><span class="sxs-lookup"><span data-stu-id="b35b8-697">The **StaticDisplayLevels** property is used to configure how many levels of the menu are static and therefore displayed by default.</span></span> <span data-ttu-id="b35b8-698">在上面的示例中,將**StaticDisplayLevels**屬性設置為值 2 將導致菜單靜態顯示主節點、音樂節點和影片節點。</span><span class="sxs-lookup"><span data-stu-id="b35b8-698">In the above example, setting the **StaticDisplayLevels** property to a value of 2 would cause the menu to statically display the Home node, the Music node, and the Movies node.</span></span> <span data-ttu-id="b35b8-699">當使用者懸停在父節點上時,將動態顯示所有其他節點。</span><span class="sxs-lookup"><span data-stu-id="b35b8-699">All other nodes would be dynamically displayed when the user hovers over the parent node.</span></span>

<span data-ttu-id="b35b8-700">**"最大動態顯示等級屬性**配置選單能夠顯示的最大動態等級數。</span><span class="sxs-lookup"><span data-stu-id="b35b8-700">The **MaximumDynamicDisplayLevels** property configures the maximum number of dynamic levels the menu is capable of displaying.</span></span> <span data-ttu-id="b35b8-701">任何級別高於**最大動態顯示級別**屬性指定的值的動態功能表都會被丟棄。</span><span class="sxs-lookup"><span data-stu-id="b35b8-701">Any dynamic menus at a level higher than the value specified by the **MaximumDynamicDisplayLevels** property are discarded.</span></span>

> [!NOTE]
> <span data-ttu-id="b35b8-702">幾乎可以肯定的是,由於「最大動態顯示級別」屬性,您可能會遇到菜單未顯示的情況。</span><span class="sxs-lookup"><span data-stu-id="b35b8-702">It is almost certain that you might encounter situations where menus don't appear to render due to the MaximumDynamicDisplayLevels property.</span></span> <span data-ttu-id="b35b8-703">在這些情況下,請確保屬性設置得足夠,以便顯示客戶功能表。</span><span class="sxs-lookup"><span data-stu-id="b35b8-703">In those cases, ensure that the property is set sufficiently to allow for the display of the customers menus.</span></span>

## <a name="data-binding-the-menu-control"></a><span data-ttu-id="b35b8-704">資料繫結單控制項</span><span class="sxs-lookup"><span data-stu-id="b35b8-704">Data Binding the Menu Control</span></span>

<span data-ttu-id="b35b8-705">功能表控制項可以綁定到任何分層資料來源,如 SiteMapDataSource 或 XMLDataSource。</span><span class="sxs-lookup"><span data-stu-id="b35b8-705">The Menu control can be bound to any hierarchical data source such as the SiteMapDataSource or the XMLDataSource.</span></span> <span data-ttu-id="b35b8-706">SiteMapDataSource 是將數據綁定到功能表控件最常用的方法,因為它從 Web.sitemap 檔及其架構中饋送到功能表控件的已知 API。</span><span class="sxs-lookup"><span data-stu-id="b35b8-706">The SiteMapDataSource is the most commonly used method for data binding to a Menu control because it feeds off of the Web.sitemap file and its schema provides a known API to the Menu control.</span></span> <span data-ttu-id="b35b8-707">下面的清單顯示了一個簡單的 Web.sitemap 檔。</span><span class="sxs-lookup"><span data-stu-id="b35b8-707">The listing below shows a simple Web.sitemap file.</span></span>

[!code-xml[Main](data-bound-controls/samples/sample5.xml)]

<span data-ttu-id="b35b8-708">請注意,只有一個根網站MapNode元素,在這種情況下,是Home元素。</span><span class="sxs-lookup"><span data-stu-id="b35b8-708">Notice that there is only one root siteMapNode element, in this case, the Home element.</span></span> <span data-ttu-id="b35b8-709">可以為每個網站 MapNode 配置多個屬性。</span><span class="sxs-lookup"><span data-stu-id="b35b8-709">Several attributes can be configured for each siteMapNode.</span></span> <span data-ttu-id="b35b8-710">最常用的屬性是:</span><span class="sxs-lookup"><span data-stu-id="b35b8-710">The most commonly used attributes are:</span></span>

- <span data-ttu-id="b35b8-711">**url**指定使用者按一下選單項時要顯示的網址。</span><span class="sxs-lookup"><span data-stu-id="b35b8-711">**url** Specifies the URL to display when a user clicks the menu item.</span></span> <span data-ttu-id="b35b8-712">如果此屬性不存在,則節點在單擊時將僅重新發佈。</span><span class="sxs-lookup"><span data-stu-id="b35b8-712">If this attribute is not present, the node will simply post back when clicked.</span></span>
- <span data-ttu-id="b35b8-713">**標題**指定選單項目顯示的文字。</span><span class="sxs-lookup"><span data-stu-id="b35b8-713">**title** Specifies the text that is displayed on the menu item.</span></span>
- <span data-ttu-id="b35b8-714">**描述**用作節點的文檔。</span><span class="sxs-lookup"><span data-stu-id="b35b8-714">**description** Used as documentation for the node.</span></span> <span data-ttu-id="b35b8-715">當滑鼠懸停在節點上時,也會顯示為工具提示。</span><span class="sxs-lookup"><span data-stu-id="b35b8-715">Also displays as a tool tip when the mouse is hovered over the node.</span></span>
- <span data-ttu-id="b35b8-716">**網站地圖檔案**允許嵌套網站地圖。</span><span class="sxs-lookup"><span data-stu-id="b35b8-716">**siteMapFile** Allows for nested sitemaps.</span></span> <span data-ttu-id="b35b8-717">此屬性必須指向格式良好的ASP.NET網站地圖檔。</span><span class="sxs-lookup"><span data-stu-id="b35b8-717">This attribute must point to a well-formed ASP.NET sitemap file.</span></span>
- <span data-ttu-id="b35b8-718">**角色**允許由ASP.NET安全修整控制節點的外觀。</span><span class="sxs-lookup"><span data-stu-id="b35b8-718">**roles** Allows for the appearance of a node to be controlled by ASP.NET security trimming.</span></span>

<span data-ttu-id="b35b8-719">請注意,雖然這些屬性都是可選的,但如果未指定菜單,則功能表的行為可能不是預期。</span><span class="sxs-lookup"><span data-stu-id="b35b8-719">Note that while these attributes are all optional, the behavior of the menu may not be what is expected if they are not specified.</span></span> <span data-ttu-id="b35b8-720">例如,如果指定*了 URL*屬性,但*描述*屬性未指定,則節點將不可見,並且無法導航到指定的 URL。</span><span class="sxs-lookup"><span data-stu-id="b35b8-720">For example, if the *url* attribute is specified but the *description* attribute is not, the node will not be visible and there will be no way to navigate to the URL specified.</span></span>

## <a name="controlling-a-menus-operation"></a><span data-ttu-id="b35b8-721">控制選單操作</span><span class="sxs-lookup"><span data-stu-id="b35b8-721">Controlling a Menus Operation</span></span>

<span data-ttu-id="b35b8-722">有幾個屬性會影響ASP.NET菜單控件的操作;但是,有幾個屬性會影響菜單控件的操作。**方向**屬性 **、"消失後"** 屬性、**靜態專案格式字串 屬性**和**StaticPopoutImageUrl**屬性僅是其中的幾個屬性。</span><span class="sxs-lookup"><span data-stu-id="b35b8-722">There are several properties that affect the operation of an ASP.NET Menu control; the **Orientation** property, the **DisappearAfter** property, the **StaticItemFormatString** property, and the **StaticPopoutImageUrl** property are just a few of these.</span></span>

- <span data-ttu-id="b35b8-723">"**方向"** 可以設置為*水平*或*垂直*,並控制靜態功能表項是水準排列在一行中,還是垂直堆疊在一起。</span><span class="sxs-lookup"><span data-stu-id="b35b8-723">The **Orientation** can be set to either *horizontal* or *vertical* and controls whether static menu items are laid out horizontally in a row or vertically and stacked upon one another.</span></span> <span data-ttu-id="b35b8-724">此屬性不會影響動態功能表。</span><span class="sxs-lookup"><span data-stu-id="b35b8-724">This property does not affect dynamic menus.</span></span>
- <span data-ttu-id="b35b8-725">**"消失後"** 屬性配置動態功能表在滑鼠移離後應保持可見的時間。</span><span class="sxs-lookup"><span data-stu-id="b35b8-725">The **DisappearAfter** property configures how long a dynamic menu should remain visible after the mouse has been moved away from it.</span></span> <span data-ttu-id="b35b8-726">該值以毫秒為單位指定,預設值為 500。</span><span class="sxs-lookup"><span data-stu-id="b35b8-726">The value is specified in milliseconds and defaults to 500.</span></span> <span data-ttu-id="b35b8-727">將此屬性設置為 -1 的值將導致功能表永遠不會自動消失。</span><span class="sxs-lookup"><span data-stu-id="b35b8-727">Setting this property to a value of -1 will cause the menu to never disappear automatically.</span></span> <span data-ttu-id="b35b8-728">在這種情況下,功能表將僅在用戶單擊功能表外部時消失。</span><span class="sxs-lookup"><span data-stu-id="b35b8-728">In that case, the menu will only disappear when the user clicks outside of the menu.</span></span>
- <span data-ttu-id="b35b8-729">**StaticItemFormatString**屬性使功能表系統中維護一致措辭變得容易。</span><span class="sxs-lookup"><span data-stu-id="b35b8-729">The **StaticItemFormatString** property makes it easy to maintain consistent verbiage in your menu system.</span></span> <span data-ttu-id="b35b8-730">指定此屬性時,*{0}* 應輸入代替資料來源中顯示的說明。</span><span class="sxs-lookup"><span data-stu-id="b35b8-730">When specifying this property, *{0}* should be entered in place of the description that appears in the data source.</span></span> <span data-ttu-id="b35b8-731">例如,為了讓練習 1 中的功能表項「訪問我們的產品頁面」等,您需要指定「訪問{0}我們的頁面」以執行靜態專案格式字串。</span><span class="sxs-lookup"><span data-stu-id="b35b8-731">For example, in order to have the menu item from exercise 1 say Visit Our Products Page, etc., you would specify Visit Our {0} Page for the StaticItemFormatString.</span></span> <span data-ttu-id="b35b8-732">在運行時,ASP.NET將用功能表項的正確說明{0}替換的任何匹配項。</span><span class="sxs-lookup"><span data-stu-id="b35b8-732">At runtime, ASP.NET will replace any occurrence of {0} with the correct description for the menu item.</span></span>
- <span data-ttu-id="b35b8-733">**StaticPopoutImageUrl**屬性指定用於指示特定功能表節點具有可以通過懸停在該節點上訪問的子節點的圖像。</span><span class="sxs-lookup"><span data-stu-id="b35b8-733">The **StaticPopoutImageUrl** property specifies the image that is used to indicate that a particular menu node has child nodes that can be accessed by hovering over it.</span></span> <span data-ttu-id="b35b8-734">動態功能表將繼續使用預設影像。</span><span class="sxs-lookup"><span data-stu-id="b35b8-734">Dynamic menus will continue to use the default image.</span></span>

## <a name="templated-menu-controls"></a><span data-ttu-id="b35b8-735">樣本化選單控制項</span><span class="sxs-lookup"><span data-stu-id="b35b8-735">Templated Menu Controls</span></span>

<span data-ttu-id="b35b8-736">功能表控制項是範本化控制項,允許兩個不同的 ItemTemplate;靜態專案範本和動態專案範本。</span><span class="sxs-lookup"><span data-stu-id="b35b8-736">The Menu control is a templated control and allows for two different ItemTemplates; the StaticItemTemplate and the DynamicItemTemplate.</span></span> <span data-ttu-id="b35b8-737">使用這些範本,您可以輕鬆地將伺服器控制項或使用者控制項添加到菜單中。</span><span class="sxs-lookup"><span data-stu-id="b35b8-737">Using these templates, you can easily add server controls or user controls to your menus.</span></span>

<span data-ttu-id="b35b8-738">要編輯 Visual Studio .NET 中的範本,請單擊功能表上的「智慧標記」按鈕,然後選擇「編輯範本」。</span><span class="sxs-lookup"><span data-stu-id="b35b8-738">To edit the templates in Visual Studio .NET, click the Smart Tag button on the menu and either choose Edit Templates.</span></span> <span data-ttu-id="b35b8-739">然後,您可以選擇編輯靜態專案範本或動態專案範本。</span><span class="sxs-lookup"><span data-stu-id="b35b8-739">You can then choose between editing the StaticItemTemplate or the DynamicItemTemplate.</span></span>

<span data-ttu-id="b35b8-740">載入頁面時,添加到 StaticItemTemplate 的任何控制項都將顯示在靜態選單中。</span><span class="sxs-lookup"><span data-stu-id="b35b8-740">Any controls added to the StaticItemTemplate will appear in the static menu when the page loads.</span></span> <span data-ttu-id="b35b8-741">添加到動態項目範本的任何控制項都將顯示在所有彈出式功能表上。</span><span class="sxs-lookup"><span data-stu-id="b35b8-741">Any controls added to the DynamicItemTemplate will appear on all pop-up menus.</span></span>

## <a name="menu-events"></a><span data-ttu-id="b35b8-742">選單事件</span><span class="sxs-lookup"><span data-stu-id="b35b8-742">Menu Events</span></span>

<span data-ttu-id="b35b8-743">"功能表"控制項有兩個對此獨有的事件;**功能表專案已單擊**和**功能表項數據綁定**事件。</span><span class="sxs-lookup"><span data-stu-id="b35b8-743">The Menu control has two events that are unique to it; the **MenuItemClicked** and the **MenuItemDatabound** event.</span></span>

<span data-ttu-id="b35b8-744">單擊功能表項時,將引發"功能表項目單擊"事件。</span><span class="sxs-lookup"><span data-stu-id="b35b8-744">The MenuItemClicked event is raised when a menu item is clicked.</span></span> <span data-ttu-id="b35b8-745">當功能表項資料綁定時,將引發 MenuItemData 綁定事件。</span><span class="sxs-lookup"><span data-stu-id="b35b8-745">The MenuItemDatabound event is raised when a menu item is databound.</span></span> <span data-ttu-id="b35b8-746">傳遞到事件處理程式的**MenuEventArgs**通過 Item 屬性提供對功能表項的訪問。</span><span class="sxs-lookup"><span data-stu-id="b35b8-746">The **MenuEventArgs** that is passed to the event handler provides access to the menu item via the Item property.</span></span>

## <a name="controlling-a-menus-appearance"></a><span data-ttu-id="b35b8-747">控制選單外觀</span><span class="sxs-lookup"><span data-stu-id="b35b8-747">Controlling a Menus Appearance</span></span>

<span data-ttu-id="b35b8-748">您還可以使用可用於設置功能表格式的許多樣式中的一種或多種樣式來影響功能表控制件的外觀。</span><span class="sxs-lookup"><span data-stu-id="b35b8-748">You can also affect the appearance of a menu control using one or more of the many styles available to format menus.</span></span> <span data-ttu-id="b35b8-749">其中包括**靜態選單樣式**、**動態選單樣式**、**動態選單樣式**、**動態選擇樣式**與**動態懸停樣式**。</span><span class="sxs-lookup"><span data-stu-id="b35b8-749">Among these are **StaticMenuStyle**, **DynamicMenuStyle**, **DynamicMenuItemStyle**, **DynamicSelectedStyle**, and **DynamicHoverStyle**.</span></span> <span data-ttu-id="b35b8-750">這些屬性使用標準 HTML 樣式字串進行配置。</span><span class="sxs-lookup"><span data-stu-id="b35b8-750">These properties are configured using a standard HTML Style string.</span></span> <span data-ttu-id="b35b8-751">例如,以下內容將影響動態功能表的樣式。</span><span class="sxs-lookup"><span data-stu-id="b35b8-751">For example, the following will affect the style for dynamic menus.</span></span>

[!code-aspx[Main](data-bound-controls/samples/sample6.aspx)]

> [!NOTE]
> <span data-ttu-id="b35b8-752">如果使用任何懸停樣式,則需要在頁面中&lt;新增&gt;頭 元素,其中*runat*元素設定為*伺服器*。</span><span class="sxs-lookup"><span data-stu-id="b35b8-752">If you are using any of the Hover styles, you will need to add a &lt;head&gt; element in to the page with the *runat* element set to *server*.</span></span>

<span data-ttu-id="b35b8-753">功能表控件還支援使用ASP.NET 2.0 主題。</span><span class="sxs-lookup"><span data-stu-id="b35b8-753">Menu controls also support the use of ASP.NET 2.0 themes.</span></span>

## <a name="the-treeview-control"></a><span data-ttu-id="b35b8-754">樹狀圖控制項</span><span class="sxs-lookup"><span data-stu-id="b35b8-754">The TreeView Control</span></span>

<span data-ttu-id="b35b8-755">TreeView 控件在樹狀結構中顯示數據。</span><span class="sxs-lookup"><span data-stu-id="b35b8-755">The TreeView control displays data in a tree-like structure.</span></span> <span data-ttu-id="b35b8-756">與功能表控制項一樣,它可以輕鬆地綁定到任何分層資料來源(如 SiteMapDataSource)的數據。</span><span class="sxs-lookup"><span data-stu-id="b35b8-756">As with the Menu control, it can be easily data bound to any hierarchical data source such as the SiteMapDataSource.</span></span>

<span data-ttu-id="b35b8-757">客戶可能會詢問ASP.NET 2.0 中的 TreeView 控件的第一個問題是,該控件是否與可用於 ASP.NET 1.x 的 TreeView IE WebControl 相關。</span><span class="sxs-lookup"><span data-stu-id="b35b8-757">The first question that customers are likely to ask about the TreeView control in ASP.NET 2.0 is whether or not it is related to the TreeView IE WebControl that was available for ASP.NET 1.x.</span></span> <span data-ttu-id="b35b8-758">不是。</span><span class="sxs-lookup"><span data-stu-id="b35b8-758">It is not.</span></span> <span data-ttu-id="b35b8-759">ASP.NET 2.0 TreeView 控件是從零開始編寫的,與之前可用的 IE TreeView WebControl 提供了顯著改進。</span><span class="sxs-lookup"><span data-stu-id="b35b8-759">The ASP.NET 2.0 TreeView control was written from the ground up and offers significant improvement over the IE TreeView WebControl that was previously available.</span></span>

<span data-ttu-id="b35b8-760">我不會詳細介紹如何將 TreeView 控件綁定到網站地圖,因為它的執行方式與「功能表」控件完全相同。</span><span class="sxs-lookup"><span data-stu-id="b35b8-760">I won't go into detail on how to bind a TreeView control to a site map as it is performed in exactly the same way as the Menu control.</span></span> <span data-ttu-id="b35b8-761">但是,TreeView 控件在操作方式上存在一些明顯差異。</span><span class="sxs-lookup"><span data-stu-id="b35b8-761">However, the TreeView control has some distinct differences in the way that it operates.</span></span>

<span data-ttu-id="b35b8-762">默認情況下,TreeView控件顯示為完全展開。</span><span class="sxs-lookup"><span data-stu-id="b35b8-762">By default, a TreeView control appears fully expanded.</span></span> <span data-ttu-id="b35b8-763">要更改初始載入時的擴展等級,請修改控制項的 **「展開深度**」屬性。</span><span class="sxs-lookup"><span data-stu-id="b35b8-763">To change the level of expansion upon initial load, modify the **ExpandDepth** property of the control.</span></span> <span data-ttu-id="b35b8-764">這在 TreeView 在擴展特定節點時的數據綁定的情況下尤其重要。</span><span class="sxs-lookup"><span data-stu-id="b35b8-764">This is particularly important in cases where the TreeView is databound upon expanding particular nodes.</span></span>

## <a name="databinding-the-treeview-control"></a><span data-ttu-id="b35b8-765">資料繫結檔檢視控制項</span><span class="sxs-lookup"><span data-stu-id="b35b8-765">DataBinding the TreeView Control</span></span>

<span data-ttu-id="b35b8-766">與「功能表」控件不同,TreeView 非常適合處理大量數據。</span><span class="sxs-lookup"><span data-stu-id="b35b8-766">Unlike the Menu control, the TreeView lends itself well to handling large amounts of data.</span></span> <span data-ttu-id="b35b8-767">因此,除了與 SiteMapDataSource 或 XMLDataSource 的數據綁定外,TreeView 通常是綁定到 DataSet 或其他關係數據的數據。</span><span class="sxs-lookup"><span data-stu-id="b35b8-767">Therefore, in addition to databinding to a SiteMapDataSource or XMLDataSource, the TreeView is often data bound to a DataSet or other relational data.</span></span> <span data-ttu-id="b35b8-768">如果 TreeView 控件綁定到大量數據,則最好僅綁定到控件中實際可見的數據。</span><span class="sxs-lookup"><span data-stu-id="b35b8-768">In cases where the TreeView control is bound to large amounts of data, it is best to bind only to data that is actually visible in the control.</span></span> <span data-ttu-id="b35b8-769">然後,當 TreeView 節點展開時,可以將數據綁定到其他數據。</span><span class="sxs-lookup"><span data-stu-id="b35b8-769">You can then data bind to additional data as TreeView nodes are expanded.</span></span>

<span data-ttu-id="b35b8-770">在這些情況下,樹狀圖的**填充 OnDemand**屬性應設定為*true*。</span><span class="sxs-lookup"><span data-stu-id="b35b8-770">In these cases, the **PopulateOnDemand** property of the TreeView should be set to *true*.</span></span> <span data-ttu-id="b35b8-771">然後,您需要為**TreeNode 填充**方法提供實現。</span><span class="sxs-lookup"><span data-stu-id="b35b8-771">You will then need to provide an implementation for the **TreeNodePopulate** method.</span></span>

## <a name="data-binding-without-postback"></a><span data-ttu-id="b35b8-772">數據繫結,無需回郵</span><span class="sxs-lookup"><span data-stu-id="b35b8-772">Data Binding Without PostBack</span></span>

<span data-ttu-id="b35b8-773">請注意,當您首次展開上一個示例中的節點時,頁面會重新發佈並刷新。</span><span class="sxs-lookup"><span data-stu-id="b35b8-773">Notice that when you expand a node in the previous example for the first time, the page posts back and refreshes.</span></span> <span data-ttu-id="b35b8-774">在此示例中,這不是問題,但可以想像它可能位於具有大量數據的生產環境中。</span><span class="sxs-lookup"><span data-stu-id="b35b8-774">Thats not a problem in this example, but you can imagine that it might be in a production environment with a large amount of data.</span></span> <span data-ttu-id="b35b8-775">更好的方案是 TreeView 仍將動態填充其節點,但不會回伺服器。</span><span class="sxs-lookup"><span data-stu-id="b35b8-775">A better scenario would be one in which the TreeView would still dynamically populate its nodes, but without a post back to the server.</span></span>

<span data-ttu-id="b35b8-776">通過將 **「填充NodesFromClient」** 和 **「填充OnDemand」** 屬性設定為 true,ASP.NET TreeView 控件將動態填充節點,而無需回帖。</span><span class="sxs-lookup"><span data-stu-id="b35b8-776">By setting the **PopulateNodesFromClient** and the **PopulateOnDemand** properties to true, the ASP.NET TreeView control will dynamically populate nodes without a post back.</span></span> <span data-ttu-id="b35b8-777">擴展父節點時,將從用戶端發出 XMLHttp 請求,並觸發 OnTreeNode 填充事件。</span><span class="sxs-lookup"><span data-stu-id="b35b8-777">When the parent node is expanded, an XMLHttp request is made from the client and the OnTreeNodePopulate event is fired.</span></span> <span data-ttu-id="b35b8-778">伺服器使用 XML 數據孤島進行回應,然後用於數據綁定子節點。</span><span class="sxs-lookup"><span data-stu-id="b35b8-778">The server responds with an XML data island which is then used to data bind the child nodes.</span></span>

<span data-ttu-id="b35b8-779">ASP.NET動態創建實現此功能的用戶端代碼。</span><span class="sxs-lookup"><span data-stu-id="b35b8-779">ASP.NET dynamically creates the client code that implements this functionality.</span></span> <span data-ttu-id="b35b8-780">包含&lt;文&gt;稿 的文稿標記將生成指向 AXD 檔。</span><span class="sxs-lookup"><span data-stu-id="b35b8-780">The &lt;script&gt; tags that contain the script are generated pointing to an AXD file.</span></span> <span data-ttu-id="b35b8-781">例如,下面的清單顯示了生成 XMLHttp 請求的文本代碼的腳本連結。</span><span class="sxs-lookup"><span data-stu-id="b35b8-781">For example, the listing below shows the script links for the script code that generates the XMLHttp request.</span></span>

[!code-html[Main](data-bound-controls/samples/sample7.html)]

<span data-ttu-id="b35b8-782">如果您在瀏覽器中流覽上面的 AXD 檔並打開該檔案,您將看到實現 XMLHttp 請求的代碼。</span><span class="sxs-lookup"><span data-stu-id="b35b8-782">If you browse the AXD file above in your browser and open it, you will see the code that implements the XMLHttp request.</span></span> <span data-ttu-id="b35b8-783">此方法可防止客戶修改文本檔。</span><span class="sxs-lookup"><span data-stu-id="b35b8-783">This method prevents customers from modifying the script file.</span></span>

## <a name="controlling-the-operation-of-the-treeview-control"></a><span data-ttu-id="b35b8-784">控制樹檢視控制元件的操作</span><span class="sxs-lookup"><span data-stu-id="b35b8-784">Controlling the Operation of the TreeView Control</span></span>

<span data-ttu-id="b35b8-785">TreeView 控件具有影響控制項操作的幾個屬性。</span><span class="sxs-lookup"><span data-stu-id="b35b8-785">The TreeView control has several properties that affect the operation of the control.</span></span> <span data-ttu-id="b35b8-786">最明顯的屬性是 **「顯示檢查框\*\*\*\*」、「顯示展開摺疊」** 和「**顯示線**」。</span><span class="sxs-lookup"><span data-stu-id="b35b8-786">The most obvious properties are the **ShowCheckBoxes**, **ShowExpandCollapse**, and **ShowLines**.</span></span>

<span data-ttu-id="b35b8-787">**"ShowCheckBox"** 屬性會影響節點在渲染時是否顯示複選框。</span><span class="sxs-lookup"><span data-stu-id="b35b8-787">The **ShowCheckBoxes** property affects whether or not nodes display a check box when rendered.</span></span> <span data-ttu-id="b35b8-788">此屬性的有效值為 **"無**"、"**根**"、"**父**"、"**葉**"和"**全部**"。</span><span class="sxs-lookup"><span data-stu-id="b35b8-788">The valid values for this property are **None**, **Root**, **Parent**, **Leaf**, and **All**.</span></span> <span data-ttu-id="b35b8-789">這些影響樹檢視控制件如下所示:</span><span class="sxs-lookup"><span data-stu-id="b35b8-789">These affect the TreeView control as follows:</span></span>

| <span data-ttu-id="b35b8-790">**屬性值**</span><span class="sxs-lookup"><span data-stu-id="b35b8-790">**Property Value**</span></span> | <span data-ttu-id="b35b8-791">**效果**</span><span class="sxs-lookup"><span data-stu-id="b35b8-791">**Effect**</span></span> |
| --- | --- |
| <span data-ttu-id="b35b8-792">None</span><span class="sxs-lookup"><span data-stu-id="b35b8-792">None</span></span> | <span data-ttu-id="b35b8-793">複選框不顯示在任何節點上。</span><span class="sxs-lookup"><span data-stu-id="b35b8-793">Checkboxes are not displayed on any nodes.</span></span> <span data-ttu-id="b35b8-794">這是預設值。</span><span class="sxs-lookup"><span data-stu-id="b35b8-794">This is the default setting.</span></span> |
| <span data-ttu-id="b35b8-795">Root</span><span class="sxs-lookup"><span data-stu-id="b35b8-795">Root</span></span> | <span data-ttu-id="b35b8-796">複選框僅顯示在根節點上。</span><span class="sxs-lookup"><span data-stu-id="b35b8-796">A checkbox is only displayed on the root node.</span></span> |
| <span data-ttu-id="b35b8-797">父系</span><span class="sxs-lookup"><span data-stu-id="b35b8-797">Parent</span></span> | <span data-ttu-id="b35b8-798">複選框僅顯示在具有子節點的節點上。</span><span class="sxs-lookup"><span data-stu-id="b35b8-798">A checkbox is only displayed on those nodes that have child nodes.</span></span> <span data-ttu-id="b35b8-799">這些子節點可以是父節點或葉節點。</span><span class="sxs-lookup"><span data-stu-id="b35b8-799">Those child nodes can be parent nodes or leaf nodes.</span></span> |
| <span data-ttu-id="b35b8-800">分葉</span><span class="sxs-lookup"><span data-stu-id="b35b8-800">Leaf</span></span> | <span data-ttu-id="b35b8-801">複選框僅顯示在沒有子節點的節點上。</span><span class="sxs-lookup"><span data-stu-id="b35b8-801">A checkbox is displayed only on those nodes that have no child nodes.</span></span> |
| <span data-ttu-id="b35b8-802">全部</span><span class="sxs-lookup"><span data-stu-id="b35b8-802">All</span></span> | <span data-ttu-id="b35b8-803">所有節點上都顯示一個複選框。</span><span class="sxs-lookup"><span data-stu-id="b35b8-803">A checkbox is displayed on all nodes.</span></span> |

<span data-ttu-id="b35b8-804">使用複選框時 **,"CheckNodes"** 屬性將返回在回郵時檢查的 TreeView 節點的集合。</span><span class="sxs-lookup"><span data-stu-id="b35b8-804">When checkboxes are being used, the **CheckedNodes** property will return a collection of TreeView nodes that are checked upon postback.</span></span>

<span data-ttu-id="b35b8-805">**ShowExpandCollapse**屬性控制根節點和父節點旁邊的展開/摺疊圖像的外觀。</span><span class="sxs-lookup"><span data-stu-id="b35b8-805">The **ShowExpandCollapse** property controls the appearance of the expand/collapse image next to root and parent nodes.</span></span> <span data-ttu-id="b35b8-806">如果此屬性設置為**false,** 則 TreeView 節點將呈現為超連結,並通過按一下連結展開/摺疊。</span><span class="sxs-lookup"><span data-stu-id="b35b8-806">If this property is set to **false**, TreeView nodes are rendered as hyperlinks and are expanded/collapsed by clicking on the link.</span></span>

<span data-ttu-id="b35b8-807">**ShowLines**屬性控制是否顯示將父節點連接到子節點的線路。</span><span class="sxs-lookup"><span data-stu-id="b35b8-807">The **ShowLines** property controls whether or not lines are displayed connecting parent nodes to child nodes.</span></span> <span data-ttu-id="b35b8-808">當**false(** 預設值)時,不顯示任何行。</span><span class="sxs-lookup"><span data-stu-id="b35b8-808">When **false** (the default), no lines are displayed.</span></span> <span data-ttu-id="b35b8-809">**當為 true**時,TreeView 控制件將使用**LineImageFolder**屬性指定的資料夾中的線圖像。</span><span class="sxs-lookup"><span data-stu-id="b35b8-809">When **true**, the TreeView control will use lines images in the folder specified by the **LineImagesFolder** property.</span></span>

<span data-ttu-id="b35b8-810">要自定義 TreeView 線條的外觀,Visual Studio .NET 2005 包括一個線設計器工具。</span><span class="sxs-lookup"><span data-stu-id="b35b8-810">To customize the appearance of TreeView lines, Visual Studio .NET 2005 includes a Line Designer tool.</span></span> <span data-ttu-id="b35b8-811">您可以使用「樹檢視」控制件上的「智慧標記」按鈕存取此工具,如下所示。</span><span class="sxs-lookup"><span data-stu-id="b35b8-811">You can access this tool using the Smart Tag button on the TreeView control as below.</span></span>

![](data-bound-controls/_static/image1.jpg)

<span data-ttu-id="b35b8-812">**圖 1**</span><span class="sxs-lookup"><span data-stu-id="b35b8-812">**Figure 1**</span></span>

<span data-ttu-id="b35b8-813">選擇 **「自訂線圖像」** 選單選項時,將啟動「線設計器」工具,以允許您設定 TreeView 線的外觀。</span><span class="sxs-lookup"><span data-stu-id="b35b8-813">When select the **Customize Line Images** menu option, the Line Designer tool will be launched allowing you to configure the appearance of TreeView lines.</span></span>

## <a name="treeview-events"></a><span data-ttu-id="b35b8-814">樹狀圖事件</span><span class="sxs-lookup"><span data-stu-id="b35b8-814">TreeView Events</span></span>

<span data-ttu-id="b35b8-815">TreeView 控制件具有以下唯一事件:</span><span class="sxs-lookup"><span data-stu-id="b35b8-815">The TreeView control has the following unique events:</span></span>

- <span data-ttu-id="b35b8-816">當根據 **「選擇操作」** 屬性選擇節點時,將發生「選擇節點更改」。</span><span class="sxs-lookup"><span data-stu-id="b35b8-816">SelectedNodeChanged Occurs when a node is selected based upon the **SelectAction** property.</span></span>
- <span data-ttu-id="b35b8-817">更改節點複選框狀態時,將發生樹節點檢查更改。</span><span class="sxs-lookup"><span data-stu-id="b35b8-817">TreeNodeCheckChanged Occurs when a nodes checkboxs state is changed.</span></span>
- <span data-ttu-id="b35b8-818">當節點基於**SelectAction**屬性展開時,將發生樹節點擴展。</span><span class="sxs-lookup"><span data-stu-id="b35b8-818">TreeNodeExpanded Occurs when a node is expanded based upon the **SelectAction** property.</span></span>
- <span data-ttu-id="b35b8-819">當節點摺疊時,樹節點摺疊發生。</span><span class="sxs-lookup"><span data-stu-id="b35b8-819">TreeNodeCollapsed Occurs when a node is collapsed.</span></span>
- <span data-ttu-id="b35b8-820">當節點被數據綁定時,就會發生樹節點數據綁定。</span><span class="sxs-lookup"><span data-stu-id="b35b8-820">TreeNodeDataBound Occurs when a node is data bound.</span></span>
- <span data-ttu-id="b35b8-821">填充節點時發生樹節點填充。</span><span class="sxs-lookup"><span data-stu-id="b35b8-821">TreeNodePopulate Occurs when a node is populated.</span></span>

<span data-ttu-id="b35b8-822">**SelectAction**屬性允許您設定選擇節點時觸發的事件。</span><span class="sxs-lookup"><span data-stu-id="b35b8-822">The **SelectAction** property allows you to configure which event is fired when a node is selected.</span></span> <span data-ttu-id="b35b8-823">SelectAction 屬性提供以下操作:</span><span class="sxs-lookup"><span data-stu-id="b35b8-823">The SelectAction property provides the following actions:</span></span>

- <span data-ttu-id="b35b8-824">樹節點選擇操作.在選擇節點時展開引發樹節點展開。</span><span class="sxs-lookup"><span data-stu-id="b35b8-824">TreeNodeSelectAction.Expand Raises TreeNodeExpanded when the node is selected.</span></span>
- <span data-ttu-id="b35b8-825">樹節點選擇操作.當節點被選中時,不引發任何事件。</span><span class="sxs-lookup"><span data-stu-id="b35b8-825">TreeNodeSelectAction.None Raises no event when the node is selected.</span></span>
- <span data-ttu-id="b35b8-826">樹節點選擇操作.選擇在選擇節點時引發"選定節點更改"事件。</span><span class="sxs-lookup"><span data-stu-id="b35b8-826">TreeNodeSelectAction.Select Raises the SelectedNodeChanged event when the node is selected.</span></span>
- <span data-ttu-id="b35b8-827">樹節點選擇操作.選擇展開在選擇節點時同時引發"選定節點更改"事件和樹節點展開事件。</span><span class="sxs-lookup"><span data-stu-id="b35b8-827">TreeNodeSelectAction.SelectExpand Raises both the SelectedNodeChanged event and the TreeNodeExpanded event when the node is selected.</span></span>

## <a name="controlling-appearance-with-styles"></a><span data-ttu-id="b35b8-828">使用樣式控制外觀</span><span class="sxs-lookup"><span data-stu-id="b35b8-828">Controlling Appearance with Styles</span></span>

<span data-ttu-id="b35b8-829">TreeView 控件提供了許多屬性,用於使用樣式控制控制件的外觀。</span><span class="sxs-lookup"><span data-stu-id="b35b8-829">The TreeView control provides many properties for controlling the appearance of the control with styles.</span></span> <span data-ttu-id="b35b8-830">有下列屬性可供使用。</span><span class="sxs-lookup"><span data-stu-id="b35b8-830">The following properties are available.</span></span>

| <span data-ttu-id="b35b8-831">**屬性名稱**</span><span class="sxs-lookup"><span data-stu-id="b35b8-831">**Property Name**</span></span> | <span data-ttu-id="b35b8-832">**控制項**</span><span class="sxs-lookup"><span data-stu-id="b35b8-832">**Controls**</span></span> |
| --- | --- |
| <span data-ttu-id="b35b8-833">暫停節點樣式</span><span class="sxs-lookup"><span data-stu-id="b35b8-833">HoverNodeStyle</span></span> | <span data-ttu-id="b35b8-834">當滑鼠懸停在節點上時,控制節點的樣式。</span><span class="sxs-lookup"><span data-stu-id="b35b8-834">Controls the style of nodes when the mouse is hovered over them.</span></span> |
| <span data-ttu-id="b35b8-835">葉節點樣式</span><span class="sxs-lookup"><span data-stu-id="b35b8-835">LeafNodeStyle</span></span> | <span data-ttu-id="b35b8-836">控制葉節點的樣式。</span><span class="sxs-lookup"><span data-stu-id="b35b8-836">Controls the style of leaf nodes.</span></span> |
| <span data-ttu-id="b35b8-837">節點樣式</span><span class="sxs-lookup"><span data-stu-id="b35b8-837">NodeStyle</span></span> | <span data-ttu-id="b35b8-838">控制所有節點的樣式。</span><span class="sxs-lookup"><span data-stu-id="b35b8-838">Controls the style for all nodes.</span></span> <span data-ttu-id="b35b8-839">特定節點樣式(如 LeafNodeStyle)覆蓋此樣式。</span><span class="sxs-lookup"><span data-stu-id="b35b8-839">Specific node styles (such as LeafNodeStyle) override this style.</span></span> |
| <span data-ttu-id="b35b8-840">父節點樣式</span><span class="sxs-lookup"><span data-stu-id="b35b8-840">ParentNodeStyle</span></span> | <span data-ttu-id="b35b8-841">控制所有父節點的樣式。</span><span class="sxs-lookup"><span data-stu-id="b35b8-841">Controls the style for all parent nodes.</span></span> |
| <span data-ttu-id="b35b8-842">根節點樣式</span><span class="sxs-lookup"><span data-stu-id="b35b8-842">RootNodeStyle</span></span> | <span data-ttu-id="b35b8-843">控制根節點的樣式。</span><span class="sxs-lookup"><span data-stu-id="b35b8-843">Controls the style for the root node.</span></span> |
| <span data-ttu-id="b35b8-844">選擇的節點樣式</span><span class="sxs-lookup"><span data-stu-id="b35b8-844">SelectedNodeStyle</span></span> | <span data-ttu-id="b35b8-845">控制所選節點的樣式。</span><span class="sxs-lookup"><span data-stu-id="b35b8-845">Controls the style for the selected node.</span></span> |

<span data-ttu-id="b35b8-846">每個屬性都是唯讀的。</span><span class="sxs-lookup"><span data-stu-id="b35b8-846">Each of these properties is read-only.</span></span> <span data-ttu-id="b35b8-847">但是,它們各自將返回一個**TreeNodeStyle**物件,並且可以使用*屬性子屬性*格式修改該物件的屬性。</span><span class="sxs-lookup"><span data-stu-id="b35b8-847">However, they will each return a **TreeNodeStyle** object, and the properties of that object can be modified using the *property-subproperty* format.</span></span> <span data-ttu-id="b35b8-848">例如,要設置 **「選定NodeStyle」** 的**ForeColor**屬性,請使用以下語法:</span><span class="sxs-lookup"><span data-stu-id="b35b8-848">For example, to set the **ForeColor** property of the **SelectedNodeStyle**, you would use the following syntax:</span></span>

[!code-aspx[Main](data-bound-controls/samples/sample8.aspx)]

<span data-ttu-id="b35b8-849">請注意,上面的標記未關閉。</span><span class="sxs-lookup"><span data-stu-id="b35b8-849">Notice that the tag above is not closed.</span></span> <span data-ttu-id="b35b8-850">這是因為,當使用此處顯示的聲明性語法時,您也會在 HTML 代碼中包括 TreeViews 節點。</span><span class="sxs-lookup"><span data-stu-id="b35b8-850">That is because when using the declarative syntax shown here, you would include the TreeViews nodes in the HTML code as well.</span></span>

<span data-ttu-id="b35b8-851">樣式屬性也可以使用*屬性.subproperty*格式在代碼中指定。</span><span class="sxs-lookup"><span data-stu-id="b35b8-851">The style properties can also be specified in code using the *property.subproperty* format.</span></span> <span data-ttu-id="b35b8-852">例如,要在代碼中設定**RootNodeStyle**的**ForeColor**屬性,請使用以下文法:</span><span class="sxs-lookup"><span data-stu-id="b35b8-852">For example, to set the **ForeColor** property of the **RootNodeStyle** in code, you would use the following syntax:</span></span>

[!code-csharp[Main](data-bound-controls/samples/sample9.cs)]

> [!NOTE]
> <span data-ttu-id="b35b8-853">有關不同樣式屬性的完整清單,請參閱 TreeNodeStyle 物件上的 MSDN 文檔。</span><span class="sxs-lookup"><span data-stu-id="b35b8-853">For a comprehensive list of the different style properties, see the MSDN documentation on the TreeNodeStyle object.</span></span>

## <a name="the-sitemappath-control"></a><span data-ttu-id="b35b8-854">站台地圖路徑控制項</span><span class="sxs-lookup"><span data-stu-id="b35b8-854">The SiteMapPath Control</span></span>

<span data-ttu-id="b35b8-855">SiteMapPath 控制項為ASP.NET開發人員提供了麵包屑導航控件。</span><span class="sxs-lookup"><span data-stu-id="b35b8-855">The SiteMapPath control provides a bread crumb navigation control for ASP.NET developers.</span></span> <span data-ttu-id="b35b8-856">與其他導航控制項一樣,它可以輕鬆地綁定到分層資料來源(如 SiteMapDataSource 或 XmlDataSource)的數據。</span><span class="sxs-lookup"><span data-stu-id="b35b8-856">Like the other navigation controls, it can be easily data bound to hierarchical data sources such as the SiteMapDataSource or XmlDataSource.</span></span>

<span data-ttu-id="b35b8-857">網站地圖路徑控制件由網站映射節點項目物件組成。</span><span class="sxs-lookup"><span data-stu-id="b35b8-857">A SiteMapPath control is made up of SiteMapNodeItem objects.</span></span> <span data-ttu-id="b35b8-858">有三種類型的節點;根節點、父節點和當前節點。</span><span class="sxs-lookup"><span data-stu-id="b35b8-858">There are three types of nodes; the Root node, Parent nodes, and the Current node.</span></span> <span data-ttu-id="b35b8-859">根節點是層次結構頂部的節點。</span><span class="sxs-lookup"><span data-stu-id="b35b8-859">The root node is the node at the top of the hierarchical structure.</span></span> <span data-ttu-id="b35b8-860">當前節點表示當前頁面。</span><span class="sxs-lookup"><span data-stu-id="b35b8-860">The current node represents the current page.</span></span> <span data-ttu-id="b35b8-861">所有其他節點都是父節點。</span><span class="sxs-lookup"><span data-stu-id="b35b8-861">All other nodes are parent nodes.</span></span>

## <a name="controlling-the-operation-of-the-sitemappath-control"></a><span data-ttu-id="b35b8-862">控制站台地圖路徑控制項</span><span class="sxs-lookup"><span data-stu-id="b35b8-862">Controlling the Operation of the SiteMapPath Control</span></span>

<span data-ttu-id="b35b8-863">控制站台地圖路徑控制元件操作的屬性如下所示:</span><span class="sxs-lookup"><span data-stu-id="b35b8-863">The properties that control the operation of the SiteMapPath control are as follows:</span></span>

| <span data-ttu-id="b35b8-864">**屬性**</span><span class="sxs-lookup"><span data-stu-id="b35b8-864">**Property**</span></span> | <span data-ttu-id="b35b8-865">**財產描述**</span><span class="sxs-lookup"><span data-stu-id="b35b8-865">**Description of Property**</span></span> |
| --- | --- |
| <span data-ttu-id="b35b8-866">顯示父級</span><span class="sxs-lookup"><span data-stu-id="b35b8-866">ParentLevelsDisplayed</span></span> | <span data-ttu-id="b35b8-867">控制顯示的父節點數。</span><span class="sxs-lookup"><span data-stu-id="b35b8-867">Controls how many parent nodes are displayed.</span></span> <span data-ttu-id="b35b8-868">默認值為 -1,它對顯示的父節點數沒有限制。</span><span class="sxs-lookup"><span data-stu-id="b35b8-868">The default is -1 which imposes no restriction on the number of parent nodes displayed.</span></span> |
| <span data-ttu-id="b35b8-869">路徑方向</span><span class="sxs-lookup"><span data-stu-id="b35b8-869">PathDirection</span></span> | <span data-ttu-id="b35b8-870">控制網站地圖路徑的方向。</span><span class="sxs-lookup"><span data-stu-id="b35b8-870">Controls the direction of the SiteMapPath.</span></span> <span data-ttu-id="b35b8-871">有效值為「根到當前」(預設)和「當前到根」。</span><span class="sxs-lookup"><span data-stu-id="b35b8-871">Valid values are RootToCurrent (default) and CurrentToRoot.</span></span> |
| <span data-ttu-id="b35b8-872">路徑分離器</span><span class="sxs-lookup"><span data-stu-id="b35b8-872">PathSeparator</span></span> | <span data-ttu-id="b35b8-873">控制分隔站點地圖路徑控制項中節點的字元的字串。</span><span class="sxs-lookup"><span data-stu-id="b35b8-873">A String that controls the character that separates nodes in a SiteMapPath control.</span></span> <span data-ttu-id="b35b8-874">默認值為 :。</span><span class="sxs-lookup"><span data-stu-id="b35b8-874">The default value is :.</span></span> |
| <span data-ttu-id="b35b8-875">成成電流節點連結</span><span class="sxs-lookup"><span data-stu-id="b35b8-875">RenderCurrentNodeAsLink</span></span> | <span data-ttu-id="b35b8-876">控制當前節點是否呈現為連結的布爾值。</span><span class="sxs-lookup"><span data-stu-id="b35b8-876">A Boolean value that controls whether or not the current node is rendered as a link.</span></span> <span data-ttu-id="b35b8-877">預設值是 False。</span><span class="sxs-lookup"><span data-stu-id="b35b8-877">The default is False.</span></span> |
| <span data-ttu-id="b35b8-878">略過連結文字</span><span class="sxs-lookup"><span data-stu-id="b35b8-878">SkipLinkText</span></span> | <span data-ttu-id="b35b8-879">當螢幕閱讀器查看頁面時,有助於輔助訪問。</span><span class="sxs-lookup"><span data-stu-id="b35b8-879">Assists with accessibility when the page is viewed by screen readers.</span></span> <span data-ttu-id="b35b8-880">此屬性允許螢幕閱讀器跳過網站地圖路徑控制項。</span><span class="sxs-lookup"><span data-stu-id="b35b8-880">This property allows screen readers to skip the SiteMapPath control.</span></span> <span data-ttu-id="b35b8-881">要禁用此功能,請將屬性設置為 String.Empty。</span><span class="sxs-lookup"><span data-stu-id="b35b8-881">To disable this feature, set the property to String.Empty.</span></span> |

## <a name="templated-sitemappath-controls"></a><span data-ttu-id="b35b8-882">樣本化網站地圖路徑控制項</span><span class="sxs-lookup"><span data-stu-id="b35b8-882">Templated SiteMapPath Controls</span></span>

<span data-ttu-id="b35b8-883">SiteMapControl 是一個範本化控制項,因此,您可以定義不同的範本以用於顯示控制項。</span><span class="sxs-lookup"><span data-stu-id="b35b8-883">The SiteMapControl is a templated control, and as such, you can define different templates for use in displaying the control.</span></span> <span data-ttu-id="b35b8-884">要編輯 SiteMapPath 控制件中的範本,請單擊控制項上的「智慧標記」按鈕,並從菜單中選擇「編輯範本」。</span><span class="sxs-lookup"><span data-stu-id="b35b8-884">To edit templates in a SiteMapPath control, click the Smart Tag button on the control and choose Edit Templates from the menu.</span></span> <span data-ttu-id="b35b8-885">這將顯示 SiteMapTasks 選單,如下所示,您可以在其中選擇可用的不同範本。</span><span class="sxs-lookup"><span data-stu-id="b35b8-885">This displays the SiteMapTasks menu as shown below where you can choose between the different templates available.</span></span>

![](data-bound-controls/_static/image2.jpg)

<span data-ttu-id="b35b8-886">**圖 2**</span><span class="sxs-lookup"><span data-stu-id="b35b8-886">**Figure 2**</span></span>

<span data-ttu-id="b35b8-887">**節點範本**引用網站地圖路徑中的任何節點。</span><span class="sxs-lookup"><span data-stu-id="b35b8-887">The **NodeTemplate** template refers to any node in the SiteMapPath.</span></span> <span data-ttu-id="b35b8-888">如果節點是根節點或當前節點,並且配置了**RootNodeTemplate**或**CurrentNodeTemplate,** 則節點範本將被覆蓋。</span><span class="sxs-lookup"><span data-stu-id="b35b8-888">If the node is a root node or the current node and a **RootNodeTemplate** or **CurrentNodeTemplate** is configured, the NodeTemplate is overridden.</span></span>

## <a name="sitemappath-events"></a><span data-ttu-id="b35b8-889">站台地圖路徑事件</span><span class="sxs-lookup"><span data-stu-id="b35b8-889">SiteMapPath Events</span></span>

<span data-ttu-id="b35b8-890">SiteMapPath 控制項有兩個不是從控制項類派生的事件;另一個事件不是從控制項類派生的。**專案建立**事件和**專案數據綁定**事件。</span><span class="sxs-lookup"><span data-stu-id="b35b8-890">The SiteMapPath control has two events that are not derived from the Control class; the **ItemCreated** event and the **ItemDataBound** event.</span></span> <span data-ttu-id="b35b8-891">創建網站地圖路徑項時,將引發"項目創建"事件。</span><span class="sxs-lookup"><span data-stu-id="b35b8-891">The ItemCreated event is raised when a SiteMapPath item is created.</span></span> <span data-ttu-id="b35b8-892">在 SiteMapPath 節點的資料綁定期間調用 DataBind 方法時,將引發 ItemDataBound。</span><span class="sxs-lookup"><span data-stu-id="b35b8-892">ItemDataBound is raised when the DataBind method is called during the data binding of a SiteMapPath node.</span></span> <span data-ttu-id="b35b8-893">**網站映射NodeItemEventArgs**物件通過 Item 屬性提供對特定網站MapNodeItem的訪問。</span><span class="sxs-lookup"><span data-stu-id="b35b8-893">A **SiteMapNodeItemEventArgs** object provides access to the specific SiteMapNodeItem via the Item property.</span></span>

## <a name="controlling-appearance-with-styles"></a><span data-ttu-id="b35b8-894">使用樣式控制外觀</span><span class="sxs-lookup"><span data-stu-id="b35b8-894">Controlling Appearance with Styles</span></span>

<span data-ttu-id="b35b8-895">以下樣式可用於設置網站地圖路徑控制項的格式。</span><span class="sxs-lookup"><span data-stu-id="b35b8-895">The following styles are available for formatting of a SiteMapPath control.</span></span>

| <span data-ttu-id="b35b8-896">**屬性名稱**</span><span class="sxs-lookup"><span data-stu-id="b35b8-896">**Property Name**</span></span> | <span data-ttu-id="b35b8-897">**控制項**</span><span class="sxs-lookup"><span data-stu-id="b35b8-897">**Controls**</span></span> |
| --- | --- |
| <span data-ttu-id="b35b8-898">目前節點樣式</span><span class="sxs-lookup"><span data-stu-id="b35b8-898">CurrentNodeStyle</span></span> | <span data-ttu-id="b35b8-899">控制當前節點的文本樣式。</span><span class="sxs-lookup"><span data-stu-id="b35b8-899">Controls the style of the text for the current node.</span></span> |
| <span data-ttu-id="b35b8-900">根節點樣式</span><span class="sxs-lookup"><span data-stu-id="b35b8-900">RootNodeStyle</span></span> | <span data-ttu-id="b35b8-901">控制根節點的文本樣式。</span><span class="sxs-lookup"><span data-stu-id="b35b8-901">Controls the style of the text for the root node.</span></span> |
| <span data-ttu-id="b35b8-902">節點樣式</span><span class="sxs-lookup"><span data-stu-id="b35b8-902">NodeStyle</span></span> | <span data-ttu-id="b35b8-903">控制所有節點的文本樣式,前提是當前NodeStyle 或 RootNodeStyle 不適用。</span><span class="sxs-lookup"><span data-stu-id="b35b8-903">Controls the style of the text for all nodes assuming that a CurrentNodeStyle or RootNodeStyle doesnt apply.</span></span> |

<span data-ttu-id="b35b8-904">NodeStyle 屬性被當前節點樣式或 RootNodeStyle 覆蓋。</span><span class="sxs-lookup"><span data-stu-id="b35b8-904">The NodeStyle property is overridden by either the CurrentNodeStyle or the RootNodeStyle.</span></span> <span data-ttu-id="b35b8-905">每個屬性都是唯讀的,並傳回一個**Style**物件。</span><span class="sxs-lookup"><span data-stu-id="b35b8-905">Each of these properties is read-only and returns a **Style** object.</span></span> <span data-ttu-id="b35b8-906">要使用這些屬性之一影響節點的外觀,您需要設置返回的 Style 物件的屬性。</span><span class="sxs-lookup"><span data-stu-id="b35b8-906">To affect the appearance of a node using one of these properties, you will need to set the properties of the Style object that is returned.</span></span> <span data-ttu-id="b35b8-907">例如,下面的代碼更改當前節點的前色屬性。</span><span class="sxs-lookup"><span data-stu-id="b35b8-907">For example, the code below changes the forecolor property of the current node.</span></span>

[!code-aspx[Main](data-bound-controls/samples/sample10.aspx)]

<span data-ttu-id="b35b8-908">也可以按照如下方式以程式設計方式應用該屬性:</span><span class="sxs-lookup"><span data-stu-id="b35b8-908">The property can also be applied programmatically as follows:</span></span>

[!code-csharp[Main](data-bound-controls/samples/sample11.cs)]

> [!NOTE]
> <span data-ttu-id="b35b8-909">如果應用範本,將不會應用該樣式。</span><span class="sxs-lookup"><span data-stu-id="b35b8-909">If a template is applied, the style will not be applied.</span></span>

## <a name="lab-1-configuring-an-aspnet-menu-control"></a><span data-ttu-id="b35b8-910">實驗 1:設定ASP.NET選單控制項</span><span class="sxs-lookup"><span data-stu-id="b35b8-910">Lab 1: Configuring an ASP.NET Menu Control</span></span>

1. <span data-ttu-id="b35b8-911">建立新網站。</span><span class="sxs-lookup"><span data-stu-id="b35b8-911">Create a new Web site.</span></span>
2. <span data-ttu-id="b35b8-912">以從檔案範本清單中選擇「檔案、新建、檔案和選擇網站映射」來添加網站映射檔。</span><span class="sxs-lookup"><span data-stu-id="b35b8-912">Add a Site Map file by selecting File, New, File and choosing Site Map from the list of file templates.</span></span>
3. <span data-ttu-id="b35b8-913">打開網站地圖(預設情況下為 Web.sitemap),並對其進行修改,使其看起來像下面的清單。</span><span class="sxs-lookup"><span data-stu-id="b35b8-913">Open the site map (Web.sitemap by default) and modify it so that it looks like the listing below.</span></span> <span data-ttu-id="b35b8-914">在網站地圖檔中鏈接到的頁面實際上不存在,但這不是本練習的問題。</span><span class="sxs-lookup"><span data-stu-id="b35b8-914">The pages to which you are linking in the site map file do not really exist, but that will not be an issue for this exercise.</span></span>

    [!code-xml[Main](data-bound-controls/samples/sample12.xml)]
4. <span data-ttu-id="b35b8-915">在"設計"視圖中打開預設 Web 窗體。</span><span class="sxs-lookup"><span data-stu-id="b35b8-915">Open the default Web form in Design view.</span></span>
5. <span data-ttu-id="b35b8-916">從工具箱的導航部分,向頁面添加新的"功能表"控制件。</span><span class="sxs-lookup"><span data-stu-id="b35b8-916">From the Navigation section of the Toolbox, add a new Menu control to the page.</span></span>
6. <span data-ttu-id="b35b8-917">從工具箱的數據部分,添加新的 SiteMapDataSource。</span><span class="sxs-lookup"><span data-stu-id="b35b8-917">From the Data section of the Toolbox, add a new SiteMapDataSource.</span></span> <span data-ttu-id="b35b8-918">SiteMapDataSource 將自動使用網站中的 Web.sitemap 檔。</span><span class="sxs-lookup"><span data-stu-id="b35b8-918">The SiteMapDataSource will automatically use the Web.sitemap file in your site.</span></span> <span data-ttu-id="b35b8-919">(Web.sitemap 檔案*必須*位於網站的根資料夾中。</span><span class="sxs-lookup"><span data-stu-id="b35b8-919">(The Web.sitemap file *must* be in the root folder of the site.)</span></span>
7. <span data-ttu-id="b35b8-920">按下「功能表」控件,然後按下「智慧標記」按鈕以顯示「功能表任務」對話框。</span><span class="sxs-lookup"><span data-stu-id="b35b8-920">Click the Menu control and then click the Smart Tag button to display the Menu Tasks dialog.</span></span>
8. <span data-ttu-id="b35b8-921">在「選擇資料來源」下拉下拉清單,選擇 SiteMapDataSource1。</span><span class="sxs-lookup"><span data-stu-id="b35b8-921">In the Choose Data Source dropdown, select SiteMapDataSource1.</span></span>
9. <span data-ttu-id="b35b8-922">按下「自動格式」連結並選擇功能表的格式。</span><span class="sxs-lookup"><span data-stu-id="b35b8-922">Click the AutoFormat link and choose a format for the Menu.</span></span>
10. <span data-ttu-id="b35b8-923">在"屬性"窗格中,將 **「靜態顯示級別」** 屬性設置為 2。</span><span class="sxs-lookup"><span data-stu-id="b35b8-923">In the Properties pane, set the **StaticDisplayLevels** property to 2.</span></span> <span data-ttu-id="b35b8-924">"選單"控制項現在應在設計器中顯示"主頁"、"產品和服務"節點。</span><span class="sxs-lookup"><span data-stu-id="b35b8-924">The Menu control should now display the Home, Products, and Services node in the Designer.</span></span>
11. <span data-ttu-id="b35b8-925">流覽瀏覽器中的頁面以使用功能表。</span><span class="sxs-lookup"><span data-stu-id="b35b8-925">Browse the page in your browser to use the menu.</span></span> <span data-ttu-id="b35b8-926">(由於添加到網站地圖的頁面實際上不存在,因此當您嘗試瀏覽這些頁面時,您將看到錯誤。</span><span class="sxs-lookup"><span data-stu-id="b35b8-926">(Because the pages you ve added to the site map don't actually exist, you will see an error when you try and browse to them.)</span></span>

<span data-ttu-id="b35b8-927">嘗試更改靜態顯示級別和最大動態顯示級別屬性,並瞭解它們如何影響功能表的呈現方式。</span><span class="sxs-lookup"><span data-stu-id="b35b8-927">Experiment with changing the StaticDisplayLevels and the MaximumDynamicDisplayLevels properties and see how they affect how the menu is rendered.</span></span>

## <a name="lab-2-dynamically-binding-a-treeview-control"></a><span data-ttu-id="b35b8-928">實驗 2:動態繫結點樹檢視控制項</span><span class="sxs-lookup"><span data-stu-id="b35b8-928">Lab 2: Dynamically Binding a TreeView Control</span></span>

<span data-ttu-id="b35b8-929">本練習假定 SQL Server 在本地運行,並且北風資料庫存在於 SQL Server 實例上。</span><span class="sxs-lookup"><span data-stu-id="b35b8-929">This exercise assumes that you have SQL Server running locally and that the Northwind database is present on the SQL Server instance.</span></span> <span data-ttu-id="b35b8-930">如果未滿足這些條件,請更改範例中的連接字串。</span><span class="sxs-lookup"><span data-stu-id="b35b8-930">If these conditions are not met, please change the connection string in the sample.</span></span> <span data-ttu-id="b35b8-931">請注意,您可能還需要指定 SQL Server 身份驗證,而不是受信任的連接。</span><span class="sxs-lookup"><span data-stu-id="b35b8-931">Note that you may also need to specify SQL Server authentication instead of a trusted connection.</span></span>

1. <span data-ttu-id="b35b8-932">建立新網站。</span><span class="sxs-lookup"><span data-stu-id="b35b8-932">Create a new Web site.</span></span>
2. <span data-ttu-id="b35b8-933">切換到 Default.aspx 的代碼檢視,並將所有代碼替換為下面列出的代碼。</span><span class="sxs-lookup"><span data-stu-id="b35b8-933">Switch to Code view for Default.aspx and replace all code with the code listed below.</span></span> 

    [!code-aspx[Main](data-bound-controls/samples/sample13.aspx)]
3. <span data-ttu-id="b35b8-934">將頁面另存為樹視圖.aspx。</span><span class="sxs-lookup"><span data-stu-id="b35b8-934">Save the page as treeview.aspx.</span></span>
4. <span data-ttu-id="b35b8-935">瀏覽頁面。</span><span class="sxs-lookup"><span data-stu-id="b35b8-935">Browse the page.</span></span>
5. <span data-ttu-id="b35b8-936">首次顯示頁面時,在瀏覽器中查看頁面源。</span><span class="sxs-lookup"><span data-stu-id="b35b8-936">When the page is first displayed, view the source of the page in your browser.</span></span> <span data-ttu-id="b35b8-937">請注意,只有可見節點發送到用戶端。</span><span class="sxs-lookup"><span data-stu-id="b35b8-937">Note that only the visible nodes were sent to the client.</span></span>
6. <span data-ttu-id="b35b8-938">單擊任何節點旁邊的加號。</span><span class="sxs-lookup"><span data-stu-id="b35b8-938">Click the plus sign next to any node.</span></span>
7. <span data-ttu-id="b35b8-939">再次查看頁面上的源。</span><span class="sxs-lookup"><span data-stu-id="b35b8-939">View source on the page again.</span></span> <span data-ttu-id="b35b8-940">請注意,新顯示的節點現在存在。</span><span class="sxs-lookup"><span data-stu-id="b35b8-940">Notice that the newly displayed nodes are now present.</span></span>

## <a name="lab-3-details-view-and-editing-data-using-a-gridview-and-detailsview"></a><span data-ttu-id="b35b8-941">實驗 3:使用網格檢視和詳細資訊查看查看和編輯資料的詳細資訊</span><span class="sxs-lookup"><span data-stu-id="b35b8-941">Lab 3: Details View and Editing Data Using a GridView and DetailsView</span></span>

1. <span data-ttu-id="b35b8-942">建立新網站。</span><span class="sxs-lookup"><span data-stu-id="b35b8-942">Create a new Web site.</span></span>
2. <span data-ttu-id="b35b8-943">向網站添加新的 Web.config。</span><span class="sxs-lookup"><span data-stu-id="b35b8-943">Add a new web.config to the Web site.</span></span>
3. <span data-ttu-id="b35b8-944">將連接字串新增到 Web.config 檔案,如下所示:</span><span class="sxs-lookup"><span data-stu-id="b35b8-944">Add a connection string to the web.config file as shown below:</span></span> 

    [!code-xml[Main](data-bound-controls/samples/sample14.xml)]

    > [!NOTE]
    > <span data-ttu-id="b35b8-945">您可能需要根據環境更改連接字串。</span><span class="sxs-lookup"><span data-stu-id="b35b8-945">You may need to change the connection string based upon your environment.</span></span>
4. <span data-ttu-id="b35b8-946">儲存並關閉 web.config 檔案。</span><span class="sxs-lookup"><span data-stu-id="b35b8-946">Save and close the web.config file.</span></span>
5. <span data-ttu-id="b35b8-947">打開 Default.aspx 並添加新的 SqlDataSource 控制項。</span><span class="sxs-lookup"><span data-stu-id="b35b8-947">Open Default.aspx and add a new SqlDataSource control.</span></span>
6. <span data-ttu-id="b35b8-948">將 SqlDataSource 控制件的 ID 變更為**產品**。</span><span class="sxs-lookup"><span data-stu-id="b35b8-948">Change the ID of the SqlDataSource control to **Products**.</span></span>
7. <span data-ttu-id="b35b8-949">在**SqlDataSource 任務**選單中,按下 **「設定數據來源**」 。。</span><span class="sxs-lookup"><span data-stu-id="b35b8-949">In the **SqlDataSource Tasks** menu, click **Configure Data Source**.</span></span>
8. <span data-ttu-id="b35b8-950">在連接下拉清單中選擇 **「北風**」,然後單擊「下一步」。</span><span class="sxs-lookup"><span data-stu-id="b35b8-950">Select **Northwind** in the connection dropdown and click Next.</span></span>
9. <span data-ttu-id="b35b8-951">從 **"名稱**"下拉清單中選擇**產品**,然後選中 **"產品 ID、\*\*\*\*產品名稱**、**單價**"和 **"單位庫存**"複選框,如下所示。</span><span class="sxs-lookup"><span data-stu-id="b35b8-951">Select **Products** from the **Name** dropdown and check the **ProductID**, **ProductName**, **UnitPrice**, and **UnitsInStock** checkboxes as shown below.</span></span> 

![](data-bound-controls/_static/image3.jpg)

    **Figure 3**
10. <span data-ttu-id="b35b8-952">按 [下一步]  。</span><span class="sxs-lookup"><span data-stu-id="b35b8-952">Click **Next**.</span></span>
11. <span data-ttu-id="b35b8-953">按一下 [完成]  。</span><span class="sxs-lookup"><span data-stu-id="b35b8-953">Click **Finish**.</span></span>
12. <span data-ttu-id="b35b8-954">切換到「源」檢視並檢查生成的代碼。</span><span class="sxs-lookup"><span data-stu-id="b35b8-954">Switch to Source view and examine the code that was generated.</span></span> <span data-ttu-id="b35b8-955">請注意新增到 SqlDataSource 控制元件的**Select 命令**,**刪除命令**,**插入命令**與**更新命令**。</span><span class="sxs-lookup"><span data-stu-id="b35b8-955">Notice the **SelectCommand**, **DeleteCommand**, **InsertCommand**, and **UpdateCommand** that were added to the SqlDataSource control.</span></span> <span data-ttu-id="b35b8-956">另請注意添加的參數。</span><span class="sxs-lookup"><span data-stu-id="b35b8-956">Also notice the parameters that were added.</span></span>
13. <span data-ttu-id="b35b8-957">切換到"設計"視圖,並將新的 GridView 控件添加到頁面。</span><span class="sxs-lookup"><span data-stu-id="b35b8-957">Switch to Design view and add a new GridView control to the page.</span></span>
14. <span data-ttu-id="b35b8-958">從**選擇資料來源**下拉清單中選擇**產品**。</span><span class="sxs-lookup"><span data-stu-id="b35b8-958">Select **Products** from the **Choose Data Source** dropdown.</span></span>
15. <span data-ttu-id="b35b8-959">勾選此**選項, 啟用分頁**和**啟用選擇**,如下所示。</span><span class="sxs-lookup"><span data-stu-id="b35b8-959">Check **Enable Paging** and **Enable Selection** as shown below.</span></span> 

![](data-bound-controls/_static/image4.jpg)

    **Figure 4**
16. <span data-ttu-id="b35b8-960">點選 **「編輯列」** 連結,並確保選取**自動產生欄位**。</span><span class="sxs-lookup"><span data-stu-id="b35b8-960">Click the **Edit Columns** link and make sure that **Auto-generate fields** is checked.</span></span>
17. <span data-ttu-id="b35b8-961">按一下 [確定]  。</span><span class="sxs-lookup"><span data-stu-id="b35b8-961">Click **OK**.</span></span>
18. <span data-ttu-id="b35b8-962">選擇 GridView 控制件後,按下「屬性」窗格中的**DataKeyNames**屬性旁邊的按鈕。</span><span class="sxs-lookup"><span data-stu-id="b35b8-962">With the GridView control selected, click the button next to the **DataKeyNames** property in the Properties pane.</span></span>
19. <span data-ttu-id="b35b8-963">從 **「可用資料欄位**」 清單**&gt;** 中選擇 **「產品 ID」,** 然後按下這個按鈕進行添加。</span><span class="sxs-lookup"><span data-stu-id="b35b8-963">Select **ProductID** from the **Available data fields** list and click the **&gt;** button to add it.</span></span>
20. <span data-ttu-id="b35b8-964">按一下 [確定]。</span><span class="sxs-lookup"><span data-stu-id="b35b8-964">Click OK.</span></span>
21. <span data-ttu-id="b35b8-965">向頁面添加新的 SqlDataSource 控制件。</span><span class="sxs-lookup"><span data-stu-id="b35b8-965">Add a new SqlDataSource control to the page.</span></span>
22. <span data-ttu-id="b35b8-966">將 SqlDataSource 控制件的 ID 變更為**詳細資訊**。</span><span class="sxs-lookup"><span data-stu-id="b35b8-966">Change the ID of the SqlDataSource control to **Details**.</span></span>
23. <span data-ttu-id="b35b8-967">在 SqlDataSource 任務選單中,選擇 **「設定資料來源**」 。。</span><span class="sxs-lookup"><span data-stu-id="b35b8-967">From the SqlDataSource Tasks menu, choose **Configure Data Source**.</span></span>
24. <span data-ttu-id="b35b8-968">從下拉清單中選擇**北風**,然後單擊 **「下一步**」。。</span><span class="sxs-lookup"><span data-stu-id="b35b8-968">Choose **Northwind** from the dropdown and click **Next**.</span></span>
25. <span data-ttu-id="b35b8-969">從<strong>"名稱</strong>"下拉清單<strong>\<中選擇<strong>"產品</strong>",然後選中<strong>"列</strong>列表"框中的/強>\* 複選框。</span><span class="sxs-lookup"><span data-stu-id="b35b8-969">Select <strong>Products</strong> from the <strong>Name</strong> dropdown and check the <strong>\</strong>\* checkbox in the <strong>Columns</strong> listbox.</span></span>
26. <span data-ttu-id="b35b8-970">按下 **「WHERE」** 按鈕。</span><span class="sxs-lookup"><span data-stu-id="b35b8-970">Click the **WHERE** button.</span></span>
27. <span data-ttu-id="b35b8-971">從**欄**「下拉清單中選擇**產品 ID。**</span><span class="sxs-lookup"><span data-stu-id="b35b8-971">Select **ProductID** from the **Column** dropdown.</span></span>
28. <span data-ttu-id="b35b8-972">在**=**「操作員下拉清單」中選擇。</span><span class="sxs-lookup"><span data-stu-id="b35b8-972">Select **=** in the Operator dropdown.</span></span>
29. <span data-ttu-id="b35b8-973">從 **「源**」下拉清單中選擇 **「控制件**」。</span><span class="sxs-lookup"><span data-stu-id="b35b8-973">Select **Control** from the **Source** dropdown.</span></span>
30. <span data-ttu-id="b35b8-974">從**控制 ID**下拉清單中選擇**GridView1。**</span><span class="sxs-lookup"><span data-stu-id="b35b8-974">Select **GridView1** from the **Control ID** dropdown.</span></span>
31. <span data-ttu-id="b35b8-975">按下「**添加**」按鈕以添加 WHERE 子句。</span><span class="sxs-lookup"><span data-stu-id="b35b8-975">Click the **Add** button to add the WHERE clause.</span></span>
32. <span data-ttu-id="b35b8-976">按一下 [確定]  。</span><span class="sxs-lookup"><span data-stu-id="b35b8-976">Click **OK**.</span></span>
33. <span data-ttu-id="b35b8-977">按下 **「進階」** 按鈕,然後選中 **「生成插入」、「更新」和「刪除語句」** 複選框。</span><span class="sxs-lookup"><span data-stu-id="b35b8-977">Click the **Advanced** button and check the **Generate INSERT, UPDATE, and DELETE statements** checkbox.</span></span>
34. <span data-ttu-id="b35b8-978">按一下 [確定]  。</span><span class="sxs-lookup"><span data-stu-id="b35b8-978">Click **OK**.</span></span>
35. <span data-ttu-id="b35b8-979">按下 **「下一步**」,然後按兩下 **「完成**」。。</span><span class="sxs-lookup"><span data-stu-id="b35b8-979">Click **Next** and click **Finish**.</span></span>
36. <span data-ttu-id="b35b8-980">向頁面添加"詳細資訊查看"控制件。</span><span class="sxs-lookup"><span data-stu-id="b35b8-980">Add a DetailsView control to the page.</span></span>
37. <span data-ttu-id="b35b8-981">在**選擇資料來源**下拉下拉清單,選擇 **「詳細資訊**」 。</span><span class="sxs-lookup"><span data-stu-id="b35b8-981">In the **Choose Data Source** dropdown, choose **Details**.</span></span>
38. <span data-ttu-id="b35b8-982">選中"**啟用編輯**「複選框,如下所示。</span><span class="sxs-lookup"><span data-stu-id="b35b8-982">Check the **Enable Editing** checkbox as shown below.</span></span> 

![](data-bound-controls/_static/image1.gif)

    **Figure 5**
39. <span data-ttu-id="b35b8-983">保存頁面並流覽預設.aspx。</span><span class="sxs-lookup"><span data-stu-id="b35b8-983">Save the page and browse Default.aspx.</span></span>
40. <span data-ttu-id="b35b8-984">按下不同記錄旁邊的 **「選擇**」連結,自動查看「詳細資訊查看」 更新。</span><span class="sxs-lookup"><span data-stu-id="b35b8-984">Click the **Select** link next to different records to see the DetailsView update automatically.</span></span>
41. <span data-ttu-id="b35b8-985">按下「詳細資訊查看」 控制件中的 **「編輯**」 連結。</span><span class="sxs-lookup"><span data-stu-id="b35b8-985">Click the **Edit** link in the DetailsView control.</span></span>
42. <span data-ttu-id="b35b8-986">更改記錄,然後單擊 **"更新**"。</span><span class="sxs-lookup"><span data-stu-id="b35b8-986">Make a change to the record and click **Update**.</span></span>
