---
uid: web-forms/overview/getting-started/getting-started-with-aspnet-45-web-forms/ui_and_navigation
title: UI 和流覽 |Microsoft Docs
author: Erikre
description: 本教學課程系列將教您使用 ASP.NET 4.5 和 Microsoft Visual Studio Express 2013 為我們建立 ASP.NET Web Forms 應用程式的基本概念 。
ms.author: riande
ms.date: 09/08/2014
ms.assetid: 5c76891d-e515-4885-b576-76bd2c494efe
msc.legacyurl: /web-forms/overview/getting-started/getting-started-with-aspnet-45-web-forms/ui_and_navigation
msc.type: authoredcontent
ms.openlocfilehash: ac1dcaf1ba911fdcaeb3845c6836ec771733d93e
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 11/28/2019
ms.locfileid: "74636809"
---
# <a name="ui-and-navigation"></a><span data-ttu-id="49c36-103">UI 和瀏覽</span><span class="sxs-lookup"><span data-stu-id="49c36-103">UI and Navigation</span></span>

<span data-ttu-id="49c36-104">依[Erik Reitan](https://github.com/Erikre)</span><span class="sxs-lookup"><span data-stu-id="49c36-104">by [Erik Reitan](https://github.com/Erikre)</span></span>

<span data-ttu-id="49c36-105">[下載 Wingtip 玩具範例專案（C#）](https://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409)或[下載電子書（PDF）](https://download.microsoft.com/download/0/F/B/0FBFAA46-2BFD-478F-8E56-7BF3C672DF9D/Getting%20Started%20with%20ASP.NET%204.5%20Web%20Forms%20and%20Visual%20Studio%202013.pdf)</span><span class="sxs-lookup"><span data-stu-id="49c36-105">[Download Wingtip Toys Sample Project (C#)](https://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) or [Download E-book (PDF)](https://download.microsoft.com/download/0/F/B/0FBFAA46-2BFD-478F-8E56-7BF3C672DF9D/Getting%20Started%20with%20ASP.NET%204.5%20Web%20Forms%20and%20Visual%20Studio%202013.pdf)</span></span>

> <span data-ttu-id="49c36-106">本教學課程系列將教您使用 ASP.NET 4.5 和 Microsoft Visual Studio Express 2013 for Web 建立 ASP.NET Web Forms 應用程式的基本概念。</span><span class="sxs-lookup"><span data-stu-id="49c36-106">This tutorial series will teach you the basics of building an ASP.NET Web Forms application using ASP.NET 4.5 and Microsoft Visual Studio Express 2013 for Web.</span></span> <span data-ttu-id="49c36-107">本教學課程系列隨附有[ C#原始程式碼](https://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409)的 Visual Studio 2013 專案。</span><span class="sxs-lookup"><span data-stu-id="49c36-107">A Visual Studio 2013 [project with C# source code](https://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) is available to accompany this tutorial series.</span></span>

<span data-ttu-id="49c36-108">在本教學課程中，您將修改預設 Web 應用程式的 UI，以支援 Wingtip 玩具存放區 front 應用程式的功能。</span><span class="sxs-lookup"><span data-stu-id="49c36-108">In this tutorial, you will modify the UI of the default Web application to support features of the Wingtip Toys store front application.</span></span> <span data-ttu-id="49c36-109">此外，您還會加入簡單和資料系結的導覽。</span><span class="sxs-lookup"><span data-stu-id="49c36-109">Also, you will add simple and data bound navigation.</span></span> <span data-ttu-id="49c36-110">本教學課程是以先前的教學課程「建立資料存取層」為基礎，而且是 Wingtip 玩具教學課程系列的一部分。</span><span class="sxs-lookup"><span data-stu-id="49c36-110">This tutorial builds on the previous tutorial "Create the Data Access Layer" and is part of the Wingtip Toys tutorial series.</span></span>

## <a name="what-youll-learn"></a><span data-ttu-id="49c36-111">您將瞭解的內容：</span><span class="sxs-lookup"><span data-stu-id="49c36-111">What you'll learn:</span></span>

- <span data-ttu-id="49c36-112">如何變更 UI 以支援 Wingtip 玩具 store front 應用程式的功能。</span><span class="sxs-lookup"><span data-stu-id="49c36-112">How to change the UI to support features of the Wingtip Toys store front application.</span></span>
- <span data-ttu-id="49c36-113">如何設定 HTML5 元素以包含頁面導覽。</span><span class="sxs-lookup"><span data-stu-id="49c36-113">How to configure an HTML5 element to include page navigation.</span></span>
- <span data-ttu-id="49c36-114">如何建立資料驅動控制項，以流覽至特定產品資料。</span><span class="sxs-lookup"><span data-stu-id="49c36-114">How to create a data-driven control to navigate to specific product data.</span></span>
- <span data-ttu-id="49c36-115">如何顯示使用 Entity Framework Code First 建立之資料庫中的資料。</span><span class="sxs-lookup"><span data-stu-id="49c36-115">How to display data from a database created using Entity Framework Code First.</span></span>

<span data-ttu-id="49c36-116">ASP.NET Web Forms 可讓您建立 Web 應用程式的動態內容。</span><span class="sxs-lookup"><span data-stu-id="49c36-116">ASP.NET Web Forms allow you to create dynamic content for your Web application.</span></span> <span data-ttu-id="49c36-117">每個 ASP.NET 網頁的建立方式類似于靜態 HTML 網頁（不包括以伺服器為基礎的處理），但是 ASP.NET 網頁包含額外的元素，ASP.NET 會在頁面執行時辨識和處理以產生 HTML。</span><span class="sxs-lookup"><span data-stu-id="49c36-117">Each ASP.NET Web page is created in a manner similar to a static HTML Web page (a page that does not include server-based processing), but ASP.NET Web page includes extra elements that ASP.NET recognizes and processes to generate HTML when the page runs.</span></span>

<span data-ttu-id="49c36-118">使用靜態 HTML 網頁（ *.htm*或 *.html*檔案）時，伺服器會藉由讀取檔案並依預設將它傳送至瀏覽器，來滿足 `Web` 的要求。</span><span class="sxs-lookup"><span data-stu-id="49c36-118">With a static HTML page (*.htm* or *.html* file), the server fulfills a `Web` request by reading the file and sending it as-is to the browser.</span></span> <span data-ttu-id="49c36-119">相反地，當有人要求 ASP.NET 網頁（ *.aspx*檔案）時，網頁會以程式的形式在 web 伺服器上執行。</span><span class="sxs-lookup"><span data-stu-id="49c36-119">In contrast, when someone requests an ASP.NET Web page (*.aspx* file), the page runs as a program on the Web server.</span></span> <span data-ttu-id="49c36-120">當網頁正在執行時，它可以執行您的網站所需的任何工作，包括計算值、讀取或寫入資料庫資訊，或呼叫其他程式。</span><span class="sxs-lookup"><span data-stu-id="49c36-120">While the page is running, it can perform any task that your Web site requires, including calculating values, reading or writing database information, or calling other programs.</span></span> <span data-ttu-id="49c36-121">作為輸出，頁面會以動態方式產生標記（例如 HTML 中的專案），並將這個動態輸出傳送至瀏覽器。</span><span class="sxs-lookup"><span data-stu-id="49c36-121">As its output, the page dynamically produces markup (such as elements in HTML) and sends this dynamic output to the browser.</span></span>

## <a name="modifying-the-ui"></a><span data-ttu-id="49c36-122">修改 UI</span><span class="sxs-lookup"><span data-stu-id="49c36-122">Modifying the UI</span></span>

<span data-ttu-id="49c36-123">您將會藉由修改*default.aspx*頁面來繼續本教學課程系列。</span><span class="sxs-lookup"><span data-stu-id="49c36-123">You'll continue this tutorial series by modifying the *Default.aspx* page.</span></span> <span data-ttu-id="49c36-124">您將修改已由用來建立應用程式的預設範本所建立的 UI。</span><span class="sxs-lookup"><span data-stu-id="49c36-124">You will modify the UI that's already established by the default template used to create the application.</span></span> <span data-ttu-id="49c36-125">您在建立任何 Web Forms 應用程式時，通常會執行的修改類型。</span><span class="sxs-lookup"><span data-stu-id="49c36-125">The type of modifications you'll do are typical when creating any Web Forms application.</span></span> <span data-ttu-id="49c36-126">您會藉由變更標題、取代某些內容，以及移除不必要的預設內容來執行此動作。</span><span class="sxs-lookup"><span data-stu-id="49c36-126">You'll do this by changing the title, replacing some content, and removing unneeded default content.</span></span>

1. <span data-ttu-id="49c36-127">開啟或切換至*default.aspx*頁面。</span><span class="sxs-lookup"><span data-stu-id="49c36-127">Open or switch to the *Default.aspx* page.</span></span>
2. <span data-ttu-id="49c36-128">如果頁面出現在**設計**視圖中，請切換至 [**來源**視圖]。</span><span class="sxs-lookup"><span data-stu-id="49c36-128">If the page appears in **Design** view, switch to **Source** view.</span></span>
3. <span data-ttu-id="49c36-129">在 [`@Page`] 指示詞的頁面頂端，將 [`Title`] 屬性變更為 [歡迎]，如下所示黃色反白顯示。</span><span class="sxs-lookup"><span data-stu-id="49c36-129">At the top of the page in the `@Page` directive, change the `Title` attribute to "Welcome", as shown highlighted in yellow below.</span></span> 

    [!code-aspx[Main](ui_and_navigation/samples/sample1.aspx?highlight=1)]
4. <span data-ttu-id="49c36-130">此外，在*default.aspx*頁面上，取代 [`<asp:Content>`] 標籤中包含的所有預設內容，讓標記看起來如下所示。</span><span class="sxs-lookup"><span data-stu-id="49c36-130">Also on the *Default.aspx* page, replace all of the default content contained in the `<asp:Content>` tag so that the markup appears as below.</span></span> 

    [!code-aspx[Main](ui_and_navigation/samples/sample2.aspx)]
5. <span data-ttu-id="49c36-131">從 [檔案] 功能表中選取 [**儲存 default.aspx** **]，以**儲存*default.aspx*頁面。</span><span class="sxs-lookup"><span data-stu-id="49c36-131">Save the *Default.aspx* page by selecting **Save Default.aspx** from the **File** menu.</span></span>

   <span data-ttu-id="49c36-132">產生的*default.aspx*頁面會如下所示：</span><span class="sxs-lookup"><span data-stu-id="49c36-132">The resulting *Default.aspx* page will appear as follows:</span></span> 

[!code-aspx[Main](ui_and_navigation/samples/sample3.aspx)]

<span data-ttu-id="49c36-133">在此範例中，您已設定 `@Page` 指示詞的 `Title` 屬性。</span><span class="sxs-lookup"><span data-stu-id="49c36-133">In the example, you have set the `Title` attribute of the `@Page` directive.</span></span> <span data-ttu-id="49c36-134">當 HTML 顯示在瀏覽器中時，伺服器程式碼 `<%: Page.Title %>` 會解析為 `Title` 屬性中包含的內容。</span><span class="sxs-lookup"><span data-stu-id="49c36-134">When the HTML is displayed in a browser, the server code `<%: Page.Title %>` resolves to the content contained in the `Title` attribute.</span></span>

<span data-ttu-id="49c36-135">範例頁面包含構成 ASP.NET 網頁的基本元素。</span><span class="sxs-lookup"><span data-stu-id="49c36-135">The example page includes the basic elements that constitute an ASP.NET Web page.</span></span> <span data-ttu-id="49c36-136">此頁面包含靜態文字，如同您在 HTML 網頁中可能擁有的內容，以及 ASP.NET 特定的專案。</span><span class="sxs-lookup"><span data-stu-id="49c36-136">The page contains static text as you might have in an HTML page, along with elements that are specific to ASP.NET.</span></span> <span data-ttu-id="49c36-137">*Default.aspx*頁面中包含的內容將會與主版頁面內容整合，稍後將在本教學課程中說明。</span><span class="sxs-lookup"><span data-stu-id="49c36-137">The content contained in the *Default.aspx* page will be integrated with the master page content, which will be explained later in this tutorial.</span></span>

### <a name="page-directive"></a><span data-ttu-id="49c36-138">@Page 指示詞</span><span class="sxs-lookup"><span data-stu-id="49c36-138">@Page Directive</span></span>

<span data-ttu-id="49c36-139">ASP.NET Web form 通常包含的指示詞可讓您指定頁面的屬性和設定資訊。</span><span class="sxs-lookup"><span data-stu-id="49c36-139">ASP.NET Web Forms usually contain directives that allow you to specify page properties and configuration information for the page.</span></span> <span data-ttu-id="49c36-140">ASP.NET 會使用指示詞作為如何處理頁面的指示，但不會轉譯為傳送至瀏覽器之標記的一部分。</span><span class="sxs-lookup"><span data-stu-id="49c36-140">The directives are used by ASP.NET as instructions for how to process the page, but they are not rendered as part of the markup that is sent to the browser.</span></span>

<span data-ttu-id="49c36-141">最常使用的指示詞是 `@Page` 指示詞，可讓您指定頁面的許多設定選項，包括下列各項：</span><span class="sxs-lookup"><span data-stu-id="49c36-141">The most commonly used directive is the `@Page` directive, which allows you to specify many configuration options for the page, including the following:</span></span>

1. <span data-ttu-id="49c36-142">網頁中程式碼的伺服器程式設計語言，例如C#。</span><span class="sxs-lookup"><span data-stu-id="49c36-142">The server programming language for code in the page, such as C#.</span></span>
2. <span data-ttu-id="49c36-143">頁面是否是直接在頁面中使用伺服器程式碼的頁面（稱為單一檔案頁面），或其是否為具有程式碼的頁面（稱為程式碼後置頁面）。</span><span class="sxs-lookup"><span data-stu-id="49c36-143">Whether the page is a page with server code directly in the page, which is called a single-file page, or whether it is a page with code in a separate class file, which is called a code-behind page.</span></span>
3. <span data-ttu-id="49c36-144">頁面是否有相關聯的主版頁面，因此應視為內容頁。</span><span class="sxs-lookup"><span data-stu-id="49c36-144">Whether the page has an associated master page and should therefore be treated as a content page.</span></span>
4. <span data-ttu-id="49c36-145">調試和追蹤選項。</span><span class="sxs-lookup"><span data-stu-id="49c36-145">Debugging and tracing options.</span></span>

<span data-ttu-id="49c36-146">如果您未在頁面中包含 `@Page` 指示詞，或指示詞不包含特定的設定，則會從*web.config 設定檔*或*machine.config*設定檔繼承設定。</span><span class="sxs-lookup"><span data-stu-id="49c36-146">If you do not include an `@Page` directive in the page, or if the directive does not include a specific setting, a setting will be inherited from the *Web.config* configuration file or from the *Machine.config* configuration file.</span></span> <span data-ttu-id="49c36-147">Machine.config*檔案*會針對在電腦上執行的所有應用程式提供額外的設定。</span><span class="sxs-lookup"><span data-stu-id="49c36-147">The *Machine.config* file provides additional configuration settings to all applications running on a machine.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="49c36-148">Machine.config*也會*提供所有可能設定的詳細資料。</span><span class="sxs-lookup"><span data-stu-id="49c36-148">The *Machine.config* also provides details about all possible configuration settings.</span></span>

### <a name="web-server-controls"></a><span data-ttu-id="49c36-149">Web 服務器控制項</span><span class="sxs-lookup"><span data-stu-id="49c36-149">Web Server Controls</span></span>

<span data-ttu-id="49c36-150">在大部分的 ASP.NET Web form 應用程式中，您會加入控制項，讓使用者與頁面互動，例如按鈕、文字方塊、清單等。</span><span class="sxs-lookup"><span data-stu-id="49c36-150">In most ASP.NET Web Forms applications, you will add controls that allow the user to interact with the page, such as buttons, text boxes, lists, and so on.</span></span> <span data-ttu-id="49c36-151">這些 Web 服務器控制項類似于 HTML 按鈕和輸入元素。</span><span class="sxs-lookup"><span data-stu-id="49c36-151">These Web server controls are similar to HTML buttons and input elements.</span></span> <span data-ttu-id="49c36-152">不過，它們會在伺服器上進行處理，讓您可以使用伺服器程式碼來設定其屬性。</span><span class="sxs-lookup"><span data-stu-id="49c36-152">However, they are processed on the server, allowing you to use server code to set their properties.</span></span> <span data-ttu-id="49c36-153">這些控制項也會引發事件，讓您可以在伺服器程式碼中處理。</span><span class="sxs-lookup"><span data-stu-id="49c36-153">These controls also raise events that you can handle in server code.</span></span>

<span data-ttu-id="49c36-154">伺服器控制項使用特殊語法，ASP.NET 會在頁面執行時辨識。</span><span class="sxs-lookup"><span data-stu-id="49c36-154">Server controls use a special syntax that ASP.NET recognizes when the page runs.</span></span> <span data-ttu-id="49c36-155">ASP.NET 伺服器控制項的標記名稱是以 `asp:` 前置詞開頭。</span><span class="sxs-lookup"><span data-stu-id="49c36-155">The tag name for ASP.NET server controls starts with an `asp:` prefix.</span></span> <span data-ttu-id="49c36-156">這可讓 ASP.NET 辨識及處理這些伺服器控制項。</span><span class="sxs-lookup"><span data-stu-id="49c36-156">This allows ASP.NET to recognize and process these server controls.</span></span> <span data-ttu-id="49c36-157">如果控制項不是 .NET Framework 的一部分，前置詞可能會不同。</span><span class="sxs-lookup"><span data-stu-id="49c36-157">The prefix might be different if the control is not part of the .NET Framework.</span></span> <span data-ttu-id="49c36-158">除了 `asp:` 前置詞之外，ASP.NET 伺服器控制項還包含 `runat="server"` 屬性，以及您可以用來在伺服器程式碼中參考控制項的 `ID`。</span><span class="sxs-lookup"><span data-stu-id="49c36-158">In addition to the `asp:` prefix, ASP.NET server controls also include the `runat="server"` attribute and an `ID` that you can use to reference the control in server code.</span></span>

<span data-ttu-id="49c36-159">當頁面執行時，ASP.NET 會識別伺服器控制項，並執行與這些控制項相關聯的程式碼。</span><span class="sxs-lookup"><span data-stu-id="49c36-159">When the page runs, ASP.NET identifies the server controls and runs the code that is associated with those controls.</span></span> <span data-ttu-id="49c36-160">許多控制項在瀏覽器中顯示時，會將一些 HTML 或其他標記轉譯成頁面。</span><span class="sxs-lookup"><span data-stu-id="49c36-160">Many controls render some HTML or other markup into the page when it is displayed in a browser.</span></span>

### <a name="server-code"></a><span data-ttu-id="49c36-161">伺服器程式碼</span><span class="sxs-lookup"><span data-stu-id="49c36-161">Server Code</span></span>

<span data-ttu-id="49c36-162">大部分的 ASP.NET Web Forms 應用程式都包含在處理頁面時，在伺服器上執行的程式碼。</span><span class="sxs-lookup"><span data-stu-id="49c36-162">Most ASP.NET Web Forms applications include code that runs on the server when the page is processed.</span></span> <span data-ttu-id="49c36-163">如先前所述，伺服器程式碼可用來執行各種動作，例如將資料新增至 ListView 控制項。</span><span class="sxs-lookup"><span data-stu-id="49c36-163">As mentioned above, server code can be used to do a variety of things, such as adding data to a ListView control.</span></span> <span data-ttu-id="49c36-164">ASP.NET 支援在伺服器上執行的許多語言，包括C#、Visual Basic、j # 和其他語言。</span><span class="sxs-lookup"><span data-stu-id="49c36-164">ASP.NET supports many languages to run on the server, including C#, Visual Basic, J#, and others.</span></span>

<span data-ttu-id="49c36-165">ASP.NET 支援兩種模型來撰寫網頁的伺服器程式碼。</span><span class="sxs-lookup"><span data-stu-id="49c36-165">ASP.NET supports two models for writing server code for a Web page.</span></span> <span data-ttu-id="49c36-166">在單一檔案模型中，頁面的程式碼位於腳本元素中，其中開頭標記包含 `runat="server"` 屬性。</span><span class="sxs-lookup"><span data-stu-id="49c36-166">In the single-file model, the code for the page is in a script element where the opening tag includes the `runat="server"` attribute.</span></span> <span data-ttu-id="49c36-167">或者，您也可以在個別的類別檔案（稱為「程式碼後置模型」）中建立頁面的程式碼。</span><span class="sxs-lookup"><span data-stu-id="49c36-167">Alternatively, you can create the code for the page in a separate class file, which is referred to as the code-behind model.</span></span> <span data-ttu-id="49c36-168">在此情況下，ASP.NET Web Forms 頁面通常不會包含任何伺服器程式碼。</span><span class="sxs-lookup"><span data-stu-id="49c36-168">In this case, the ASP.NET Web Forms page generally contains no server code.</span></span> <span data-ttu-id="49c36-169">相反地，`@Page` 指示詞所包含的資訊會連結 *.aspx*頁面及其相關聯的程式碼後置檔案。</span><span class="sxs-lookup"><span data-stu-id="49c36-169">Instead, the `@Page` directive includes information that links the *.aspx* page with its associated code-behind file.</span></span>

<span data-ttu-id="49c36-170">`@Page` 指示詞中包含的 `CodeBehind` 屬性會指定個別類別檔案的名稱，而 `Inherits` 屬性會指定程式碼後置檔案中對應至該頁面的類別名稱。</span><span class="sxs-lookup"><span data-stu-id="49c36-170">The `CodeBehind` attribute contained in the `@Page` directive specifies the name of the separate class file, and the `Inherits` attribute specifies the name of the class within the code-behind file that corresponds to the page.</span></span>

### <a name="updating-the-master-page"></a><span data-ttu-id="49c36-171">更新主版頁面</span><span class="sxs-lookup"><span data-stu-id="49c36-171">Updating the Master Page</span></span>

<span data-ttu-id="49c36-172">在 ASP.NET Web Forms 中，主版頁面可讓您為應用程式中的頁面建立一致的版面配置。</span><span class="sxs-lookup"><span data-stu-id="49c36-172">In ASP.NET Web Forms, master pages allow you to create a consistent layout for the pages in your application.</span></span> <span data-ttu-id="49c36-173">單一主版頁面會針對您應用程式中的所有頁面（或頁面群組），定義您想要的外觀和風格和標準行為。</span><span class="sxs-lookup"><span data-stu-id="49c36-173">A single master page defines the look and feel and standard behavior that you want for all of the pages (or a group of pages) in your application.</span></span> <span data-ttu-id="49c36-174">接著，您可以建立包含您想要顯示之內容的個別內容頁面，如上面所述。</span><span class="sxs-lookup"><span data-stu-id="49c36-174">You can then create individual content pages that contain the content you want to display, as explained above.</span></span> <span data-ttu-id="49c36-175">當使用者要求內容頁面時，ASP.NET 會將其與主版頁面合併，以產生結合主版頁面版面配置與內容頁面內容的輸出。</span><span class="sxs-lookup"><span data-stu-id="49c36-175">When users request the content pages, ASP.NET merges them with the master page to produce output that combines the layout of the master page with the content from the content page.</span></span>

<span data-ttu-id="49c36-176">新網站需要在每個頁面上顯示單一標誌。</span><span class="sxs-lookup"><span data-stu-id="49c36-176">The new site needs a single logo to display on every page.</span></span> <span data-ttu-id="49c36-177">若要新增此標誌，您可以在主版頁面上修改 HTML。</span><span class="sxs-lookup"><span data-stu-id="49c36-177">To add this logo, you can modify the HTML on the master page.</span></span>

1. <span data-ttu-id="49c36-178">在**方案總管**中，尋找並開啟 [**網站**] 頁面。</span><span class="sxs-lookup"><span data-stu-id="49c36-178">In **Solution Explorer**, find and open the **Site.Master** page.</span></span>
2. <span data-ttu-id="49c36-179">如果頁面在**設計**視圖中，請切換至 [**原始**檔視圖]。</span><span class="sxs-lookup"><span data-stu-id="49c36-179">If the page is in **Design** view, switch to **Source** view.</span></span>
3. <span data-ttu-id="49c36-180">**修改或新增**以黃色反白顯示的標記，以更新主版頁面：</span><span class="sxs-lookup"><span data-stu-id="49c36-180">Update the master page by **modifying or adding** the markup highlighted in yellow:</span></span> 

    [!code-aspx[Main](ui_and_navigation/samples/sample4.aspx?highlight=9,49,76-81,87)]

<span data-ttu-id="49c36-181">此 HTML 會從 Web 應用程式的 [ *Images* ] 資料夾中顯示名為 [ *.jpg* ] 的影像，您將在稍後新增。</span><span class="sxs-lookup"><span data-stu-id="49c36-181">This HTML will display the image named *logo.jpg* from the *Images* folder of the Web application, which you'll add later.</span></span> <span data-ttu-id="49c36-182">當瀏覽器中顯示使用主版頁面的頁面時，將會顯示標誌。</span><span class="sxs-lookup"><span data-stu-id="49c36-182">When a page that uses the master page is displayed in a browser, the logo will be displayed.</span></span> <span data-ttu-id="49c36-183">如果使用者按一下標誌，使用者會流覽回*default.aspx*頁面。</span><span class="sxs-lookup"><span data-stu-id="49c36-183">If a user clicks on the logo, the user will navigate back to the *Default.aspx* page.</span></span> <span data-ttu-id="49c36-184">HTML 錨點標記 `<a>` 包裝影像伺服器控制項，並允許在連結中包含影像。</span><span class="sxs-lookup"><span data-stu-id="49c36-184">The HTML anchor tag `<a>` wraps the image server control and allows the image to be included as part of the link.</span></span> <span data-ttu-id="49c36-185">錨點標記的 `href` 屬性會指定網站的根 "`~/`" 做為連結位置。</span><span class="sxs-lookup"><span data-stu-id="49c36-185">The `href` attribute for the anchor tag specifies the root "`~/`" of the Web site as the link location.</span></span> <span data-ttu-id="49c36-186">根據預設，當使用者流覽至網站的根目錄時，會顯示*default.aspx*頁面。</span><span class="sxs-lookup"><span data-stu-id="49c36-186">By default, the *Default.aspx* page is displayed when the user navigates to the root of the Web site.</span></span> <span data-ttu-id="49c36-187">**影像**`<asp:Image>` 伺服器控制項包含在瀏覽器中顯示時，會轉譯為 HTML 的加法屬性（例如 `BorderStyle`）。</span><span class="sxs-lookup"><span data-stu-id="49c36-187">The **Image** `<asp:Image>` server control includes addition properties, such as `BorderStyle`, that render as HTML when displayed in a browser.</span></span>

### <a name="master-pages"></a><span data-ttu-id="49c36-188">主版頁面</span><span class="sxs-lookup"><span data-stu-id="49c36-188">Master Pages</span></span>

<span data-ttu-id="49c36-189">主版頁面是副檔名為 master （例如，*網站*）的 ASP.NET 檔案，其中包含預先定義的版面配置，可包含靜態文字、HTML 專案和伺服器控制項。</span><span class="sxs-lookup"><span data-stu-id="49c36-189">A master page is an ASP.NET file with the extension .master (for example, *Site.Master*) with a predefined layout that can include static text, HTML elements, and server controls.</span></span> <span data-ttu-id="49c36-190">主版頁面是由特殊的 `@Master` 指示詞所識別，取代一般 *.aspx*頁面所使用的 `@Page` 指示詞。</span><span class="sxs-lookup"><span data-stu-id="49c36-190">The master page is identified by a special `@Master` directive that replaces the `@Page` directive that is used for ordinary *.aspx* pages.</span></span>

<span data-ttu-id="49c36-191">除了 `@Master` 指示詞之外，主版頁面也包含頁面的所有最上層 HTML 元素，例如 `html`、`head`和 `form`。</span><span class="sxs-lookup"><span data-stu-id="49c36-191">In addition to the `@Master` directive, the master page also contains all of the top-level HTML elements for a page, such as `html`, `head`, and `form`.</span></span> <span data-ttu-id="49c36-192">例如，在您先前新增的主版頁面上，您可以使用 HTML `table` 進行版面配置，`img` 元素用於公司標誌、靜態文字和伺服器控制項，以處理網站的一般成員資格。</span><span class="sxs-lookup"><span data-stu-id="49c36-192">For example, on the master page you added above, you use an HTML `table` for the layout, an `img` element for the company logo, static text, and server controls to handle common membership for your site.</span></span> <span data-ttu-id="49c36-193">您可以使用任何 HTML 和任何 ASP.NET 元素做為主版頁面的一部分。</span><span class="sxs-lookup"><span data-stu-id="49c36-193">You can use any HTML and any ASP.NET elements as part of your master page.</span></span>

<span data-ttu-id="49c36-194">除了會出現在所有頁面上的靜態文字和控制項，主版頁面也包含一個或多個**ContentPlaceHolder**控制項。</span><span class="sxs-lookup"><span data-stu-id="49c36-194">In addition to static text and controls that will appear on all pages, the master page also includes one or more **ContentPlaceHolder** controls.</span></span> <span data-ttu-id="49c36-195">這些預留位置控制項會定義可取代內容出現的區域。</span><span class="sxs-lookup"><span data-stu-id="49c36-195">These placeholder controls define regions where replaceable content will appear.</span></span> <span data-ttu-id="49c36-196">接著，使用**內容**伺服器控制項，即可在內容頁面（例如*default.aspx*）中定義可取代的內容。</span><span class="sxs-lookup"><span data-stu-id="49c36-196">In turn, the replaceable content is defined in content pages, such as *Default.aspx*, using the **Content** server control.</span></span>

#### <a name="adding-image-files"></a><span data-ttu-id="49c36-197">新增影像檔案</span><span class="sxs-lookup"><span data-stu-id="49c36-197">Adding Image Files</span></span>

<span data-ttu-id="49c36-198">上述所參考的標誌影像連同所有產品影像，都必須加入至 Web 應用程式，以便在專案顯示在瀏覽器中時看到。</span><span class="sxs-lookup"><span data-stu-id="49c36-198">The logo image that is referenced above, along with all the product images, must be added to the Web application so that they can be seen when the project is displayed in a browser.</span></span>

#### <a name="download-from-msdn-samples-site"></a><span data-ttu-id="49c36-199">從 MSDN 範例網站下載：</span><span class="sxs-lookup"><span data-stu-id="49c36-199">Download from MSDN Samples site:</span></span>

<span data-ttu-id="49c36-200">[使用 ASP.NET 4.5 Web Forms 和 Visual Studio 2013 Wingtip 玩具](https://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409)（C#）的消費者入門</span><span class="sxs-lookup"><span data-stu-id="49c36-200">[Getting Started with ASP.NET 4.5 Web Forms and Visual Studio 2013 - Wingtip Toys](https://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) (C#)</span></span>

<span data-ttu-id="49c36-201">此下載包含 [ *WingtipToys-資產*] 資料夾中用來建立範例應用程式的資源。</span><span class="sxs-lookup"><span data-stu-id="49c36-201">The download includes resources in the *WingtipToys-Assets* folder that are used to create the sample application.</span></span>

1. <span data-ttu-id="49c36-202">如果您尚未這麼做，請從 MSDN 範例網站使用上述連結下載壓縮的範例檔案。</span><span class="sxs-lookup"><span data-stu-id="49c36-202">If you haven't already done so, download the compressed sample files using the above link from the MSDN Samples site.</span></span>
2. <span data-ttu-id="49c36-203">下載之後，請開啟 .zip 檔案，並將內容複寫到您電腦上的本機資料夾。</span><span class="sxs-lookup"><span data-stu-id="49c36-203">Once downloaded, open the .zip file and copy the contents to a local folder on your machine.</span></span>
3. <span data-ttu-id="49c36-204">尋找並開啟 [ *WingtipToys-資產*] 資料夾。</span><span class="sxs-lookup"><span data-stu-id="49c36-204">Find and open the *WingtipToys-Assets* folder.</span></span>
4. <span data-ttu-id="49c36-205">藉由拖放，將*目錄*資料夾從本機資料夾複製到 Web 應用程式專案的根目錄（在 Visual Studio 的**方案總管**中）。</span><span class="sxs-lookup"><span data-stu-id="49c36-205">By dragging and dropping, copy the *Catalog* folder from your local folder to the root of the Web application project in the **Solution Explorer** of Visual Studio.</span></span> 

    ![UI 和流覽-複製檔案](ui_and_navigation/_static/image1.png)
5. <span data-ttu-id="49c36-207">接下來，建立名為*Images*的新資料夾，方法是以滑鼠右鍵**按一下方案總管**中的**WingtipToys**專案，**然後選取 [** 新增 -&gt;**新資料夾**]。</span><span class="sxs-lookup"><span data-stu-id="49c36-207">Next, create a new folder named *Images* by right-clicking the **WingtipToys** project in **Solution Explorer** and selecting **Add** -&gt; **New Folder**.</span></span>
6. <span data-ttu-id="49c36-208">將 [ *WingtipToys-資產*] 資料夾中的 [*標誌 .jpg*檔案 **] 複製到 Web**應用程式專案的 [ *Images* ] 資料夾中 Visual Studio 的**方案總管**。</span><span class="sxs-lookup"><span data-stu-id="49c36-208">Copy the *logo.jpg* file from the *WingtipToys-Assets* folder in **File Explorer** to the *Images* folder of the Web application project in **Solution Explorer** of Visual Studio.</span></span>
7. <span data-ttu-id="49c36-209">如果您沒有看到新檔案，請按一下**方案總管**頂端的 [**顯示所有**檔案] 選項來更新檔案清單。</span><span class="sxs-lookup"><span data-stu-id="49c36-209">Click the **Show All Files** option at the top of **Solution Explorer** to update the list of files if you don't see the new files.</span></span>  
  
    <span data-ttu-id="49c36-210">**方案總管**現在會顯示已更新的專案檔案。</span><span class="sxs-lookup"><span data-stu-id="49c36-210">**Solution Explorer** now shows the updated project files.</span></span> 

    ![UI 和導覽-方案總管](ui_and_navigation/_static/image2.png)

### <a name="adding-pages"></a><span data-ttu-id="49c36-212">加入頁面</span><span class="sxs-lookup"><span data-stu-id="49c36-212">Adding Pages</span></span>

<span data-ttu-id="49c36-213">在將導覽新增至 Web 應用程式之前，您會先加入兩個要流覽的新頁面。</span><span class="sxs-lookup"><span data-stu-id="49c36-213">Before adding navigation to the Web application, you'll first add two new pages that you'll navigate to.</span></span> <span data-ttu-id="49c36-214">稍後在本教學課程系列中，您將會在這些新的頁面上顯示產品和產品詳細資料。</span><span class="sxs-lookup"><span data-stu-id="49c36-214">Later in this tutorial series, you'll display products and product details on these new pages.</span></span>

1. <span data-ttu-id="49c36-215">在**方案總管**中，以滑鼠右鍵按一下 [ **WingtipToys**]，按一下 [**加入**]，然後按一下 [**新增專案**]。</span><span class="sxs-lookup"><span data-stu-id="49c36-215">In **Solution Explorer**, right-click **WingtipToys**, click **Add**, and then click **New Item**.</span></span>   
 <span data-ttu-id="49c36-216">隨即顯示 [ 新增項目] 對話方塊。</span><span class="sxs-lookup"><span data-stu-id="49c36-216">The **Add New Item** dialog box is displayed.</span></span>
2. <span data-ttu-id="49c36-217">選取左側的 [ **Visual C#**  -&gt; **Web**範本] 群組。</span><span class="sxs-lookup"><span data-stu-id="49c36-217">Select the **Visual C#** -&gt; **Web** templates group on the left.</span></span> <span data-ttu-id="49c36-218">然後，從中間清單中選取 [**具有主版頁面的 Web Form** ]，並將它命名為*ProductList .aspx*。</span><span class="sxs-lookup"><span data-stu-id="49c36-218">Then, select **Web Form with Master Page** from the middle list and name it *ProductList.aspx*.</span></span> 

    ![UI 和導覽-加入新專案對話方塊](ui_and_navigation/_static/image3.png)
3. <span data-ttu-id="49c36-220">選取 [**網站**]，將主版頁面附加至新建立的 *.aspx*頁面。</span><span class="sxs-lookup"><span data-stu-id="49c36-220">Select **Site.Master** to attach the master page to the newly created *.aspx* page.</span></span> 

    ![UI 和流覽-選取主版頁面](ui_and_navigation/_static/image4.png)
4. <span data-ttu-id="49c36-222">遵循這些相同的步驟，新增名為*ProductDetails*的其他頁面。</span><span class="sxs-lookup"><span data-stu-id="49c36-222">Add an additional page named *ProductDetails.aspx* by following these same steps.</span></span>

### <a name="updating-bootstrap"></a><span data-ttu-id="49c36-223">更新啟動程式</span><span class="sxs-lookup"><span data-stu-id="49c36-223">Updating Bootstrap</span></span>

<span data-ttu-id="49c36-224">Visual Studio 2013 專案範本會使用[啟動](http://getbootstrap.com/)程式，這是 Twitter 所建立的版面配置和主題架構。</span><span class="sxs-lookup"><span data-stu-id="49c36-224">The Visual Studio 2013 project templates use [Bootstrap](http://getbootstrap.com/), a layout and theming framework created by Twitter.</span></span> <span data-ttu-id="49c36-225">啟動程式會使用 CSS3 來提供回應式設計，這表示版面配置可以動態調整成不同的瀏覽器視窗大小。</span><span class="sxs-lookup"><span data-stu-id="49c36-225">Bootstrap uses CSS3 to provide responsive design, which means layouts can dynamically adapt to different browser window sizes.</span></span> <span data-ttu-id="49c36-226">您也可以使用啟動程式的主題功能，輕鬆地影響應用程式外觀和風格的變更。</span><span class="sxs-lookup"><span data-stu-id="49c36-226">You can also use Bootstrap's theming feature to easily effect a change in the application's look and feel.</span></span> <span data-ttu-id="49c36-227">根據預設，Visual Studio 2013 中的 ASP.NET Web 應用程式範本包含以 NuGet 封裝的啟動載入器。</span><span class="sxs-lookup"><span data-stu-id="49c36-227">By default, the ASP.NET Web Application template in Visual Studio 2013 includes Bootstrap as a NuGet package.</span></span>

<span data-ttu-id="49c36-228">在本教學課程中，您將藉由取代啟動載入 CSS 檔案來變更 Wingtip 玩具應用程式的外觀與風格。</span><span class="sxs-lookup"><span data-stu-id="49c36-228">In this tutorial, you will change look and feel of the Wingtip Toys application by replacing the Bootstrap CSS files.</span></span>

1. <span data-ttu-id="49c36-229">在**方案總管**中，開啟 [*內容*] 資料夾。</span><span class="sxs-lookup"><span data-stu-id="49c36-229">In **Solution Explorer**, open the *Content* folder.</span></span>
2. <span data-ttu-id="49c36-230">以滑鼠右鍵按一下*啟動程式 .css*檔案，然後將它重新命名為*bootstrap-original。*</span><span class="sxs-lookup"><span data-stu-id="49c36-230">Right-click the *bootstrap.css* file and rename it to *bootstrap-original.css*.</span></span>
3. <span data-ttu-id="49c36-231">將*bootstrap-original*重新*命名為最小的 .css。*</span><span class="sxs-lookup"><span data-stu-id="49c36-231">Rename the *bootstrap.min.css* to *bootstrap-original.min.css*.</span></span>
4. <span data-ttu-id="49c36-232">在**方案總管**中，以滑鼠右鍵按一下 [*內容*] 資料夾，然後選取 [**在檔案瀏覽器中開啟資料夾**]。</span><span class="sxs-lookup"><span data-stu-id="49c36-232">In **Solution Explorer**, right-click the *Content* folder and select **Open Folder in File Explorer**.</span></span>  
   <span data-ttu-id="49c36-233">[檔案瀏覽器] 將會顯示。</span><span class="sxs-lookup"><span data-stu-id="49c36-233">The File Explorer will be displayed.</span></span> <span data-ttu-id="49c36-234">您會將已下載的啟動載入 CSS 檔案儲存到這個位置。</span><span class="sxs-lookup"><span data-stu-id="49c36-234">You will save a downloaded bootstrap CSS files to this location.</span></span>
5. <span data-ttu-id="49c36-235">在您的瀏覽器中，移至 [ [https://bootswatch.com/3/](https://bootswatch.com/3/)]。</span><span class="sxs-lookup"><span data-stu-id="49c36-235">In your browser, go to [https://bootswatch.com/3/](https://bootswatch.com/3/).</span></span>
6. <span data-ttu-id="49c36-236">請滾動瀏覽器視窗，直到您看到 Cerulean 主題。</span><span class="sxs-lookup"><span data-stu-id="49c36-236">Scroll the browser window until you see the Cerulean theme.</span></span> 

    ![UI 和流覽 Cerulean 主題](ui_and_navigation/_static/image5.png)
7. <span data-ttu-id="49c36-238">將啟動程式 *.css*檔案和啟動程式.*小 .css*檔案下載至*Content*資料夾。</span><span class="sxs-lookup"><span data-stu-id="49c36-238">Download both the *bootstrap.css* file and the *bootstrap.min.css* file to the *Content* folder.</span></span> <span data-ttu-id="49c36-239">使用您先前開啟的 [檔案**瀏覽器**] 視窗中所顯示之 [內容] 資料夾的路徑。</span><span class="sxs-lookup"><span data-stu-id="49c36-239">Use the path to the content folder that is displayed in the **File Explorer** window that you previously opened.</span></span>
8. <span data-ttu-id="49c36-240">在**方案總管**頂端的**Visual Studio**中，選取 [**顯示所有**檔案] 選項，以顯示 [內容] 資料夾中的新檔案。</span><span class="sxs-lookup"><span data-stu-id="49c36-240">In **Visual Studio** at the top of **Solution Explorer**, select the **Show All Files** option to display the new files in the Content folder.</span></span> 

    ![UI 和導覽-方案總管](ui_and_navigation/_static/image6.png)

   <span data-ttu-id="49c36-242">您會在 [**內容**] 資料夾中看到兩個新的 CSS 檔案，但請注意，每個檔案名旁的圖示都會呈現灰色。這表示檔案尚未新增至專案。</span><span class="sxs-lookup"><span data-stu-id="49c36-242">You will see the two new CSS files in the **Content** folder, but notice that the icon next to each file name is grayed out. This means that the file has not yet been added to the project.</span></span>
9. <span data-ttu-id="49c36-243">以滑鼠右鍵按一下*啟動程式 .css*檔案，然後*選取 [* **包含在專案中**]。</span><span class="sxs-lookup"><span data-stu-id="49c36-243">Right-click the *bootstrap.css* and the *bootstrap.min.css* files and select **Include In Project**.</span></span>   
   <span data-ttu-id="49c36-244">當您稍後在本教學課程中執行 Wingtip 玩具應用程式時，將會顯示新的 UI。</span><span class="sxs-lookup"><span data-stu-id="49c36-244">When you run the Wingtip Toys application later in this tutorial, the new UI will be displayed.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="49c36-245">ASP.NET Web 應用程式範本會使用專案根目錄的配套 *.config*檔案來儲存啟動程式 CSS 檔案的路徑。</span><span class="sxs-lookup"><span data-stu-id="49c36-245">The ASP.NET Web Application template uses the *Bundle.config* file at the root of the project to store the path of the Bootstrap CSS files.</span></span>

### <a name="modifying-the-default-navigation"></a><span data-ttu-id="49c36-246">修改預設導覽</span><span class="sxs-lookup"><span data-stu-id="49c36-246">Modifying the Default Navigation</span></span>

<span data-ttu-id="49c36-247">您可以變更 [*網站*] 頁面中的未排序導覽清單元素，以修改應用程式中每個頁面的預設導覽。</span><span class="sxs-lookup"><span data-stu-id="49c36-247">The default navigation for every page in the application can be modified by changing the unordered navigation list element that's in the *Site.Master* page.</span></span>

1. <span data-ttu-id="49c36-248">在**方案總管**中，找出並開啟 [*網站*] 頁面。</span><span class="sxs-lookup"><span data-stu-id="49c36-248">In **Solution Explorer**, locate and open the *Site.Master* page.</span></span>
2. <span data-ttu-id="49c36-249">將以黃色反白顯示的其他導覽連結新增至未排序清單，如下所示：</span><span class="sxs-lookup"><span data-stu-id="49c36-249">Add the additional navigation link highlighted in yellow to the unordered list shown below:</span></span>   

    [!code-html[Main](ui_and_navigation/samples/sample5.html?highlight=5)]

<span data-ttu-id="49c36-250">如您在上述 HTML 中所見，您已修改每個包含錨點標記的明細專案 `<li>`，`<a>` `href` 屬性的連結。</span><span class="sxs-lookup"><span data-stu-id="49c36-250">As you can see in the above HTML, you modified each line item `<li>` containing an anchor tag `<a>` with a link `href` attribute.</span></span> <span data-ttu-id="49c36-251">每個 `href` 都會指向 Web 應用程式中的頁面。</span><span class="sxs-lookup"><span data-stu-id="49c36-251">Each `href` points to a page in the Web application.</span></span> <span data-ttu-id="49c36-252">在瀏覽器中，當使用者按一下其中一個連結（例如 [**產品**]）時，他們會流覽至包含在 `href` 中的頁面（例如**ProductList .aspx**）。</span><span class="sxs-lookup"><span data-stu-id="49c36-252">In the browser, when a user clicks on one of these links (such as **Products**), they will navigate to the page contained in the `href` (such as **ProductList.aspx**).</span></span> <span data-ttu-id="49c36-253">您將會在本教學課程結尾處執行應用程式。</span><span class="sxs-lookup"><span data-stu-id="49c36-253">You will run the application at the end of this tutorial.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="49c36-254">波狀符號（`~`）字元是用來指定 `href` 路徑從專案的根目錄開始。</span><span class="sxs-lookup"><span data-stu-id="49c36-254">The tilde (`~`) character is used to specify that the `href` path begins at the root of the project.</span></span>

### <a name="adding-a-data-control-to-display-navigation-data"></a><span data-ttu-id="49c36-255">加入資料控制項以顯示導覽資料</span><span class="sxs-lookup"><span data-stu-id="49c36-255">Adding a Data Control to Display Navigation Data</span></span>

<span data-ttu-id="49c36-256">接下來，您將加入控制項，以顯示資料庫中的所有類別。</span><span class="sxs-lookup"><span data-stu-id="49c36-256">Next, you'll add a control to display all of the categories from the database.</span></span> <span data-ttu-id="49c36-257">每個類別目錄都會作為*ProductList*的連結。</span><span class="sxs-lookup"><span data-stu-id="49c36-257">Each category will act as a link to the *ProductList.aspx* page.</span></span> <span data-ttu-id="49c36-258">當使用者在瀏覽器中按一下類別連結時，他們會流覽至 [產品] 頁面，並且只會查看與所選類別相關聯的產品。</span><span class="sxs-lookup"><span data-stu-id="49c36-258">When a user clicks on a category link in the browser, they will navigate to the products page and see only the products associated with the selected category.</span></span>

<span data-ttu-id="49c36-259">您將使用**ListView**控制項來顯示包含在資料庫中的所有類別。</span><span class="sxs-lookup"><span data-stu-id="49c36-259">You'll use a **ListView** control to display all the categories contained in the database.</span></span> <span data-ttu-id="49c36-260">若要將**ListView**控制項加入至主版頁面：</span><span class="sxs-lookup"><span data-stu-id="49c36-260">To add a **ListView** control to the master page:</span></span>

1. <span data-ttu-id="49c36-261">在 [*網站*] 頁面中，將下列反白顯示的 `<div>` 專案新增至包含您稍早新增之 `id="TitleContent"` 的 `<div>` 元素**後面**：</span><span class="sxs-lookup"><span data-stu-id="49c36-261">In the *Site.Master* page, add the following highlighted `<div>` element **after** the `<div>` element containing the `id="TitleContent"` that you added earlier:</span></span>  

    [!code-aspx[Main](ui_and_navigation/samples/sample6.aspx?highlight=7-21)]

<span data-ttu-id="49c36-262">此程式碼會顯示資料庫中的所有類別。</span><span class="sxs-lookup"><span data-stu-id="49c36-262">This code will display all the categories from the database.</span></span> <span data-ttu-id="49c36-263">**ListView**控制項會將每個類別目錄名稱顯示為連結文字，並包含包含該分類之 `ID` 的查詢字串值之*ProductList*的連結。</span><span class="sxs-lookup"><span data-stu-id="49c36-263">The **ListView** control displays each category name as link text and includes a link to the *ProductList.aspx* page with a query-string value containing the `ID` of the category.</span></span> <span data-ttu-id="49c36-264">藉由設定**ListView**控制項中的 [`ItemType`] 屬性，就可以在 [`ItemTemplate`] 節點中使用資料系結運算式 `Item`，而控制項就會成為強型別。</span><span class="sxs-lookup"><span data-stu-id="49c36-264">By setting the `ItemType` property in the **ListView** control, the data-binding expression `Item` is available within the `ItemTemplate` node and the control becomes strongly typed.</span></span> <span data-ttu-id="49c36-265">您可以使用 IntelliSense 來選取 `Item` 物件的詳細資料，例如指定 `CategoryName`。</span><span class="sxs-lookup"><span data-stu-id="49c36-265">You can select details of the `Item` object using IntelliSense, such as specifying the `CategoryName`.</span></span> <span data-ttu-id="49c36-266">此程式碼包含在標記資料系結運算式的容器 `<%#: %>` 內。</span><span class="sxs-lookup"><span data-stu-id="49c36-266">This code is contained inside the container `<%#: %>` that marks a data-binding expression.</span></span> <span data-ttu-id="49c36-267">藉由新增（:)在 `<%#` 前置詞的結尾，資料系結運算式的結果會以 HTML 編碼。</span><span class="sxs-lookup"><span data-stu-id="49c36-267">By adding the (:) to the end of the `<%#` prefix, the result of the data-binding expression is HTML-encoded.</span></span> <span data-ttu-id="49c36-268">當結果是以 HTML 編碼時，您的應用程式會受到較佳的保護，以防止跨網站腳本插入（XSS）和 HTML 插入式攻擊。</span><span class="sxs-lookup"><span data-stu-id="49c36-268">When the result is HTML-encoded, your application is better protected against cross-site script injection (XSS) and HTML injection attacks.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="49c36-269">**首先**</span><span class="sxs-lookup"><span data-stu-id="49c36-269">**Tip**</span></span>
> 
> <span data-ttu-id="49c36-270">當您在開發期間輸入來加入程式碼時，您可以確定已找到物件的有效成員，因為強型別資料控制項會根據 IntelliSense 顯示可用的成員。</span><span class="sxs-lookup"><span data-stu-id="49c36-270">When you add code by typing during development, you can be certain that a valid member of an object is found because strongly typed data controls show the available members based on IntelliSense.</span></span> <span data-ttu-id="49c36-271">當您輸入程式碼時，IntelliSense 會提供內容適當的程式碼選擇，例如屬性、方法和物件。</span><span class="sxs-lookup"><span data-stu-id="49c36-271">IntelliSense offers context-appropriate code choices as you type code, such as properties, methods, and objects.</span></span>

<span data-ttu-id="49c36-272">在下一個步驟中，您將會執行 `GetCategories` 方法來取出資料。</span><span class="sxs-lookup"><span data-stu-id="49c36-272">In the next step, you will implement the `GetCategories` method to retrieve data.</span></span>

### <a name="linking-the-data-control-to-the-database"></a><span data-ttu-id="49c36-273">將資料控制項連結至資料庫</span><span class="sxs-lookup"><span data-stu-id="49c36-273">Linking the Data Control to the Database</span></span>

<span data-ttu-id="49c36-274">您必須先將資料控制項連結到資料庫，才可以在資料控制中顯示資料。</span><span class="sxs-lookup"><span data-stu-id="49c36-274">Before you can display data in the data control, you need to link the data control to the database.</span></span> <span data-ttu-id="49c36-275">若要建立連結，您可以修改*Site.Master.cs*檔案的程式碼後置。</span><span class="sxs-lookup"><span data-stu-id="49c36-275">To make the link, you can modify the code behind of the *Site.Master.cs* file.</span></span>

1. <span data-ttu-id="49c36-276">在**方案總管**中，以滑鼠右鍵按一下 [*網站*] 頁面，然後按一下 [**查看程式碼**]。</span><span class="sxs-lookup"><span data-stu-id="49c36-276">In **Solution Explorer**, right-click the *Site.Master* page and then click **View Code**.</span></span> <span data-ttu-id="49c36-277">*Site.Master.cs*檔案會在編輯器中開啟。</span><span class="sxs-lookup"><span data-stu-id="49c36-277">The *Site.Master.cs* file is opened in the editor.</span></span>
2. <span data-ttu-id="49c36-278">在*Site.Master.cs*檔案的開頭附近，加入兩個額外的命名空間，讓所有包含的命名空間顯示如下：</span><span class="sxs-lookup"><span data-stu-id="49c36-278">Near the beginning of the *Site.Master.cs* file, add two additional namespaces so that all the included namespaces appear as follows:</span></span>  

    [!code-csharp[Main](ui_and_navigation/samples/sample7.cs?highlight=8-9)]
3. <span data-ttu-id="49c36-279">將反白顯示的 `GetCategories` 方法加入 `Page_Load` 事件處理常式之後，如下所示：</span><span class="sxs-lookup"><span data-stu-id="49c36-279">Add the highlighted `GetCategories` method after the `Page_Load` event handler as follows:</span></span>  

    [!code-csharp[Main](ui_and_navigation/samples/sample8.cs?highlight=6-11)]

<span data-ttu-id="49c36-280">在瀏覽器中載入使用主版頁面的任何頁面時，會執行上述程式碼。</span><span class="sxs-lookup"><span data-stu-id="49c36-280">The above code is executed when any page that uses the master page is loaded in the browser.</span></span> <span data-ttu-id="49c36-281">您稍早在本教學課程中新增的 `ListView` 控制項（名為 "categoryList"）會使用模型系結來選取資料。</span><span class="sxs-lookup"><span data-stu-id="49c36-281">The `ListView` control (named "categoryList") that you added earlier in this tutorial uses model binding to select data.</span></span> <span data-ttu-id="49c36-282">在 `ListView` 控制項的標記中，您可以將控制項的 `SelectMethod` 屬性設定為 `GetCategories` 方法，如上所示。</span><span class="sxs-lookup"><span data-stu-id="49c36-282">In the markup of the `ListView` control you set the control's `SelectMethod` property to the `GetCategories` method, shown above.</span></span> <span data-ttu-id="49c36-283">`ListView` 控制項會在頁面生命週期的適當時間呼叫 `GetCategories` 方法，並自動系結傳回的資料。</span><span class="sxs-lookup"><span data-stu-id="49c36-283">The `ListView` control calls the `GetCategories` method at the appropriate time in the page life cycle and automatically binds the returned data.</span></span> <span data-ttu-id="49c36-284">在下一個教學課程中，您將深入瞭解如何系結資料。</span><span class="sxs-lookup"><span data-stu-id="49c36-284">You will learn more about binding data in the next tutorial.</span></span>

### <a name="running-the-application-and-creating-the-database"></a><span data-ttu-id="49c36-285">執行應用程式並建立資料庫</span><span class="sxs-lookup"><span data-stu-id="49c36-285">Running the Application and Creating the Database</span></span>

<span data-ttu-id="49c36-286">稍早在本教學課程系列中，您已建立初始化運算式類別（名為 "ProductDatabaseInitializer"），並在*global.asax.cs*檔案中指定此類別。</span><span class="sxs-lookup"><span data-stu-id="49c36-286">Earlier in this tutorial series you created an initializer class (named "ProductDatabaseInitializer") and specified this class in the *global.asax.cs* file.</span></span> <span data-ttu-id="49c36-287">當第一次執行應用程式時，Entity Framework 將會產生資料庫，因為*global.asax.cs*檔案中包含的 `Application_Start` 方法將會呼叫初始化運算式類別。</span><span class="sxs-lookup"><span data-stu-id="49c36-287">The Entity Framework will generate the database when the application is run the first time because the `Application_Start` method contained in the *global.asax.cs* file will call the initializer class.</span></span> <span data-ttu-id="49c36-288">初始化運算式類別會使用您稍早在本教學課程系列中新增的模型類別（`Category` 和 `Product`）來建立資料庫。</span><span class="sxs-lookup"><span data-stu-id="49c36-288">The initializer class will use the model classes (`Category` and `Product`) that you added earlier in this tutorial series to create the database.</span></span>

1. <span data-ttu-id="49c36-289">在**方案總管**中，以滑鼠右鍵按一下*default.aspx*頁面，然後選取 [**設定為起始頁**]。</span><span class="sxs-lookup"><span data-stu-id="49c36-289">In **Solution Explorer**, right-click the *Default.aspx* page and select **Set As Start Page**.</span></span>
2. <span data-ttu-id="49c36-290">在 Visual Studio 按**F5**。</span><span class="sxs-lookup"><span data-stu-id="49c36-290">In Visual Studio press **F5**.</span></span>   
 <span data-ttu-id="49c36-291">在第一次執行期間設定所有專案需要一些時間。</span><span class="sxs-lookup"><span data-stu-id="49c36-291">It will take a little time to set everything up during this first run.</span></span>   
    <span data-ttu-id="49c36-292">![UI 和導覽瀏覽器視窗](ui_and_navigation/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="49c36-292">![UI and Navigation - Browser Windows](ui_and_navigation/_static/image7.png)</span></span>  
 <span data-ttu-id="49c36-293">當您執行應用程式時，將會編譯應用程式，而且會在*應用程式\_Data*資料夾中建立名為*wingtiptoys*的資料庫。</span><span class="sxs-lookup"><span data-stu-id="49c36-293">When you run the application, the application will be compiled and the database named *wingtiptoys.mdf* will be created in the *App\_Data* folder.</span></span> <span data-ttu-id="49c36-294">在瀏覽器中，您會看到 [類別] 導覽功能表。</span><span class="sxs-lookup"><span data-stu-id="49c36-294">In the browser, you will see a category navigation menu.</span></span> <span data-ttu-id="49c36-295">此功能表是藉由從資料庫中抓取類別來產生。</span><span class="sxs-lookup"><span data-stu-id="49c36-295">This menu was generated by retrieving the categories from the database.</span></span> <span data-ttu-id="49c36-296">在下一個教學課程中，您將會執行導覽。</span><span class="sxs-lookup"><span data-stu-id="49c36-296">In the next tutorial, you will implement the navigation.</span></span>
3. <span data-ttu-id="49c36-297">關閉瀏覽器以停止執行中的應用程式。</span><span class="sxs-lookup"><span data-stu-id="49c36-297">Close the browser to stop the running application.</span></span>

### <a name="reviewing-the-database"></a><span data-ttu-id="49c36-298">檢查資料庫</span><span class="sxs-lookup"><span data-stu-id="49c36-298">Reviewing the Database</span></span>

<span data-ttu-id="49c36-299">開啟 web.config*檔案*，並查看 [連接字串] 區段。</span><span class="sxs-lookup"><span data-stu-id="49c36-299">Open the *Web.config* file and look at the connection string section.</span></span> <span data-ttu-id="49c36-300">您可以看到，連接字串中的 `AttachDbFilename` 值指向 Web 應用程式專案的 `DataDirectory`。</span><span class="sxs-lookup"><span data-stu-id="49c36-300">You can see that the `AttachDbFilename` value in the connection string points to the `DataDirectory` for the Web application project.</span></span> <span data-ttu-id="49c36-301">`|DataDirectory|` 的值是保留的值，表示專案中的*應用程式\_的 Data*資料夾。</span><span class="sxs-lookup"><span data-stu-id="49c36-301">The value `|DataDirectory|` is a reserved value that represents the *App\_Data* folder in the project.</span></span> <span data-ttu-id="49c36-302">此資料夾是從您的實體類別建立的資料庫所在位置。</span><span class="sxs-lookup"><span data-stu-id="49c36-302">This folder is where the database that was created from your entity classes is located.</span></span>

[!code-xml[Main](ui_and_navigation/samples/sample9.xml)]

> [!NOTE] 
> 
> <span data-ttu-id="49c36-303">如果看不到 [*應用程式\_* ] 資料夾，或資料夾是空的，請**選取 [重新整理] 圖示，** 然後在 [**方案總管**] 視窗頂端的 [**顯示所有**檔案] 圖示。</span><span class="sxs-lookup"><span data-stu-id="49c36-303">If the *App\_Data* folder is not visible or if the folder is empty, select the **Refresh** icon and then the **Show All Files** icon at the top of the **Solution Explorer** window.</span></span> <span data-ttu-id="49c36-304">可能需要擴充**方案總管**視窗的寬度，才能顯示所有可用的圖示。</span><span class="sxs-lookup"><span data-stu-id="49c36-304">Expanding the width of the **Solution Explorer** windows may be required to show all available icons.</span></span>

<span data-ttu-id="49c36-305">現在您可以使用 [**伺服器總管**] 視窗，檢查*wingtiptoys*所包含的資料。</span><span class="sxs-lookup"><span data-stu-id="49c36-305">Now you can inspect the data contained in the *wingtiptoys.mdf* database file by using the **Server Explorer** window.</span></span>

1. <span data-ttu-id="49c36-306">展開*應用程式\_[Data* ] 資料夾。</span><span class="sxs-lookup"><span data-stu-id="49c36-306">Expand the *App\_Data* folder.</span></span> <span data-ttu-id="49c36-307">如果看不到*應用程式\_的資料*資料夾，請參閱上面的注意事項。</span><span class="sxs-lookup"><span data-stu-id="49c36-307">If the *App\_Data* folder is not visible, see the note above.</span></span>
2. <span data-ttu-id="49c36-308">如果看不到*wingtiptoys .mdf*資料庫檔案，請**選取 [重新整理] 圖示，** 然後選取 [**方案總管**] 視窗頂端的 [**顯示所有**檔案] 圖示。</span><span class="sxs-lookup"><span data-stu-id="49c36-308">If the *wingtiptoys.mdf* database file is not visible, select the **Refresh** icon and then the **Show All Files** icon at the top of the **Solution Explorer** window.</span></span>
3. <span data-ttu-id="49c36-309">以滑鼠右鍵按一下*wingtiptoys .mdf*資料庫檔案，然後選取 [**開啟**]。</span><span class="sxs-lookup"><span data-stu-id="49c36-309">Right-click the *wingtiptoys.mdf* database file and select **Open**.</span></span>  
    <span data-ttu-id="49c36-310">隨即顯示 [**伺服器總管**]。</span><span class="sxs-lookup"><span data-stu-id="49c36-310">**Server Explorer** is displayed.</span></span> 

    ![UI 和導覽-伺服器總管](ui_and_navigation/_static/image8.png)
4. <span data-ttu-id="49c36-312">展開 [*資料表]* 資料夾。</span><span class="sxs-lookup"><span data-stu-id="49c36-312">Expand the *Tables* folder.</span></span>
5. <span data-ttu-id="49c36-313">以滑鼠右鍵按一下 [ **Products**] 資料表，然後選取 [**顯示資料表資料**]。</span><span class="sxs-lookup"><span data-stu-id="49c36-313">Right-click the **Products**table and select **Show Table Data**.</span></span>  
 <span data-ttu-id="49c36-314">[ **Products** ] 資料表隨即顯示。</span><span class="sxs-lookup"><span data-stu-id="49c36-314">The **Products** table is displayed.</span></span> 

    ![UI 和流覽產品資料表](ui_and_navigation/_static/image9.png)
6. <span data-ttu-id="49c36-316">此視圖可讓您以手動方式查看及修改**Products**資料表中的資料。</span><span class="sxs-lookup"><span data-stu-id="49c36-316">This view lets you see and modify the data in the **Products** table by hand.</span></span>
7. <span data-ttu-id="49c36-317">關閉 [**產品**] 資料表視窗。</span><span class="sxs-lookup"><span data-stu-id="49c36-317">Close the **Products** table window.</span></span>
8. <span data-ttu-id="49c36-318">在 **伺服器總管**中，再次以滑鼠右鍵按一下**Products**資料表，然後選取 **開啟資料表定義**。</span><span class="sxs-lookup"><span data-stu-id="49c36-318">In the **Server Explorer**, right-click the **Products** table again and select **Open Table Definition**.</span></span>  
 <span data-ttu-id="49c36-319">[ **Products** ] 資料表的資料設計隨即顯示。</span><span class="sxs-lookup"><span data-stu-id="49c36-319">The data design for the **Products** table is displayed.</span></span> 

    ![UI 和流覽-產品設計](ui_and_navigation/_static/image10.png)
9. <span data-ttu-id="49c36-321">在 [ **t-sql** ] 索引標籤中，您會看到用來建立資料表的 SQL DDL 語句。</span><span class="sxs-lookup"><span data-stu-id="49c36-321">In the **T-SQL** tab you will see the SQL DDL statement that was used to create the table.</span></span> <span data-ttu-id="49c36-322">您也可以使用 [**設計**] 索引標籤中的 UI 來修改架構。</span><span class="sxs-lookup"><span data-stu-id="49c36-322">You can also use the UI in the **Design** tab to modify the schema.</span></span>
10. <span data-ttu-id="49c36-323">在**伺服器總管**中，以滑鼠右鍵按一下 [ **WingtipToys**資料庫]，然後選取 [**關閉連接**]。</span><span class="sxs-lookup"><span data-stu-id="49c36-323">In the **Server Explorer**, right-click **WingtipToys** database and select **Close Connection**.</span></span>   
 <span data-ttu-id="49c36-324">藉由卸離資料庫與 Visual Studio，稍後在本教學課程系列中將能夠修改資料庫架構。</span><span class="sxs-lookup"><span data-stu-id="49c36-324">By detaching the database from Visual Studio, the database schema will be able to be modified later in this tutorial series.</span></span>
11. <span data-ttu-id="49c36-325">選取 [**伺服器總管**] 視窗底部的 [**方案總管**] 索引標籤，以返回**方案總管**。</span><span class="sxs-lookup"><span data-stu-id="49c36-325">Return to **Solution Explorer**by selecting the **Solution Explorer** tab at the bottom of the **Server Explorer** window.</span></span>

## <a name="summary"></a><span data-ttu-id="49c36-326">總結</span><span class="sxs-lookup"><span data-stu-id="49c36-326">Summary</span></span>

<span data-ttu-id="49c36-327">在此系列的本教學課程中，您已新增一些基本 UI、圖形、頁面和導覽。</span><span class="sxs-lookup"><span data-stu-id="49c36-327">In this tutorial of the series you have added some basic UI, graphics, pages, and navigation.</span></span> <span data-ttu-id="49c36-328">此外，您已執行 Web 應用程式，這會從您在上一個教學課程中新增的資料類別建立資料庫。</span><span class="sxs-lookup"><span data-stu-id="49c36-328">Additionally, you ran the Web application, which created the database from the data classes that you added in the previous tutorial.</span></span> <span data-ttu-id="49c36-329">您也可以直接流覽資料庫，以查看資料庫的*Products*資料表內容。</span><span class="sxs-lookup"><span data-stu-id="49c36-329">You also viewed the contents of the *Products* table of the database by viewing the database directly.</span></span> <span data-ttu-id="49c36-330">在下一個教學課程中，您將會顯示資料庫中的資料項目和詳細資料。</span><span class="sxs-lookup"><span data-stu-id="49c36-330">In the next tutorial, you'll display data items and details from the database.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="49c36-331">其他資源</span><span class="sxs-lookup"><span data-stu-id="49c36-331">Additional Resources</span></span>

<span data-ttu-id="49c36-332">程式[設計 ASP.NET Web Pages  簡介](https://msdn.microsoft.com/library/ms178125.aspx)</span><span class="sxs-lookup"><span data-stu-id="49c36-332">[Introduction to Programming ASP.NET Web Pages](https://msdn.microsoft.com/library/ms178125.aspx) </span></span>  
<span data-ttu-id="49c36-333">[ASP.NET Web 服務器控制項總覽](https://msdn.microsoft.com/library/zsyt68f1.aspx) </span><span class="sxs-lookup"><span data-stu-id="49c36-333">[ASP.NET Web Server Controls Overview](https://msdn.microsoft.com/library/zsyt68f1.aspx) </span></span>  
[<span data-ttu-id="49c36-334">CSS 教學課程</span><span class="sxs-lookup"><span data-stu-id="49c36-334">CSS Tutorial</span></span>](http://www.w3schools.com/css/default.asp)

> [!div class="step-by-step"]
> <span data-ttu-id="49c36-335">[上一頁](create_the_data_access_layer.md)
> [下一頁](display_data_items_and_details.md)</span><span class="sxs-lookup"><span data-stu-id="49c36-335">[Previous](create_the_data_access_layer.md)
[Next](display_data_items_and_details.md)</span></span>
