---
uid: web-forms/overview/older-versions-getting-started/aspnet-ajax/understanding-asp-net-ajax-debugging-capabilities
title: 瞭解 ASP.NET AJAX 調試功能 |Microsoft Docs
author: scottcate
description: Debug 程式碼的功能是每位開發人員都應該在其利器中擁有的技能，不論他們使用的技術為何。 雖然許多開發人員都是 。
ms.author: riande
ms.date: 03/28/2008
ms.assetid: 7f9380c6-19f7-4c82-a019-916ec6dffc9c
msc.legacyurl: /web-forms/overview/older-versions-getting-started/aspnet-ajax/understanding-asp-net-ajax-debugging-capabilities
msc.type: authoredcontent
ms.openlocfilehash: 08ced380f3551407d757524dbc84b5feeeb5482b
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 11/28/2019
ms.locfileid: "74601680"
---
# <a name="understanding-aspnet-ajax-debugging-capabilities"></a><span data-ttu-id="8a7df-104">了解 ASP.NET AJAX 偵錯功能</span><span class="sxs-lookup"><span data-stu-id="8a7df-104">Understanding ASP.NET AJAX Debugging Capabilities</span></span>

<span data-ttu-id="8a7df-105">由[Scott Cate](https://github.com/scottcate)</span><span class="sxs-lookup"><span data-stu-id="8a7df-105">by [Scott Cate](https://github.com/scottcate)</span></span>

[<span data-ttu-id="8a7df-106">下載 PDF</span><span class="sxs-lookup"><span data-stu-id="8a7df-106">Download PDF</span></span>](https://download.microsoft.com/download/C/1/9/C19A3451-1D14-477C-B703-54EF22E197EE/AJAX_tutorial06_Debugging_MS_Ajax_Applications_cs.pdf)

> <span data-ttu-id="8a7df-107">Debug 程式碼的功能是每位開發人員都應該在其利器中擁有的技能，不論他們使用的技術為何。</span><span class="sxs-lookup"><span data-stu-id="8a7df-107">The ability to debug code is a skill that every developer should have in their arsenal regardless of the technology they're using.</span></span> <span data-ttu-id="8a7df-108">雖然許多開發人員習慣使用 Visual Studio .NET 或 Web Developer Express 來進行使用 VB.NET 或C#程式碼的 ASP.NET 應用程式，但卻不知道它也非常適合用來偵測用戶端程式代碼（例如 JavaScript）。</span><span class="sxs-lookup"><span data-stu-id="8a7df-108">While many developers are accustomed to using Visual Studio .NET or Web Developer Express to debug ASP.NET applications that use VB.NET or C# code, some aren't aware that it's also extremely useful for debugging client-side code such as JavaScript.</span></span> <span data-ttu-id="8a7df-109">用來進行 .NET 應用程式的相同類型技術也可以套用至啟用 AJAX 的應用程式，並更明確地 ASP.NET AJAX 應用程式。</span><span class="sxs-lookup"><span data-stu-id="8a7df-109">The same type of techniques used to debug .NET applications can also be applied to AJAX-enabled applications and more specifically ASP.NET AJAX applications.</span></span>

## <a name="debugging-aspnet-ajax-applications"></a><span data-ttu-id="8a7df-110">ASP.NET AJAX 應用程式的偵錯工具</span><span class="sxs-lookup"><span data-stu-id="8a7df-110">Debugging ASP.NET AJAX Applications</span></span>

<span data-ttu-id="8a7df-111">Dan Wahlin</span><span class="sxs-lookup"><span data-stu-id="8a7df-111">Dan Wahlin</span></span>

<span data-ttu-id="8a7df-112">Debug 程式碼的功能是每位開發人員都應該在其利器中擁有的技能，不論他們使用的技術為何。</span><span class="sxs-lookup"><span data-stu-id="8a7df-112">The ability to debug code is a skill that every developer should have in their arsenal regardless of the technology they're using.</span></span> <span data-ttu-id="8a7df-113">不需要說，瞭解有哪些不同的偵錯工具選項可以在專案上節省大量時間，甚至可能會有一些難題。</span><span class="sxs-lookup"><span data-stu-id="8a7df-113">It goes without saying that understanding the different debugging options that are available can save a tremendous amount of time on a project and perhaps even a few headaches.</span></span> <span data-ttu-id="8a7df-114">雖然許多開發人員習慣使用 Visual Studio .NET 或 Web Developer Express 來進行使用 VB.NET 或C#程式碼的 ASP.NET 應用程式，但卻不知道它也非常適合用來偵測用戶端程式代碼（例如 JavaScript）。</span><span class="sxs-lookup"><span data-stu-id="8a7df-114">While many developers are accustomed to using Visual Studio .NET or Web Developer Express to debug ASP.NET applications that use VB.NET or C# code, some aren't aware that it's also extremely useful for debugging client-side code such as JavaScript.</span></span> <span data-ttu-id="8a7df-115">用來進行 .NET 應用程式的相同類型技術也可以套用至啟用 AJAX 的應用程式，並更明確地 ASP.NET AJAX 應用程式。</span><span class="sxs-lookup"><span data-stu-id="8a7df-115">The same type of techniques used to debug .NET applications can also be applied to AJAX-enabled applications and more specifically ASP.NET AJAX applications.</span></span>

<span data-ttu-id="8a7df-116">在本文中，您將瞭解如何使用 Visual Studio 2008 和數個其他工具來進行 ASP.NET AJAX 應用程式的 debug，以快速找出錯誤和其他問題。</span><span class="sxs-lookup"><span data-stu-id="8a7df-116">In this article you'll see how Visual Studio 2008 and several other tools can be used to debug ASP.NET AJAX applications to quickly locate bugs and other issues.</span></span> <span data-ttu-id="8a7df-117">本討論將包含有關啟用 Internet Explorer 6 或更新版本以進行偵錯工具的資訊，使用 Visual Studio 2008 和腳本瀏覽器來逐步執行程式碼，以及使用其他免費工具，例如 Web 開發 Helper。</span><span class="sxs-lookup"><span data-stu-id="8a7df-117">This discussion will include information about enabling Internet Explorer 6 or higher for debugging, using Visual Studio 2008 and the Script Explorer to step through code as well as using other free tools such as Web Development Helper.</span></span> <span data-ttu-id="8a7df-118">您也將瞭解如何使用名為 Firebug 的延伸模組，在 Firefox 中進行 ASP.NET AJAX 應用程式的 debug，讓您直接在瀏覽器中執行 JavaScript 程式碼，而不需要任何其他工具。</span><span class="sxs-lookup"><span data-stu-id="8a7df-118">You'll also learn how to debug ASP.NET AJAX applications in Firefox using an extension named Firebug which lets you step through JavaScript code directly in the browser without any other tools.</span></span> <span data-ttu-id="8a7df-119">最後，您將會引進 ASP.NET AJAX 程式庫中的類別，協助進行各種偵錯工具工作，例如追蹤和程式碼判斷提示語句。</span><span class="sxs-lookup"><span data-stu-id="8a7df-119">Finally, you'll be introduced to classes in the ASP.NET AJAX Library that can help with various debugging tasks such as tracing and code assertion statements.</span></span>

<span data-ttu-id="8a7df-120">在您嘗試在 Internet Explorer 中流覽頁面之前，您必須執行幾個基本步驟，才能讓它進行偵錯工具。</span><span class="sxs-lookup"><span data-stu-id="8a7df-120">Before you try to debug pages viewed in Internet Explorer there are a few basic steps you'll need to perform to enable it for debugging.</span></span> <span data-ttu-id="8a7df-121">讓我們看看一些必須執行才能開始使用的基本設定需求。</span><span class="sxs-lookup"><span data-stu-id="8a7df-121">Let's take a look at some basic setup requirements that need to be performed to get started.</span></span>

## <a name="configuring-internet-explorer-for-debugging"></a><span data-ttu-id="8a7df-122">設定 Internet Explorer 以進行偵錯工具</span><span class="sxs-lookup"><span data-stu-id="8a7df-122">Configuring Internet Explorer for Debugging</span></span>

<span data-ttu-id="8a7df-123">大部分的人都不感興趣看到在使用 Internet Explorer 流覽的網站上遇到的 JavaScript 問題。</span><span class="sxs-lookup"><span data-stu-id="8a7df-123">Most people aren't interested in seeing JavaScript issues encountered on a Website viewed with Internet Explorer.</span></span> <span data-ttu-id="8a7df-124">事實上，即使使用者看到錯誤訊息，也不知道該怎麼辦。</span><span class="sxs-lookup"><span data-stu-id="8a7df-124">In fact, the average user wouldn't even know what to do if they saw an error message.</span></span> <span data-ttu-id="8a7df-125">因此，瀏覽器預設會關閉偵錯工具選項。</span><span class="sxs-lookup"><span data-stu-id="8a7df-125">As a result, debugging options are turned off by default in the browser.</span></span> <span data-ttu-id="8a7df-126">不過，在您開發新的 AJAX 應用程式時，將偵錯工具轉換成，並將它當作使用，是非常直接的。</span><span class="sxs-lookup"><span data-stu-id="8a7df-126">However, it's very straightforward to turn debugging on and put it to use as you develop new AJAX applications.</span></span>

<span data-ttu-id="8a7df-127">若要啟用調試功能，請移至 Internet Explorer 功能表上的 [工具] [網際網路選項]，然後選取 [Advanced] 索引標籤。在 [流覽] 區段中，確定未核取下列專案：</span><span class="sxs-lookup"><span data-stu-id="8a7df-127">To enable debugging functionality, go to Tools Internet Options on the Internet Explorer menu and select the Advanced tab. Within the Browsing section ensure that the following items are unchecked:</span></span>

- <span data-ttu-id="8a7df-128">停用腳本調試（Internet Explorer）</span><span class="sxs-lookup"><span data-stu-id="8a7df-128">Disable script debugging (Internet Explorer)</span></span>
- <span data-ttu-id="8a7df-129">停用腳本調試（其他）</span><span class="sxs-lookup"><span data-stu-id="8a7df-129">Disable script debugging (Other)</span></span>

<span data-ttu-id="8a7df-130">雖然不是必要的，但如果您嘗試對應用程式進行錯用，您可能會想要讓頁面中的任何 JavaScript 錯誤立即可見且顯而易見。</span><span class="sxs-lookup"><span data-stu-id="8a7df-130">Although not required, if you're trying to debug an application you'll probably want any JavaScript errors in the page to be immediately visible and obvious.</span></span> <span data-ttu-id="8a7df-131">您可以藉由核取 [顯示每個腳本錯誤的通知] 核取方塊，以強制顯示所有錯誤與訊息方塊。</span><span class="sxs-lookup"><span data-stu-id="8a7df-131">You can force all errors to be shown with a message box by checking the "Display a notification about every script error" checkbox.</span></span> <span data-ttu-id="8a7df-132">雖然這是在開發應用程式時開啟的絕佳選項，但如果您只是要流覽其他網站，可能很快就會變得很麻煩，因為遇到 JavaScript 錯誤的機率很好。</span><span class="sxs-lookup"><span data-stu-id="8a7df-132">While this is a great option to turn on while you're developing an application, it can quickly become annoying if you're just perusing other Websites since your chances of encountering JavaScript errors are pretty good.</span></span>

<span data-ttu-id="8a7df-133">[圖 1] 顯示 Internet Explorer [advanced] 對話方塊在正確設定以進行偵錯工具後應看到的外觀。</span><span class="sxs-lookup"><span data-stu-id="8a7df-133">Figure 1 shows what the Internet Explorer advanced dialog should look after it has been properly configured for debugging.</span></span>

<span data-ttu-id="8a7df-134">[![設定 Internet Explorer 以進行偵錯工具。](understanding-asp-net-ajax-debugging-capabilities/_static/image2.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="8a7df-134">[![Configuring Internet Explorer for debugging.](understanding-asp-net-ajax-debugging-capabilities/_static/image2.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image1.png)</span></span>

<span data-ttu-id="8a7df-135">**圖 1**：設定 Internet Explorer 以進行偵錯工具。</span><span class="sxs-lookup"><span data-stu-id="8a7df-135">**Figure 1**: Configuring Internet Explorer for debugging.</span></span>  <span data-ttu-id="8a7df-136">（[按一下以查看完整大小的影像](understanding-asp-net-ajax-debugging-capabilities/_static/image3.png)）</span><span class="sxs-lookup"><span data-stu-id="8a7df-136">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image3.png))</span></span>

<span data-ttu-id="8a7df-137">開啟偵錯工具後，您會看到新的功能表項目出現在名為 [腳本偵錯工具] 的 [View] 功能表中。</span><span class="sxs-lookup"><span data-stu-id="8a7df-137">Once debugging has been turned on, you'll see a new menu item appear in the View menu named Script Debugger.</span></span> <span data-ttu-id="8a7df-138">它有兩個可用的選項，包括在下一個語句中開啟和中斷。</span><span class="sxs-lookup"><span data-stu-id="8a7df-138">It has two options available including Open and Break at Next Statement.</span></span> <span data-ttu-id="8a7df-139">選取 [開啟] 時，系統會提示您在 Visual Studio 2008 中進行頁面的偵錯工具（請注意，Visual Web Developer Express 也可以用來進行偵錯工具）。</span><span class="sxs-lookup"><span data-stu-id="8a7df-139">When Open is selected you'll be prompted to debug the page in Visual Studio 2008 (note that Visual Web Developer Express can also be used for debugging).</span></span> <span data-ttu-id="8a7df-140">如果 Visual Studio .NET 目前正在執行，您可以選擇使用該實例或建立新的實例。</span><span class="sxs-lookup"><span data-stu-id="8a7df-140">If Visual Studio .NET is currently running you can choose to use that instance or to create a new instance.</span></span> <span data-ttu-id="8a7df-141">當選取 [在下一個語句中斷] 時，系統會提示您在執行 JavaScript 程式碼時，將頁面進行偵錯工具。</span><span class="sxs-lookup"><span data-stu-id="8a7df-141">When Break at Next Statement is selected you'll be prompted to debug the page when JavaScript code is executed.</span></span> <span data-ttu-id="8a7df-142">如果 JavaScript 程式碼在頁面的 onLoad 事件中執行，您可以重新整理頁面，以觸發「偵錯工具」會話。</span><span class="sxs-lookup"><span data-stu-id="8a7df-142">If JavaScript code executes in the onLoad event of the page you can refresh the page to trigger a debug session.</span></span> <span data-ttu-id="8a7df-143">如果在按一下按鈕之後執行 JavaScript 程式碼，則在按一下按鈕之後，就會立即執行偵錯工具。</span><span class="sxs-lookup"><span data-stu-id="8a7df-143">If JavaScript code is run after a button is clicked then the debugger will run immediately after the button is clicked.</span></span>

> [!NOTE]
> <span data-ttu-id="8a7df-144">如果您是在啟用使用者存取控制（UAC）的 Windows Vista 上執行，而且 Visual Studio 2008 設定為以系統管理員身分執行，則當系統提示您附加時，Visual Studio 將無法附加至進程。</span><span class="sxs-lookup"><span data-stu-id="8a7df-144">If you're running on Windows Vista with User Access Control (UAC) enabled, and you have Visual Studio 2008 set to run as an administrator, Visual Studio will fail to attach to the process when you are prompted to attach.</span></span> <span data-ttu-id="8a7df-145">若要解決此問題，請先啟動 Visual Studio，然後使用該實例來進行 debug。</span><span class="sxs-lookup"><span data-stu-id="8a7df-145">To work around this issue, start Visual Studio first, and use that instance to debug.</span></span>

<span data-ttu-id="8a7df-146">雖然下一節將示範如何直接從 Visual Studio 2008 內進行 ASP.NET AJAX 頁面的偵錯工具，但使用 Internet Explorer 腳本偵錯工具選項在頁面已開啟，而您想要更完整地進行檢查時，是很有用的。</span><span class="sxs-lookup"><span data-stu-id="8a7df-146">Although the next section will demonstrate how to debug an ASP.NET AJAX page directly from within Visual Studio 2008, using the Internet Explorer Script Debugger option is useful when a page is already open and you'd like to more fully inspect it.</span></span>

## <a name="debugging-with-visual-studio-2008"></a><span data-ttu-id="8a7df-147">使用 Visual Studio 2008 進行調試</span><span class="sxs-lookup"><span data-stu-id="8a7df-147">Debugging with Visual Studio 2008</span></span>

<span data-ttu-id="8a7df-148">Visual Studio 2008 提供了偵錯工具功能，讓世界各地的開發人員依賴每日來進行 .NET 應用程式的 debug。</span><span class="sxs-lookup"><span data-stu-id="8a7df-148">Visual Studio 2008 provides debugging functionality that developers around the world rely on everyday to debug .NET applications.</span></span> <span data-ttu-id="8a7df-149">內建的偵錯工具可讓您逐步執行程式碼、查看物件資料、監看特定變數、監視呼叫堆疊，再加上更多。</span><span class="sxs-lookup"><span data-stu-id="8a7df-149">The built-in debugger allows you to step through code, view object data, watch for specific variables, monitor the call stack plus much more.</span></span> <span data-ttu-id="8a7df-150">除了偵錯工具 VB.NET 或C#程式碼之外，偵錯工具也有助於對 ASP.NET AJAX 應用程式進行檢查，並可讓您逐行執行 JavaScript 程式碼。</span><span class="sxs-lookup"><span data-stu-id="8a7df-150">In addition to debugging VB.NET or C# code, the debugger is also helpful for debugging ASP.NET AJAX applications and will allow you to step through JavaScript code line by line.</span></span> <span data-ttu-id="8a7df-151">後面的詳細資料著重于可用來對用戶端腳本檔案進行偵錯工具的技術，而不是提供語篇使用 Visual Studio 2008 來對應用程式進行整體的處理。</span><span class="sxs-lookup"><span data-stu-id="8a7df-151">The details that follow focus on techniques that can be used to debug client-side script files rather than providing a discourse on the overall process of debugging applications using Visual Studio 2008.</span></span>

<span data-ttu-id="8a7df-152">在 Visual Studio 2008 中，可以透過數種不同的方式來啟動偵錯工具的處理常式。</span><span class="sxs-lookup"><span data-stu-id="8a7df-152">The process of debugging a page in Visual Studio 2008 can be started in several different ways.</span></span> <span data-ttu-id="8a7df-153">首先，您可以使用上一節中所述的 Internet Explorer 腳本偵錯工具選項。</span><span class="sxs-lookup"><span data-stu-id="8a7df-153">First, you can use the Internet Explorer Script Debugger option mentioned in the previous section.</span></span> <span data-ttu-id="8a7df-154">當頁面已經載入瀏覽器中，而且您想要開始對它進行調試時，這項功能就很好用。</span><span class="sxs-lookup"><span data-stu-id="8a7df-154">This works well when a page is already loaded in the browser and you'd like to start debugging it.</span></span> <span data-ttu-id="8a7df-155">或者，您也可以在方案總管中的 .aspx 頁面上按一下滑鼠右鍵，然後從功能表中選取 [設定為起始頁]。</span><span class="sxs-lookup"><span data-stu-id="8a7df-155">Alternatively, you can right-click on an .aspx page in the Solution Explorer and select Set As Start Page from the menu.</span></span> <span data-ttu-id="8a7df-156">如果您習慣進行 ASP.NET 網頁的調試，則您可能會在之前完成此作業。</span><span class="sxs-lookup"><span data-stu-id="8a7df-156">If you're accustomed to debugging ASP.NET pages then you've probably done this before.</span></span> <span data-ttu-id="8a7df-157">按下 F5 之後，就可以調試頁面。</span><span class="sxs-lookup"><span data-stu-id="8a7df-157">Once F5 is pressed the page can be debugged.</span></span> <span data-ttu-id="8a7df-158">不過，雖然您通常可以在 VB.NET 或C#程式碼中的任何位置設定中斷點，但 JavaScript 的情況並不一定，因為您會在下一步看到。</span><span class="sxs-lookup"><span data-stu-id="8a7df-158">However, while you can generally set a breakpoint anywhere you'd like in VB.NET or C# code, that's not always the case with JavaScript as you'll see next.</span></span>

<span data-ttu-id="8a7df-159">*內嵌與外部腳本*</span><span class="sxs-lookup"><span data-stu-id="8a7df-159">*Embedded Versus External Scripts*</span></span>

<span data-ttu-id="8a7df-160">Visual Studio 2008 偵錯工具會將 JavaScript 內嵌在與外部 JavaScript 檔案不同的頁面中。</span><span class="sxs-lookup"><span data-stu-id="8a7df-160">The Visual Studio 2008 debugger treats JavaScript embedded in a page different than external JavaScript files.</span></span> <span data-ttu-id="8a7df-161">使用外部腳本檔案時，您可以開啟檔案，並在您選擇的任何一行上設定中斷點。</span><span class="sxs-lookup"><span data-stu-id="8a7df-161">With external script files, you can open the file and set a breakpoint on any line you choose.</span></span> <span data-ttu-id="8a7df-162">按一下 [程式碼編輯器] 視窗左側的灰色紙匣區域，即可設定中斷點。</span><span class="sxs-lookup"><span data-stu-id="8a7df-162">Breakpoints can be set by clicking in the grey tray area to the left of the code editor window.</span></span> <span data-ttu-id="8a7df-163">當 JavaScript 使用 `<script>` 標籤直接內嵌到頁面時，按一下灰色的紙匣區域中的設定中斷點並不是選項。</span><span class="sxs-lookup"><span data-stu-id="8a7df-163">When JavaScript is embedded directly into a page using the `<script>` tag, setting a breakpoint by clicking in the grey tray area isn't an option.</span></span> <span data-ttu-id="8a7df-164">嘗試在內嵌腳本的程式程式碼上設定中斷點，會產生指出「這不是中斷點的有效位置」的警告。</span><span class="sxs-lookup"><span data-stu-id="8a7df-164">Attempts to set a breakpoint on a line of embedded script will result in a warning that states "This is not a valid location for a breakpoint".</span></span>

<span data-ttu-id="8a7df-165">若要解決這個問題，您可以將程式碼移到外部 .js 檔案，然後使用 &lt;腳本&gt; 標記的 src 屬性來參考它：</span><span class="sxs-lookup"><span data-stu-id="8a7df-165">You can get around this issue by moving the code into an external .js file and referencing it using the src attribute of the &lt;script&gt; tag:</span></span>

[!code-html[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample1.html)]

<span data-ttu-id="8a7df-166">如果將程式碼移到外部檔案不是一個選項，或是需要的工作不太值得這麼做，該怎麼辦？</span><span class="sxs-lookup"><span data-stu-id="8a7df-166">What if moving the code into an external file isn't an option or requires more work than it's worth?</span></span> <span data-ttu-id="8a7df-167">當您無法使用編輯器來設定中斷點時，您可以將偵錯工具語句直接加入您想要開始進行偵錯工具的程式碼中。</span><span class="sxs-lookup"><span data-stu-id="8a7df-167">While you can't set a breakpoint using the editor, you can add the debugger statement directly into the code where you'd like to start debugging.</span></span> <span data-ttu-id="8a7df-168">您也可以使用 ASP.NET AJAX 程式庫中提供的 Sys.databases 類別來強制開始進行調試。</span><span class="sxs-lookup"><span data-stu-id="8a7df-168">You can also use the Sys.Debug class available in the ASP.NET AJAX library to force debugging to start.</span></span> <span data-ttu-id="8a7df-169">您將會在本文稍後進一步瞭解 Sys.databases 類別。</span><span class="sxs-lookup"><span data-stu-id="8a7df-169">You'll learn more about the Sys.Debug class later in this article.</span></span>

<span data-ttu-id="8a7df-170">[清單 1] 顯示使用 `debugger` 關鍵字的範例。</span><span class="sxs-lookup"><span data-stu-id="8a7df-170">An example of using the `debugger` keyword is shown in Listing 1.</span></span> <span data-ttu-id="8a7df-171">這個範例會強制偵錯工具在進行 update 函式的呼叫之前中斷。</span><span class="sxs-lookup"><span data-stu-id="8a7df-171">This example forces the debugger to break right before a call to an update function is made.</span></span>

<span data-ttu-id="8a7df-172">**清單1。使用偵錯工具關鍵字來強制 Visual Studio .NET 偵錯工具中斷。**</span><span class="sxs-lookup"><span data-stu-id="8a7df-172">**Listing 1. Using the debugger keyword to force the Visual Studio .NET debugger to break.**</span></span>

[!code-javascript[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample2.js)]

<span data-ttu-id="8a7df-173">一旦叫用偵錯工具語句，系統會提示您使用 Visual Studio .NET 來將頁面進行 debug，並且可以開始逐步執行程式碼。</span><span class="sxs-lookup"><span data-stu-id="8a7df-173">Once the debugger statement is hit you will be prompted to debug the page using Visual Studio .NET and can begin stepping through the code.</span></span> <span data-ttu-id="8a7df-174">執行此動作時，您可能會遇到存取頁面中所使用之 ASP.NET AJAX library 腳本檔案的問題，讓我們來看一下如何使用 Visual Studio。NET 的腳本瀏覽器。</span><span class="sxs-lookup"><span data-stu-id="8a7df-174">While doing this you may encounter an issue with accessing ASP.NET AJAX library script files used in the page so let's take a look at using Visual Studio .NET's Script Explorer.</span></span>

## <a name="using-visual-studio-net-windows-to-debug"></a><span data-ttu-id="8a7df-175">使用 Visual Studio 的 .NET 視窗進行 Debug</span><span class="sxs-lookup"><span data-stu-id="8a7df-175">Using Visual Studio .NET Windows to Debug</span></span>

<span data-ttu-id="8a7df-176">啟動 debug 會話並開始使用預設的 F11 鍵來逐步執行程式碼之後，您可能會遇到如 [圖 2] 所示的錯誤對話方塊，除非頁面中使用的所有腳本檔案都已開啟且可供進行偵錯工具。</span><span class="sxs-lookup"><span data-stu-id="8a7df-176">Once a debug session is started and you begin walking through code using the default F11 key, you may encounter the error dialog shown in see Figure 2 unless all script files used in the page are open and available for debugging.</span></span>

<span data-ttu-id="8a7df-177">[當沒有可用於進行偵錯工具的原始程式碼時，會顯示 ![錯誤] 對話方塊。](understanding-asp-net-ajax-debugging-capabilities/_static/image5.png)(understanding-asp-net-ajax-debugging-capabilities/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="8a7df-177">[![Error dialog shown when no source code is available for debugging.](understanding-asp-net-ajax-debugging-capabilities/_static/image5.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image4.png)</span></span>

<span data-ttu-id="8a7df-178">**圖 2**：沒有原始程式碼可供偵錯工具時，所顯示的錯誤對話方塊。</span><span class="sxs-lookup"><span data-stu-id="8a7df-178">**Figure 2**: Error dialog shown when no source code is available for debugging.</span></span>  <span data-ttu-id="8a7df-179">（[按一下以查看完整大小的影像](understanding-asp-net-ajax-debugging-capabilities/_static/image6.png)）</span><span class="sxs-lookup"><span data-stu-id="8a7df-179">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image6.png))</span></span>

<span data-ttu-id="8a7df-180">這個對話方塊會顯示，因為 Visual Studio .NET 並不確定如何取得頁面所參考之部分腳本的原始程式碼。</span><span class="sxs-lookup"><span data-stu-id="8a7df-180">This dialog is shown because Visual Studio .NET isn't sure how to get to the source code of some of the scripts referenced by the page.</span></span> <span data-ttu-id="8a7df-181">雖然這一開始可能很令人沮喪，但還是有一個簡單的修正方法。</span><span class="sxs-lookup"><span data-stu-id="8a7df-181">While this can be quite frustrating at first, there's a simple fix.</span></span> <span data-ttu-id="8a7df-182">當您啟動 debug 會話並叫用中斷點之後，請移至 [Visual Studio 2008] 功能表上的 [Debug Windows Script Explorer] 視窗，或使用 Ctrl + Alt + N 熱鍵。</span><span class="sxs-lookup"><span data-stu-id="8a7df-182">Once you have started a debug session and hit a breakpoint, go to the Debug Windows Script Explorer window on the Visual Studio 2008 menu or use the Ctrl+Alt+N hotkey.</span></span>

> [!NOTE]
> <span data-ttu-id="8a7df-183">如果您看不到列出的 [腳本瀏覽器] 功能表，請移至 [**工具**] > 在 [Visual Studio .net] 功能表上**自訂** > **命令**。</span><span class="sxs-lookup"><span data-stu-id="8a7df-183">If you can't see the Script Explorer menu listed, go to **Tools** > **Customize** > **Commands** on the Visual Studio .NET menu.</span></span> <span data-ttu-id="8a7df-184">在 [類別] 區段中找出 [ **Debug** ] 專案，然後按一下它以顯示所有可用的功能表項目。</span><span class="sxs-lookup"><span data-stu-id="8a7df-184">Locate the **Debug** entry in the Categories section and click it to show all available menu entries.</span></span> <span data-ttu-id="8a7df-185">在 [命令] 清單中，向下流覽至 [腳本瀏覽器]，然後將它拖曳到稍早所述的 [Debug Windows] 功能表上。</span><span class="sxs-lookup"><span data-stu-id="8a7df-185">In the Commands list, scroll down to Script Explorer and then drag it up onto the Debug Windows menu in mentioned earlier.</span></span> <span data-ttu-id="8a7df-186">如此一來，每當您執行 Visual Studio .NET 時，都可以使用 [腳本瀏覽器] 功能表項目。</span><span class="sxs-lookup"><span data-stu-id="8a7df-186">Doing this will make the Script Explorer menu entry available each time you run Visual Studio .NET.</span></span>

<span data-ttu-id="8a7df-187">[腳本瀏覽器] 可以用來查看頁面中使用的所有腳本，並在程式碼編輯器中開啟它們。</span><span class="sxs-lookup"><span data-stu-id="8a7df-187">The Script Explorer can be used to view all scripts used in a page and open them in the code editor.</span></span> <span data-ttu-id="8a7df-188">開啟 [腳本瀏覽器] 之後，按兩下目前正在進行調試的 .aspx 頁面，在程式碼編輯器視窗中開啟它。</span><span class="sxs-lookup"><span data-stu-id="8a7df-188">Once the Script Explorer is open, double-click on the .aspx page currently being debugged to open it in the code editor window.</span></span> <span data-ttu-id="8a7df-189">對腳本瀏覽器中顯示的所有其他腳本執行相同的動作。</span><span class="sxs-lookup"><span data-stu-id="8a7df-189">Perform the same action for all of the other scripts shown in the Script Explorer.</span></span> <span data-ttu-id="8a7df-190">在程式碼視窗中開啟所有腳本之後，您可以按 F11 鍵（並使用其他的 debug 快速鍵）來逐步執行程式碼。</span><span class="sxs-lookup"><span data-stu-id="8a7df-190">Once all of the scripts are open in the code window you can press F11 (and use the other debug hotkeys) to step through your code.</span></span> <span data-ttu-id="8a7df-191">[圖 3] 顯示腳本瀏覽器的範例。</span><span class="sxs-lookup"><span data-stu-id="8a7df-191">Figure 3 shows an example of the Script Explorer.</span></span> <span data-ttu-id="8a7df-192">它會列出目前正在進行調試的檔案（示範 .aspx）以及兩個自訂腳本，以及由 ASP.NET AJAX ScriptManager 動態插入至頁面的兩個腳本。</span><span class="sxs-lookup"><span data-stu-id="8a7df-192">It lists the current file being debugged (Demo.aspx) as well as two custom scripts and two scripts dynamically injected into the page by the ASP.NET AJAX ScriptManager.</span></span>

<span data-ttu-id="8a7df-193">[![[腳本] Explorer 可讓您輕鬆存取頁面中使用的腳本。](understanding-asp-net-ajax-debugging-capabilities/_static/image8.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="8a7df-193">[![The Script Explorer provides easy access to scripts used in a page.](understanding-asp-net-ajax-debugging-capabilities/_static/image8.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image7.png)</span></span>

<span data-ttu-id="8a7df-194">[**圖 3**]</span><span class="sxs-lookup"><span data-stu-id="8a7df-194">**Figure 3**.</span></span> <span data-ttu-id="8a7df-195">[腳本瀏覽器] 可讓您輕鬆存取頁面中使用的腳本。</span><span class="sxs-lookup"><span data-stu-id="8a7df-195">The Script Explorer provides easy access to scripts used in a page.</span></span>  <span data-ttu-id="8a7df-196">（[按一下以查看完整大小的影像](understanding-asp-net-ajax-debugging-capabilities/_static/image9.png)）</span><span class="sxs-lookup"><span data-stu-id="8a7df-196">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image9.png))</span></span>

<span data-ttu-id="8a7df-197">當您逐步執行頁面中的程式碼時，也可以使用數個其他視窗來提供有用的資訊。</span><span class="sxs-lookup"><span data-stu-id="8a7df-197">Several others windows can also be used to provide useful information as you step through code in a page.</span></span> <span data-ttu-id="8a7df-198">例如，您可以使用 [區域變數] 視窗來查看頁面中使用之不同變數的值，[即時運算] 視窗會評估特定的變數或條件，並查看輸出。</span><span class="sxs-lookup"><span data-stu-id="8a7df-198">For example, you can use the Locals window to see the values of different variables used in the page, the Immediate window to evaluate specific variables or conditions and view the output.</span></span> <span data-ttu-id="8a7df-199">您也可以使用 [輸出] 視窗來查看使用 Sys.databases. Debug 函式（將于本文稍後說明）或 Internet Explorer 的 writeln 函數所寫出的追蹤語句。</span><span class="sxs-lookup"><span data-stu-id="8a7df-199">You can also use the Output window to view trace statements written out using the Sys.Debug.trace function (which will be covered later in this article) or Internet Explorer's Debug.writeln function.</span></span>

<span data-ttu-id="8a7df-200">當您使用偵錯工具逐步執行程式碼時，您可以將滑鼠停留在程式碼中的變數上，以查看其所指派的值。</span><span class="sxs-lookup"><span data-stu-id="8a7df-200">As you step through code using the debugger you can mouse over variables in the code to view the value that they are assigned.</span></span> <span data-ttu-id="8a7df-201">不過，當您將滑鼠停留在指定的 JavaScript 變數上時，腳本偵錯工具偶爾不會顯示任何專案。</span><span class="sxs-lookup"><span data-stu-id="8a7df-201">However, the script debugger occasionally won't show anything as you mouse over a given JavaScript variable.</span></span> <span data-ttu-id="8a7df-202">若要查看值，請反白顯示您嘗試在 [程式碼編輯器] 視窗中看到的語句或變數，然後將滑鼠移至其上方。</span><span class="sxs-lookup"><span data-stu-id="8a7df-202">To see the value, highlight the statement or variable you're trying to see in the code editor window and then mouse over it.</span></span> <span data-ttu-id="8a7df-203">雖然這項技術在每種情況下都不適用，但是您可以在不需要查看不同的調試視窗（例如 [區域變數] 視窗）中查看值。</span><span class="sxs-lookup"><span data-stu-id="8a7df-203">Although this technique doesn't work in every situation, many times you will be able to see the value without having to look in a different debug window such as the Locals window.</span></span>

<span data-ttu-id="8a7df-204">示範這裡所討論的一些功能的影片教學課程，可以在[http://www.xmlforasp.net](http://www.xmlforasp.net)觀看。</span><span class="sxs-lookup"><span data-stu-id="8a7df-204">A video tutorial demonstrating some of the features discussed here can be viewed at [http://www.xmlforasp.net](http://www.xmlforasp.net).</span></span>

## <a name="debugging-with-web-development-helper"></a><span data-ttu-id="8a7df-205">使用 Web 開發 Helper 進行偵錯工具</span><span class="sxs-lookup"><span data-stu-id="8a7df-205">Debugging With Web Development Helper</span></span>

<span data-ttu-id="8a7df-206">雖然 Visual Studio 2008 （和 Visual Web Developer Express 2008）是功能強大的偵錯工具，但還有其他選項可供使用，而且較輕量。</span><span class="sxs-lookup"><span data-stu-id="8a7df-206">Although Visual Studio 2008 (and Visual Web Developer Express 2008) are very capable debugging tools, there are additional options that can be used as well which are more light-weight.</span></span> <span data-ttu-id="8a7df-207">其中一個要發行的最新工具是 Web 開發 Helper。</span><span class="sxs-lookup"><span data-stu-id="8a7df-207">One of the latest tools to be released is the Web Development Helper.</span></span> <span data-ttu-id="8a7df-208">Microsoft 的 Nikhil Kothari （Microsoft 的其中一個關鍵 ASP.NET AJAX 架構設計人員）撰寫了這項絕佳的工具，可從簡單的偵錯工具執行許多不同的工作，以查看 HTTP 要求和回應訊息。</span><span class="sxs-lookup"><span data-stu-id="8a7df-208">Microsoft's Nikhil Kothari (one of the key ASP.NET AJAX architects at Microsoft) wrote this excellent tool which can perform many different tasks from simple debugging to viewing HTTP request and response messages.</span></span> <span data-ttu-id="8a7df-209">您可以在[http://projects.nikhilk.net/Projects/WebDevHelper.aspx](http://projects.nikhilk.net/Projects/WebDevHelper.aspx)下載 Web 開發協助程式。</span><span class="sxs-lookup"><span data-stu-id="8a7df-209">Web Development Helper can be downloaded at [http://projects.nikhilk.net/Projects/WebDevHelper.aspx](http://projects.nikhilk.net/Projects/WebDevHelper.aspx).</span></span>

<span data-ttu-id="8a7df-210">Web 開發協助程式可以直接在 Internet Explorer 內部使用，方便您使用。</span><span class="sxs-lookup"><span data-stu-id="8a7df-210">Web Development helper can be used directly inside of Internet Explorer which makes it convenient to use.</span></span> <span data-ttu-id="8a7df-211">其啟動方式是從 Internet Explorer 功能表中選取 [工具] [Web 開發 Helper]。</span><span class="sxs-lookup"><span data-stu-id="8a7df-211">It's started by selecting Tools Web Development Helper from the Internet Explorer menu.</span></span> <span data-ttu-id="8a7df-212">這會在瀏覽器的下半部開啟工具，這很好用，因為您不需要離開瀏覽器來執行數項工作，例如 HTTP 要求和回應訊息記錄。</span><span class="sxs-lookup"><span data-stu-id="8a7df-212">This will open the tool in the bottom portion of the browser which is nice since you don't have to leave the browser to perform several tasks such as HTTP request and response message logging.</span></span> <span data-ttu-id="8a7df-213">[圖 4] 顯示 Web 開發 Helper 的外觀。</span><span class="sxs-lookup"><span data-stu-id="8a7df-213">Figure 4 shows what Web Development Helper looks like in action.</span></span>

<span data-ttu-id="8a7df-214">[![Web 開發 Helper](understanding-asp-net-ajax-debugging-capabilities/_static/image11.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="8a7df-214">[![Web Development Helper](understanding-asp-net-ajax-debugging-capabilities/_static/image11.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image10.png)</span></span>

<span data-ttu-id="8a7df-215">**圖 4**：Web 開發 Helper （[按一下以觀看完整大小的影像](understanding-asp-net-ajax-debugging-capabilities/_static/image12.png)）</span><span class="sxs-lookup"><span data-stu-id="8a7df-215">**Figure 4**: Web Development Helper  ([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image12.png))</span></span>

<span data-ttu-id="8a7df-216">Web 開發 helper 不是您將用來逐行執行程式碼的工具，如同 Visual Studio 2008。</span><span class="sxs-lookup"><span data-stu-id="8a7df-216">Web Development helper isn't a tool you'll use to step through code line by line as with Visual Studio 2008.</span></span> <span data-ttu-id="8a7df-217">不過，它可以用來查看追蹤輸出、輕鬆評估腳本中的變數，或是探索 JSON 物件內的資料。</span><span class="sxs-lookup"><span data-stu-id="8a7df-217">However, it can be used to view trace output, easily evaluate variables in a script or explore data is inside of a JSON object.</span></span> <span data-ttu-id="8a7df-218">它也非常適合用來查看傳遞至 ASP.NET AJAX 頁面和伺服器的資料。</span><span class="sxs-lookup"><span data-stu-id="8a7df-218">It's also very useful for viewing data that is passed to and from an ASP.NET AJAX page and a server.</span></span>

<span data-ttu-id="8a7df-219">在 Internet Explorer 中開啟 Web 開發 Helper 之後，必須從 Web 開發 Helper 功能表選取 [腳本] [啟用腳本]，以啟用腳本的偵錯工具，如 [圖 4] 稍早所示。</span><span class="sxs-lookup"><span data-stu-id="8a7df-219">Once Web Development Helper is open in Internet Explorer, script debugging must be enabled by selecting Script Enable Script Debugging from the Web Development helper menu as shown earlier in Figure 4.</span></span> <span data-ttu-id="8a7df-220">這可讓工具攔截在執行頁面時所發生的錯誤。</span><span class="sxs-lookup"><span data-stu-id="8a7df-220">This enables the tool to intercept errors that occur as a page is run.</span></span> <span data-ttu-id="8a7df-221">它也可讓您輕鬆存取頁面中輸出的追蹤訊息。</span><span class="sxs-lookup"><span data-stu-id="8a7df-221">It also allows easy access to trace messages that are output in the page.</span></span> <span data-ttu-id="8a7df-222">若要在頁面中查看追蹤資訊或執行指令碼命令以測試不同的函式，請從 Web 開發 Helper 功能表選取 [腳本] [顯示腳本主控台]。</span><span class="sxs-lookup"><span data-stu-id="8a7df-222">To view trace information or execute script commands to test different functions within a page, select Script Show Script Console from the Web Development Helper menu.</span></span> <span data-ttu-id="8a7df-223">這可讓您存取 [命令] 視窗和簡單的 [即時運算] 視窗。</span><span class="sxs-lookup"><span data-stu-id="8a7df-223">This provides access to a command window and a simple immediate window.</span></span>

<span data-ttu-id="8a7df-224">*查看追蹤訊息和 JSON 物件資料*</span><span class="sxs-lookup"><span data-stu-id="8a7df-224">*Viewing Trace Messages and JSON Object Data*</span></span>

<span data-ttu-id="8a7df-225">[即時運算] 視窗可用來執行指令碼命令，或甚至載入或儲存用來測試頁面中不同功能的腳本。</span><span class="sxs-lookup"><span data-stu-id="8a7df-225">The immediate window can be used to execute script commands or even load or save scripts that are used to test different functions in a page.</span></span> <span data-ttu-id="8a7df-226">[命令] 視窗會顯示所要查看的頁面所寫出的追蹤或 debug 訊息。</span><span class="sxs-lookup"><span data-stu-id="8a7df-226">The command window displays trace or debug messages written out by the page being viewed.</span></span> <span data-ttu-id="8a7df-227">[清單 2] 顯示如何使用 Internet Explorer 的 writeln 函數撰寫追蹤訊息。</span><span class="sxs-lookup"><span data-stu-id="8a7df-227">Listing 2 shows how to write a trace message using Internet Explorer's Debug.writeln function.</span></span>

<span data-ttu-id="8a7df-228">**[清單 2]。使用 Debug 類別寫出用戶端追蹤訊息。**</span><span class="sxs-lookup"><span data-stu-id="8a7df-228">**Listing 2. Writing out a client-side trace message using the Debug class.**</span></span>

[!code-javascript[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample3.js)]

<span data-ttu-id="8a7df-229">如果 LastName 屬性包含 Doe 的值，Web 開發協助程式會顯示訊息「人員名稱：Doe "在腳本主控台的命令視窗中（假設已啟用偵錯工具）。</span><span class="sxs-lookup"><span data-stu-id="8a7df-229">If the LastName property contains a value of Doe, Web Development Helper will display the message "Person name: Doe" in the script console's command window (assuming that debugging has been enabled).</span></span> <span data-ttu-id="8a7df-230">Web 開發協助程式也會在頁面中新增最上層的 debugService 物件，以用來寫出追蹤資訊或查看 JSON 物件的內容。</span><span class="sxs-lookup"><span data-stu-id="8a7df-230">Web Development Helper also adds a top-level debugService object into pages that can be used to write out trace information or view the content of JSON objects.</span></span> <span data-ttu-id="8a7df-231">[清單 3] 顯示使用 debugService 類別之 trace 函數的範例。</span><span class="sxs-lookup"><span data-stu-id="8a7df-231">Listing 3 shows an example of using the debugService class's trace function.</span></span>

<span data-ttu-id="8a7df-232">**[清單 3]。使用 Web 開發 Helper 的 debugService 類別來撰寫追蹤訊息。**</span><span class="sxs-lookup"><span data-stu-id="8a7df-232">**Listing 3. Using Web Development Helper's debugService class to write a trace message.**</span></span>

[!code-javascript[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample4.js)]

<span data-ttu-id="8a7df-233">DebugService 類別有一個不錯的功能，就是即使在 Internet Explorer 中未啟用「偵測」，也能讓您在 Web 開發 Helper 執行時輕鬆地存取追蹤資料，這也是很好的。</span><span class="sxs-lookup"><span data-stu-id="8a7df-233">A nice feature of the debugService class is that it will work even if debugging isn't enabled in Internet Explorer making it easy to always access trace data when Web Development Helper is running.</span></span> <span data-ttu-id="8a7df-234">當此工具不是用來對頁面進行 debug 時，將會忽略 trace 語句，因為呼叫 debugService 將會傳回 false。</span><span class="sxs-lookup"><span data-stu-id="8a7df-234">When the tool isn't being used to debug a page, trace statements will be ignored since the call to window.debugService will return false.</span></span>

<span data-ttu-id="8a7df-235">DebugService 類別也可讓您使用 Web 開發 Helper 的 [偵測器] 視窗來查看 JSON 物件資料。</span><span class="sxs-lookup"><span data-stu-id="8a7df-235">The debugService class also allows JSON object data to be viewed using Web Development Helper's inspector window.</span></span> <span data-ttu-id="8a7df-236">[清單 4] 會建立包含人員資料的簡單 JSON 物件。</span><span class="sxs-lookup"><span data-stu-id="8a7df-236">Listing 4 creates a simple JSON object containing person data.</span></span> <span data-ttu-id="8a7df-237">建立物件之後，會呼叫 debugService 類別的檢查函式，以允許以視覺化方式檢查 JSON 物件。</span><span class="sxs-lookup"><span data-stu-id="8a7df-237">Once the object is created, a call is made to the debugService class's inspect function to allow the JSON object to be visually inspected.</span></span>

<span data-ttu-id="8a7df-238">**[清單 4]。使用 debugService 函數來查看 JSON 物件資料。**</span><span class="sxs-lookup"><span data-stu-id="8a7df-238">**Listing 4. Using the debugService.inspect function to view JSON object data.**</span></span>

[!code-javascript[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample5.js)]

<span data-ttu-id="8a7df-239">在頁面中或透過 [即時運算] 視窗呼叫 GetPerson （）函式，會導致 [物件偵測器] 對話方塊視窗出現，如 [圖 5] 所示。</span><span class="sxs-lookup"><span data-stu-id="8a7df-239">Calling the GetPerson() function in the page or through the immediate window will result in the Object Inspector dialog window appearing as shown in Figure 5.</span></span> <span data-ttu-id="8a7df-240">您可以藉由反白顯示物件內的屬性，變更 [值] 文字方塊中顯示的值，然後按一下 [更新] 連結，以動態方式變更。</span><span class="sxs-lookup"><span data-stu-id="8a7df-240">Properties within the object can be changed dynamically by highlighting them, changing the value shown in the Value text box and then clicking the Update link.</span></span> <span data-ttu-id="8a7df-241">使用物件偵測器可讓您直接查看 JSON 物件資料，並實驗將不同的值套用至屬性。</span><span class="sxs-lookup"><span data-stu-id="8a7df-241">Using the Object Inspector makes it straightforward to view JSON object data and experiment with applying different values to properties.</span></span>

<span data-ttu-id="8a7df-242">*調試錯誤*</span><span class="sxs-lookup"><span data-stu-id="8a7df-242">*Debugging Errors*</span></span>

<span data-ttu-id="8a7df-243">除了允許顯示追蹤資料和 JSON 物件之外，Web 開發 helper 也可以協助在頁面中偵測錯誤。</span><span class="sxs-lookup"><span data-stu-id="8a7df-243">In addition to allowing trace data and JSON objects to be displayed, Web Development helper can also aid in debugging errors in a page.</span></span> <span data-ttu-id="8a7df-244">如果發生錯誤，系統會提示您繼續進行下一行程式碼，或對腳本進行偵錯工具（請參閱 [圖 6]）。</span><span class="sxs-lookup"><span data-stu-id="8a7df-244">If an error is encountered, you will be prompted to continue to the next line of code or debug the script (see Figure 6).</span></span> <span data-ttu-id="8a7df-245">[腳本錯誤] 對話方塊視窗會顯示完整的呼叫堆疊以及行號，讓您可以輕鬆地識別問題在腳本中的位置。</span><span class="sxs-lookup"><span data-stu-id="8a7df-245">The Script Error dialog window shows the complete call stack as well as line numbers so you can easily identify where issues are within a script.</span></span>

<span data-ttu-id="8a7df-246">[![使用 [物件偵測器] 視窗來查看 JSON 物件。](understanding-asp-net-ajax-debugging-capabilities/_static/image14.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="8a7df-246">[![Using the Object Inspector window to view a JSON object.](understanding-asp-net-ajax-debugging-capabilities/_static/image14.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image13.png)</span></span>

<span data-ttu-id="8a7df-247">**圖 5**：使用 [物件偵測器] 視窗來查看 JSON 物件。</span><span class="sxs-lookup"><span data-stu-id="8a7df-247">**Figure 5**: Using the Object Inspector window to view a JSON object.</span></span>  <span data-ttu-id="8a7df-248">（[按一下以查看完整大小的影像](understanding-asp-net-ajax-debugging-capabilities/_static/image15.png)）</span><span class="sxs-lookup"><span data-stu-id="8a7df-248">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image15.png))</span></span>

<span data-ttu-id="8a7df-249">選取 [偵錯工具] 選項可讓您直接在 Web 開發 Helper 的 [即時運算] 視窗中執行腳本語句，以查看變數的值、寫出 JSON 物件，再加上更多。</span><span class="sxs-lookup"><span data-stu-id="8a7df-249">Selecting the debug option allows you to execute script statements directly in Web Development Helper's immediate window to view the value of variables, write out JSON objects, plus more.</span></span> <span data-ttu-id="8a7df-250">如果再次執行觸發錯誤的相同動作，而且電腦上有 Visual Studio 2008，系統會提示您啟動 debug 會話，讓您可以逐步執行程式程式碼，如前一節所討論。</span><span class="sxs-lookup"><span data-stu-id="8a7df-250">If the same action that triggered the error is performed again and Visual Studio 2008 is available on the machine, you will be prompted to start a debug session so that you can step through the code line by line as discussed in the previous section.</span></span>

<span data-ttu-id="8a7df-251">[![Web 開發 Helper 的腳本錯誤對話方塊](understanding-asp-net-ajax-debugging-capabilities/_static/image17.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="8a7df-251">[![Web Development Helper's Script Error Dialog](understanding-asp-net-ajax-debugging-capabilities/_static/image17.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image16.png)</span></span>

<span data-ttu-id="8a7df-252">**圖 6**：Web 開發 Helper 的腳本錯誤對話方塊（[按一下以查看完整大小的影像](understanding-asp-net-ajax-debugging-capabilities/_static/image18.png)）</span><span class="sxs-lookup"><span data-stu-id="8a7df-252">**Figure 6**: Web Development Helper's Script Error Dialog  ([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image18.png))</span></span>

<span data-ttu-id="8a7df-253">*檢查要求和回應訊息*</span><span class="sxs-lookup"><span data-stu-id="8a7df-253">*Inspecting Request and Response Messages*</span></span>

<span data-ttu-id="8a7df-254">在調試 ASP.NET AJAX 頁面時，查看頁面與伺服器之間傳送的要求和回應訊息通常會很有用。</span><span class="sxs-lookup"><span data-stu-id="8a7df-254">While debugging ASP.NET AJAX pages it is often useful to see request and response messages sent between a page and server.</span></span> <span data-ttu-id="8a7df-255">在訊息內查看內容可讓您查看是否傳遞了適當的資料，以及訊息的大小。</span><span class="sxs-lookup"><span data-stu-id="8a7df-255">Viewing the content within messages allows you to see if the proper data is being passed as well as the size of the messages.</span></span> <span data-ttu-id="8a7df-256">Web 開發 Helper 提供絕佳的 HTTP 訊息記錄器功能，可讓您輕鬆地以原始文字或更容易閱讀的格式來查看資料。</span><span class="sxs-lookup"><span data-stu-id="8a7df-256">Web Development Helper provides an excellent HTTP message logger feature that makes it easy to view data as raw text or in a more readable format.</span></span>

<span data-ttu-id="8a7df-257">若要查看 ASP.NET AJAX 要求和回應訊息，必須啟用 HTTP 記錄器，方法是從 Web 開發 Helper 功能表選取 [HTTP] [啟用 HTTP 記錄]。</span><span class="sxs-lookup"><span data-stu-id="8a7df-257">To view ASP.NET AJAX request and response messages, the HTTP logger must be enabled by selecting HTTP Enable HTTP Logging from the Web Development Helper menu.</span></span> <span data-ttu-id="8a7df-258">啟用之後，您可以在 HTTP 記錄檢視器中查看從目前頁面傳送的所有訊息，方法是選取 [HTTP] [顯示 HTTP 記錄] 來存取。</span><span class="sxs-lookup"><span data-stu-id="8a7df-258">Once enabled, all messages sent from the current page can be viewed in the HTTP log viewer which can be accessed by selecting HTTP Show HTTP Logs.</span></span>

<span data-ttu-id="8a7df-259">雖然查看每個要求/回應訊息中所傳送的原始文字確實有用（以及 Web 開發 Helper 中的選項），但通常更容易以更圖形化的格式來查看訊息資料。</span><span class="sxs-lookup"><span data-stu-id="8a7df-259">Although viewing the raw text sent in each request/response message is certainly useful (and an option in Web Development Helper), it is often easier to view message data in a more graphical format.</span></span> <span data-ttu-id="8a7df-260">啟用 HTTP 記錄並記錄訊息之後，您可以按兩下 HTTP 記錄檢視器中的訊息，以查看訊息資料。</span><span class="sxs-lookup"><span data-stu-id="8a7df-260">Once HTTP logging has been enabled and messages have been logged, message data can be viewed by double-clicking on the message in the HTTP log viewer.</span></span> <span data-ttu-id="8a7df-261">這麼做可讓您查看所有與訊息相關聯的標頭，以及實際的訊息內容。</span><span class="sxs-lookup"><span data-stu-id="8a7df-261">Doing this allows you to view all headers associated with a message as well as the actual message content.</span></span> <span data-ttu-id="8a7df-262">[圖 7] 顯示在 [HTTP 記錄檔檢視器] 視窗中查看的要求訊息和回應訊息的範例。</span><span class="sxs-lookup"><span data-stu-id="8a7df-262">Figure 7 shows an example of a request message and response message viewed in the HTTP Log Viewer window.</span></span>

<span data-ttu-id="8a7df-263">[![使用 HTTP 記錄檢視器來查看要求和回應訊息資料。](understanding-asp-net-ajax-debugging-capabilities/_static/image20.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="8a7df-263">[![Using the HTTP Log Viewer to view request and response message data.](understanding-asp-net-ajax-debugging-capabilities/_static/image20.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image19.png)</span></span>

<span data-ttu-id="8a7df-264">**圖 7**：使用 HTTP 記錄檢視器來查看要求和回應訊息資料。</span><span class="sxs-lookup"><span data-stu-id="8a7df-264">**Figure 7**: Using the HTTP Log Viewer to view request and response message data.</span></span>  <span data-ttu-id="8a7df-265">（[按一下以查看完整大小的影像](understanding-asp-net-ajax-debugging-capabilities/_static/image21.png)）</span><span class="sxs-lookup"><span data-stu-id="8a7df-265">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image21.png))</span></span>

<span data-ttu-id="8a7df-266">HTTP 記錄檢視器會自動剖析 JSON 物件，並使用樹狀檢視加以顯示，讓您快速且輕鬆地查看物件的屬性資料。</span><span class="sxs-lookup"><span data-stu-id="8a7df-266">The HTTP Log Viewer automatically parses JSON objects and displays them using a tree view making it quick and easy to view the object's property data.</span></span> <span data-ttu-id="8a7df-267">當 UpdatePanel 在 ASP.NET AJAX 頁面中使用時，檢視器會將訊息的每個部分細分為個別元件，如 [圖 8] 所示。</span><span class="sxs-lookup"><span data-stu-id="8a7df-267">When an UpdatePanel is being used in an ASP.NET AJAX page, the viewer breaks out each portion of the message into individual parts as shown in Figure 8.</span></span> <span data-ttu-id="8a7df-268">這是很棒的功能，可讓您更輕鬆地查看和瞭解訊息中的內容，與查看原始訊息資料相較之下。</span><span class="sxs-lookup"><span data-stu-id="8a7df-268">This is a great feature that makes it much easier to see and understand what is in the message as compared to viewing the raw message data.</span></span>

<span data-ttu-id="8a7df-269">[![使用 HTTP 記錄檢視器所查看的 UpdatePanel 回應訊息。](understanding-asp-net-ajax-debugging-capabilities/_static/image23.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="8a7df-269">[![An UpdatePanel response message viewed using the HTTP Log Viewer.](understanding-asp-net-ajax-debugging-capabilities/_static/image23.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image22.png)</span></span>

<span data-ttu-id="8a7df-270">**圖 8**：使用 HTTP 記錄檢視器查看的 UpdatePanel 回應訊息。</span><span class="sxs-lookup"><span data-stu-id="8a7df-270">**Figure 8**: An UpdatePanel response message viewed using the HTTP Log Viewer.</span></span>  <span data-ttu-id="8a7df-271">（[按一下以查看完整大小的影像](understanding-asp-net-ajax-debugging-capabilities/_static/image24.png)）</span><span class="sxs-lookup"><span data-stu-id="8a7df-271">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image24.png))</span></span>

<span data-ttu-id="8a7df-272">除了 Web 開發 Helper 以外，還有其他幾項工具可用來查看要求和回應訊息。</span><span class="sxs-lookup"><span data-stu-id="8a7df-272">There are several other tools that can be used to view request and response messages in addition to Web Development Helper.</span></span> <span data-ttu-id="8a7df-273">另一個不錯的選項是 Fiddler，可在[http://www.fiddlertool.com](http://www.fiddlertool.com)免費使用。</span><span class="sxs-lookup"><span data-stu-id="8a7df-273">Another good option is Fiddler which is available for free at [http://www.fiddlertool.com](http://www.fiddlertool.com).</span></span> <span data-ttu-id="8a7df-274">雖然這裡不會討論 Fiddler，但當您需要徹底檢查訊息標頭和資料時，這也是個不錯的選項。</span><span class="sxs-lookup"><span data-stu-id="8a7df-274">Although Fiddler will not be discussed here, it is also a good option when you need to thoroughly inspect message headers and data.</span></span>

## <a name="debugging-with-firefox-and-firebug"></a><span data-ttu-id="8a7df-275">使用 Firefox 和 Firebug 進行調試</span><span class="sxs-lookup"><span data-stu-id="8a7df-275">Debugging with Firefox and Firebug</span></span>

<span data-ttu-id="8a7df-276">雖然 Internet Explorer 仍然是最普遍使用的瀏覽器，但 Firefox 之類的其他瀏覽器也變得很熱門，而且使用的也越來越多。</span><span class="sxs-lookup"><span data-stu-id="8a7df-276">While Internet Explorer is still the most widely used browser, other browsers such as Firefox have become quite popular and are being used more and more.</span></span> <span data-ttu-id="8a7df-277">因此，您會想要在 Firefox 和 Internet Explorer 中查看和檢查 ASP.NET AJAX 頁面，以確保您的應用程式能正常運作。</span><span class="sxs-lookup"><span data-stu-id="8a7df-277">As a result, you'll want to view and debug your ASP.NET AJAX pages in Firefox as well as Internet Explorer to ensure that your applications work properly.</span></span> <span data-ttu-id="8a7df-278">雖然 Firefox 無法直接系結至 Visual Studio 2008 以進行偵錯工具，但它有一個稱為 Firebug 的擴充功能，可用來對頁面進行偵錯工具。</span><span class="sxs-lookup"><span data-stu-id="8a7df-278">Although Firefox can't tie directly into Visual Studio 2008 for debugging, it has an extension called Firebug that can be used to debug pages.</span></span> <span data-ttu-id="8a7df-279">Firebug 可以免費下載，方法是前往[http://www.getfirebug.com](http://www.getfirebug.com)。</span><span class="sxs-lookup"><span data-stu-id="8a7df-279">Firebug can be downloaded for free by going to [http://www.getfirebug.com](http://www.getfirebug.com).</span></span>

<span data-ttu-id="8a7df-280">Firebug 提供全功能的偵錯工具環境，可用來逐行執行程式碼、存取頁面中使用的所有腳本、查看 DOM 結構、顯示 CSS 樣式，甚至追蹤頁面中發生的事件。</span><span class="sxs-lookup"><span data-stu-id="8a7df-280">Firebug provides a full-featured debugging environment that can be used to step through code line by line, access all scripts used within a page, view DOM structures, display CSS styles and even track events that occur in a page.</span></span> <span data-ttu-id="8a7df-281">安裝之後，您可以從 Firefox 功能表中選取 [工具] [Firebug] [開啟 Firebug] 來存取 Firebug。</span><span class="sxs-lookup"><span data-stu-id="8a7df-281">Once installed, Firebug can be accessed by selecting Tools Firebug Open Firebug from the Firefox menu.</span></span> <span data-ttu-id="8a7df-282">就像 Web 開發 Helper 一樣，Firebug 會直接在瀏覽器中使用，不過它也可以當做獨立的應用程式使用。</span><span class="sxs-lookup"><span data-stu-id="8a7df-282">Like Web Development Helper, Firebug is used directly in the browser although it can also be used as a stand-alone application.</span></span>

<span data-ttu-id="8a7df-283">一旦 Firebug 執行，不論腳本是否內嵌在頁面中，都可以在 JavaScript 檔案的任何一行上設定中斷點。</span><span class="sxs-lookup"><span data-stu-id="8a7df-283">Once Firebug is running, breakpoints can be set on any line of a JavaScript file whether the script is embedded in a page or not.</span></span> <span data-ttu-id="8a7df-284">若要設定中斷點，請先載入您想要在 Firefox 中進行 debug 的適當頁面。</span><span class="sxs-lookup"><span data-stu-id="8a7df-284">To set a breakpoint, first load the appropriate page you'd like to debug in Firefox.</span></span> <span data-ttu-id="8a7df-285">載入頁面之後，請從 Firebug 的 [腳本] 下拉式清單中選取要進行 debug 的腳本。</span><span class="sxs-lookup"><span data-stu-id="8a7df-285">Once the page is loaded, select the script to debug from Firebug's Scripts drop-down list.</span></span> <span data-ttu-id="8a7df-286">頁面所使用的所有腳本都會顯示出來。</span><span class="sxs-lookup"><span data-stu-id="8a7df-286">All scripts used by the page will be shown.</span></span> <span data-ttu-id="8a7df-287">若要設定中斷點，您可以在 Firebug 的灰色紙匣區域中按一下中斷點所在的行，就像您在 Visual Studio 2008 中所做的一樣。</span><span class="sxs-lookup"><span data-stu-id="8a7df-287">A breakpoint is set by clicking in Firebug's grey tray area on the line where the breakpoint should go must like you would do in Visual Studio 2008.</span></span>

<span data-ttu-id="8a7df-288">在 Firebug 中設定中斷點之後，您可以執行必要的動作來執行需要進行調試的腳本，例如按一下按鈕或重新整理瀏覽器以觸發 onLoad 事件。</span><span class="sxs-lookup"><span data-stu-id="8a7df-288">Once a breakpoint has been set in Firebug you can perform the action required to execute the script that needs to be debugged such as clicking a button or refreshing the browser to trigger the onLoad event.</span></span> <span data-ttu-id="8a7df-289">執行會在包含中斷點的行上自動停止。</span><span class="sxs-lookup"><span data-stu-id="8a7df-289">Execution will automatically stop on the line containing the breakpoint.</span></span> <span data-ttu-id="8a7df-290">[圖 9] 顯示 Firebug 中已觸發中斷點的範例。</span><span class="sxs-lookup"><span data-stu-id="8a7df-290">Figure 9 shows an example of a breakpoint that has been triggered in Firebug.</span></span>

<span data-ttu-id="8a7df-291">[![在 Firebug 中處理中斷點。](understanding-asp-net-ajax-debugging-capabilities/_static/image26.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="8a7df-291">[![Handling breakpoints in Firebug.](understanding-asp-net-ajax-debugging-capabilities/_static/image26.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image25.png)</span></span>

<span data-ttu-id="8a7df-292">**圖 9**：處理 Firebug 中的中斷點。</span><span class="sxs-lookup"><span data-stu-id="8a7df-292">**Figure 9**: Handling breakpoints in Firebug.</span></span>  <span data-ttu-id="8a7df-293">（[按一下以查看完整大小的影像](understanding-asp-net-ajax-debugging-capabilities/_static/image27.png)）</span><span class="sxs-lookup"><span data-stu-id="8a7df-293">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image27.png))</span></span>

<span data-ttu-id="8a7df-294">到達中斷點之後，您就可以使用箭號按鈕逐步執行、不進入或跳過程式碼。</span><span class="sxs-lookup"><span data-stu-id="8a7df-294">Once a breakpoint is hit you can step into, step over or step out of code using the arrow buttons.</span></span> <span data-ttu-id="8a7df-295">當您逐步執行程式碼時，腳本變數會顯示在偵錯工具的右側部分，讓您可以查看值並向下切入至物件。</span><span class="sxs-lookup"><span data-stu-id="8a7df-295">As you step through code, script variables are displayed in the right-hand portion of the debugger allowing you to see values and drill-down into objects.</span></span> <span data-ttu-id="8a7df-296">Firebug 也包含 [呼叫堆疊] 下拉式清單，可讓您查看腳本的執行步驟，而這會導致目前正在進行調試的一行。</span><span class="sxs-lookup"><span data-stu-id="8a7df-296">Firebug also includes a Call Stack drop-down list to view the script's execution steps that led up to the current line being debugged.</span></span>

<span data-ttu-id="8a7df-297">Firebug 也包含一個主控台視窗，可以用來測試不同的腳本語句、評估變數及查看追蹤輸出。</span><span class="sxs-lookup"><span data-stu-id="8a7df-297">Firebug also includes a console window that can be used to test different script statements, evaluate variables and view trace output.</span></span> <span data-ttu-id="8a7df-298">您可以按一下 [Firebug] 視窗頂端的 [主控台] 索引標籤來存取它。</span><span class="sxs-lookup"><span data-stu-id="8a7df-298">It is accessed by clicking on the Console tab at the top of the Firebug window.</span></span> <span data-ttu-id="8a7df-299">您也可以按一下 [檢查] 索引標籤，「檢查」要進行調試的頁面，以查看其 DOM 結構和內容。當您將滑鼠停留在 [偵測器] 視窗中顯示的不同 DOM 元素上方時，頁面的適當部分將會反白顯示，讓您可以輕鬆地查看該專案在頁面中的使用位置。</span><span class="sxs-lookup"><span data-stu-id="8a7df-299">The page being debugged can also be "inspected" to see its DOM structure and contents by clicking on the Inspect tab. As you mouse over the different DOM elements shown in the inspector window the appropriate portion of the page will be highlighted making it easy to see where the element is used in the page.</span></span> <span data-ttu-id="8a7df-300">與指定專案相關聯的屬性值可以變更為「即時」，以實驗將不同的寬度、樣式等專案套用至元素。</span><span class="sxs-lookup"><span data-stu-id="8a7df-300">Attribute values associated with a given element can be changed "live" to experiment with applying different widths, styles, etc. to an element.</span></span> <span data-ttu-id="8a7df-301">這是很好的功能，可讓您不需要在原始程式碼編輯器和 Firefox 瀏覽器之間持續切換，以查看簡單的變更對頁面的影響。</span><span class="sxs-lookup"><span data-stu-id="8a7df-301">This is a nice feature that saves you from having to constantly switch between the source code editor and the Firefox browser to view how simple changes affect a page.</span></span>

<span data-ttu-id="8a7df-302">[圖 10] 顯示在頁面中使用 DOM 偵測器來尋找名為 txtCountry 的 textbox 的範例。</span><span class="sxs-lookup"><span data-stu-id="8a7df-302">Figure 10 shows an example of using the DOM inspector to locate a textbox named txtCountry in the page.</span></span> <span data-ttu-id="8a7df-303">Firebug 偵測器也可以用來查看頁面中使用的 CSS 樣式，以及追蹤滑鼠移動、按鈕點擊等事件。</span><span class="sxs-lookup"><span data-stu-id="8a7df-303">The Firebug inspector can also be used to view CSS styles used in a page as well as events that occur such as tracking mouse movements, button clicks, plus more.</span></span>

<span data-ttu-id="8a7df-304">[![使用 Firebug 的 DOM 偵測器。](understanding-asp-net-ajax-debugging-capabilities/_static/image29.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="8a7df-304">[![Using Firebug's DOM inspector.](understanding-asp-net-ajax-debugging-capabilities/_static/image29.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image28.png)</span></span>

<span data-ttu-id="8a7df-305">**圖 10**：使用 Firebug 的 DOM 偵測器。</span><span class="sxs-lookup"><span data-stu-id="8a7df-305">**Figure 10**: Using Firebug's DOM inspector.</span></span>  <span data-ttu-id="8a7df-306">（[按一下以查看完整大小的影像](understanding-asp-net-ajax-debugging-capabilities/_static/image30.png)）</span><span class="sxs-lookup"><span data-stu-id="8a7df-306">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image30.png))</span></span>

<span data-ttu-id="8a7df-307">Firebug 提供了輕量的方法，可直接在 Firefox 中快速地對頁面進行偵錯工具，以及檢查頁面內的不同元素的絕佳工具。</span><span class="sxs-lookup"><span data-stu-id="8a7df-307">Firebug provides a light-weight way to quickly debug a page directly in Firefox as well as an excellent tool for inspecting different elements within the page.</span></span>

## <a name="debugging-support-in-aspnet-ajax"></a><span data-ttu-id="8a7df-308">ASP.NET AJAX 中的調試支援</span><span class="sxs-lookup"><span data-stu-id="8a7df-308">Debugging Support in ASP.NET AJAX</span></span>

<span data-ttu-id="8a7df-309">ASP.NET AJAX library 包含許多不同的類別，可用來簡化將 AJAX 功能新增至網頁的程式。</span><span class="sxs-lookup"><span data-stu-id="8a7df-309">The ASP.NET AJAX library includes many different classes that can be used to simplify the process of adding AJAX capabilities into a Webpage.</span></span> <span data-ttu-id="8a7df-310">您可以使用這些類別來尋找頁面中的專案，並進行操作、加入新的控制項、呼叫 Web 服務，甚至處理事件。</span><span class="sxs-lookup"><span data-stu-id="8a7df-310">You can use these classes to locate elements within a page and manipulate them, add new controls, call Web Services and even handle events.</span></span> <span data-ttu-id="8a7df-311">ASP.NET AJAX 程式庫也包含類別，可以用來增強偵錯工具頁面的處理常式。</span><span class="sxs-lookup"><span data-stu-id="8a7df-311">The ASP.NET AJAX library also contains classes that can be used to enhance the process of debugging pages.</span></span> <span data-ttu-id="8a7df-312">在本節中，您將會介紹 Sys.databases 類別，並瞭解如何在應用程式中使用它。</span><span class="sxs-lookup"><span data-stu-id="8a7df-312">In this section you'll be introduced to the Sys.Debug class and see how it can be used in applications.</span></span>

<span data-ttu-id="8a7df-313">*使用 Sys.databases 類別*</span><span class="sxs-lookup"><span data-stu-id="8a7df-313">*Using the Sys.Debug class*</span></span>

<span data-ttu-id="8a7df-314">Sys.databases 類別（位於 Sys 命名空間中的 JavaScript 類別）可以用來執行數個不同的函式，包括撰寫追蹤輸出、執行程式碼判斷提示和強制程式碼失敗，以便進行調試。</span><span class="sxs-lookup"><span data-stu-id="8a7df-314">The Sys.Debug class (a JavaScript class located in the Sys namespace) can be used to perform several different functions including writing trace output, performing code assertions and forcing code to fail so that it can be debugged.</span></span> <span data-ttu-id="8a7df-315">它廣泛用於 ASP.NET AJAX 程式庫的 debug 檔案（安裝于 C:\Program Files\Microsoft ASP. NET\ASP.NET 2.0 AJAX Extensions\v1.0.61025\MicrosoftAjaxLibrary\System.Web.Extensions\1.0.61025.0）以執行條件式測試（所謂的判斷提示），可確保參數正確地傳遞至函式，該物件包含預期的資料並寫入追蹤語句。</span><span class="sxs-lookup"><span data-stu-id="8a7df-315">It is used extensively in the ASP.NET AJAX library's debug files (installed at C:\Program Files\Microsoft ASP.NET\ASP.NET 2.0 AJAX Extensions\v1.0.61025\MicrosoftAjaxLibrary\System.Web.Extensions\1.0.61025.0 by default) to perform conditional tests (called assertions) that ensure parameters are passed properly to functions, that objects contain the expected data and to write trace statements.</span></span>

<span data-ttu-id="8a7df-316">Sys.databases 類別會公開數個不同的函數，可用來處理追蹤、程式碼判斷提示或失敗，如 [表 1] 所示。</span><span class="sxs-lookup"><span data-stu-id="8a7df-316">The Sys.Debug class exposes several different functions that can be used to handle tracing, code assertions or failures as shown in Table 1.</span></span>

<span data-ttu-id="8a7df-317">**表1。Sys.databases 類別函式。**</span><span class="sxs-lookup"><span data-stu-id="8a7df-317">**Table 1. Sys.Debug class functions.**</span></span>

| <span data-ttu-id="8a7df-318">**函式名稱**</span><span class="sxs-lookup"><span data-stu-id="8a7df-318">**Function Name**</span></span> | <span data-ttu-id="8a7df-319">**描述**</span><span class="sxs-lookup"><span data-stu-id="8a7df-319">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="8a7df-320">assert （條件、訊息、displayCaller）</span><span class="sxs-lookup"><span data-stu-id="8a7df-320">assert(condition, message, displayCaller)</span></span> | <span data-ttu-id="8a7df-321">判斷條件參數為 true 的判斷提示。</span><span class="sxs-lookup"><span data-stu-id="8a7df-321">Asserts that the condition parameter is true.</span></span> <span data-ttu-id="8a7df-322">如果要測試的條件為 false，則會使用訊息方塊來顯示訊息參數值。</span><span class="sxs-lookup"><span data-stu-id="8a7df-322">If the condition being tested is false, a message box will be used to display the message parameter value.</span></span> <span data-ttu-id="8a7df-323">如果 displayCaller 參數為 true，此方法也會顯示呼叫端的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="8a7df-323">If the displayCaller parameter is true, the method also displays information about the caller.</span></span> |
| <span data-ttu-id="8a7df-324">clearTrace()</span><span class="sxs-lookup"><span data-stu-id="8a7df-324">clearTrace()</span></span> | <span data-ttu-id="8a7df-325">清除追蹤作業的語句輸出。</span><span class="sxs-lookup"><span data-stu-id="8a7df-325">Erases statements output from tracing operations.</span></span> |
| <span data-ttu-id="8a7df-326">失敗（訊息）</span><span class="sxs-lookup"><span data-stu-id="8a7df-326">fail(message)</span></span> | <span data-ttu-id="8a7df-327">導致程式停止執行，並中斷偵錯工具。</span><span class="sxs-lookup"><span data-stu-id="8a7df-327">Causes the program to stop execution and break into the debugger.</span></span> <span data-ttu-id="8a7df-328">Message 參數可以用來提供失敗的原因。</span><span class="sxs-lookup"><span data-stu-id="8a7df-328">The message parameter can be used to provide a reason for the failure.</span></span> |
| <span data-ttu-id="8a7df-329">追蹤（訊息）</span><span class="sxs-lookup"><span data-stu-id="8a7df-329">trace(message)</span></span> | <span data-ttu-id="8a7df-330">將 message 參數寫入追蹤輸出。</span><span class="sxs-lookup"><span data-stu-id="8a7df-330">Writes the message parameter to the trace output.</span></span> |
| <span data-ttu-id="8a7df-331">traceDump （object，name）</span><span class="sxs-lookup"><span data-stu-id="8a7df-331">traceDump(object, name)</span></span> | <span data-ttu-id="8a7df-332">以可讀取的格式輸出物件的資料。</span><span class="sxs-lookup"><span data-stu-id="8a7df-332">Outputs an object's data in a readable format.</span></span> <span data-ttu-id="8a7df-333">Name 參數可以用來提供追蹤傾印的標籤。</span><span class="sxs-lookup"><span data-stu-id="8a7df-333">The name parameter can be used to provide a label for the trace dump.</span></span> <span data-ttu-id="8a7df-334">預設會寫出要傾印之物件內的任何子物件。</span><span class="sxs-lookup"><span data-stu-id="8a7df-334">Any sub-objects within the object being dumped will be written out by default.</span></span> |

<span data-ttu-id="8a7df-335">用戶端追蹤的使用方式與 ASP.NET 中可用的追蹤功能大致相同。</span><span class="sxs-lookup"><span data-stu-id="8a7df-335">Client-side tracing can be used in much the same way as the tracing functionality available in ASP.NET.</span></span> <span data-ttu-id="8a7df-336">它可讓您輕鬆看到不同的訊息，而不會中斷應用程式的流程。</span><span class="sxs-lookup"><span data-stu-id="8a7df-336">It allows different messages to easily be seen without interrupting the flow of the application.</span></span> <span data-ttu-id="8a7df-337">[清單 5] 顯示使用 Sys.databases 函數寫入追蹤記錄檔的範例。</span><span class="sxs-lookup"><span data-stu-id="8a7df-337">Listing 5 shows an example of using the Sys.Debug.trace function to write to the trace log.</span></span> <span data-ttu-id="8a7df-338">此函式只會採用應該寫出做為參數的訊息。</span><span class="sxs-lookup"><span data-stu-id="8a7df-338">This function simply takes the message that should be written out as a parameter.</span></span>

<span data-ttu-id="8a7df-339">**[清單 5]。使用 Sys.databases 函數。**</span><span class="sxs-lookup"><span data-stu-id="8a7df-339">**Listing 5. Using the Sys.Debug.trace function.**</span></span>

[!code-javascript[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample6.js)]

<span data-ttu-id="8a7df-340">如果您執行 [清單 5] 中顯示的程式碼，就不會在頁面中看到任何追蹤輸出。</span><span class="sxs-lookup"><span data-stu-id="8a7df-340">If you execute the code shown in Listing 5 you won't see any trace output in the page.</span></span> <span data-ttu-id="8a7df-341">若要查看此功能，唯一的方法是使用 Visual Studio .NET、Web 開發 Helper 或 Firebug 中提供的主控台視窗。</span><span class="sxs-lookup"><span data-stu-id="8a7df-341">The only way to see it is to use a console window available in Visual Studio .NET, Web Development Helper or Firebug.</span></span> <span data-ttu-id="8a7df-342">如果您想要在頁面中查看追蹤輸出，您必須加入 TextArea 標記並為其提供 TraceConsole 的識別碼，如下所示：</span><span class="sxs-lookup"><span data-stu-id="8a7df-342">If you do want to see the trace output in the page then you'll need to add a TextArea tag and give it an id of TraceConsole as shown next:</span></span>

[!code-html[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample7.html)]

<span data-ttu-id="8a7df-343">頁面中的任何 Sys.databases 語句都會寫入到 TraceConsole 區。</span><span class="sxs-lookup"><span data-stu-id="8a7df-343">Any Sys.Debug.trace statements in the page will be written to the TraceConsole TextArea.</span></span>

<span data-ttu-id="8a7df-344">如果您想要查看包含在 JSON 物件中的資料，您可以使用 Sys.databases 類別的 traceDump 函數。</span><span class="sxs-lookup"><span data-stu-id="8a7df-344">In cases where you want to see the data contained within a JSON object you can use the Sys.Debug class's traceDump function.</span></span> <span data-ttu-id="8a7df-345">此函式採用兩個參數，包括應傾印到追蹤主控台的物件，以及可用於識別追蹤輸出中物件的名稱。</span><span class="sxs-lookup"><span data-stu-id="8a7df-345">This function takes two parameters including the object that should be dumped to the trace console and a name that can be used to identify the object in the trace output.</span></span> <span data-ttu-id="8a7df-346">[清單 6] 顯示使用 traceDump 函數的範例。</span><span class="sxs-lookup"><span data-stu-id="8a7df-346">Listing 6 shows an example of using the traceDump function.</span></span>

<span data-ttu-id="8a7df-347">**清單6。使用 traceDump 函數。**</span><span class="sxs-lookup"><span data-stu-id="8a7df-347">**Listing 6. Using the Sys.Debug.traceDump function.**</span></span>

[!code-javascript[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample8.js)]

<span data-ttu-id="8a7df-348">[圖 11] 顯示呼叫 traceDump 函數的輸出。</span><span class="sxs-lookup"><span data-stu-id="8a7df-348">Figure 11 shows the output from calling the Sys.Debug.traceDump function.</span></span> <span data-ttu-id="8a7df-349">請注意，除了寫出 Person 物件的資料外，它也會寫出位址子物件的資料。</span><span class="sxs-lookup"><span data-stu-id="8a7df-349">Notice that in addition to writing out the Person object's data, it also writes out the Address sub-object's data.</span></span>

<span data-ttu-id="8a7df-350">除了追蹤，Sys.databases 類別也可以用來執行程式碼判斷提示。</span><span class="sxs-lookup"><span data-stu-id="8a7df-350">In addition to tracing, the Sys.Debug class can also be used to perform code assertions.</span></span> <span data-ttu-id="8a7df-351">判斷提示可用來測試應用程式在執行時是否符合特定條件。</span><span class="sxs-lookup"><span data-stu-id="8a7df-351">Assertions are used to test that specific conditions are met while an application is running.</span></span> <span data-ttu-id="8a7df-352">ASP.NET AJAX 程式庫腳本的 debug 版本包含數個判斷提示語句，可用於測試各種不同的條件。</span><span class="sxs-lookup"><span data-stu-id="8a7df-352">The debug version of the ASP.NET AJAX library scripts contain several assert statements to test a variety of conditions.</span></span>

<span data-ttu-id="8a7df-353">[清單 7] 顯示使用 Sys.databases 函數來測試條件的範例。</span><span class="sxs-lookup"><span data-stu-id="8a7df-353">Listing 7 shows an example of using the Sys.Debug.assert function to test a condition.</span></span> <span data-ttu-id="8a7df-354">在更新 Person 物件之前，程式碼會測試位址物件是否為 null。</span><span class="sxs-lookup"><span data-stu-id="8a7df-354">The code tests whether or not the Address object is null before updating a Person object.</span></span>

<span data-ttu-id="8a7df-355">[traceDump 函數的 ![輸出。](understanding-asp-net-ajax-debugging-capabilities/_static/image32.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="8a7df-355">[![Output of the Sys.Debug.traceDump function.](understanding-asp-net-ajax-debugging-capabilities/_static/image32.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image31.png)</span></span>

<span data-ttu-id="8a7df-356">**圖 11**：TraceDump 函數的輸出。</span><span class="sxs-lookup"><span data-stu-id="8a7df-356">**Figure 11**: Output of the Sys.Debug.traceDump function.</span></span>  <span data-ttu-id="8a7df-357">（[按一下以查看完整大小的影像](understanding-asp-net-ajax-debugging-capabilities/_static/image33.png)）</span><span class="sxs-lookup"><span data-stu-id="8a7df-357">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image33.png))</span></span>

<span data-ttu-id="8a7df-358">**[清單 7]。使用 debug. assert 函數。**</span><span class="sxs-lookup"><span data-stu-id="8a7df-358">**Listing 7. Using the debug.assert function.**</span></span>

[!code-javascript[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample9.js)]

<span data-ttu-id="8a7df-359">傳遞了三個參數，包括要評估的條件、判斷提示傳回 false 時要顯示的訊息，以及是否應該顯示呼叫端的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="8a7df-359">Three parameters are passed including the condition to evaluate, the message to display if the assertion returns false and whether or not information about the caller should be displayed.</span></span> <span data-ttu-id="8a7df-360">在判斷提示失敗的情況下，如果第三個參數為 true，則會顯示訊息，以及呼叫端資訊。</span><span class="sxs-lookup"><span data-stu-id="8a7df-360">In cases where an assertion fails, the message will be displayed as well as caller information if the third parameter was true.</span></span> <span data-ttu-id="8a7df-361">[圖 12] 顯示在 [清單 7] 中顯示的判斷提示失敗時，所顯示的 [失敗] 對話方塊範例。</span><span class="sxs-lookup"><span data-stu-id="8a7df-361">Figure 12 shows an example of the failure dialog that appears if the assertion shown in Listing 7 fails.</span></span>

<span data-ttu-id="8a7df-362">要涵蓋的最後一個函式是 Sys.databases. Debug。 fail。</span><span class="sxs-lookup"><span data-stu-id="8a7df-362">The final function to cover is Sys.Debug.fail.</span></span> <span data-ttu-id="8a7df-363">當您想要強制程式碼在腳本中的特定行上失敗時，可以新增 Sys.databases，而不是 JavaScript 應用程式中通常使用的偵錯工具語句。</span><span class="sxs-lookup"><span data-stu-id="8a7df-363">When you want to force code to fail on a particular line in a script you can add a Sys.Debug.fail call rather than the debugger statement typically used in JavaScript applications.</span></span> <span data-ttu-id="8a7df-364">Sys.databases 函式會接受代表失敗原因的單一字串參數，如下所示：</span><span class="sxs-lookup"><span data-stu-id="8a7df-364">The Sys.Debug.fail function accepts a single string parameter that represents the reason for the failure as shown next:</span></span>

[!code-css[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample10.css)]

<span data-ttu-id="8a7df-365">[![Sys.databases 失敗訊息。](understanding-asp-net-ajax-debugging-capabilities/_static/image35.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="8a7df-365">[![A Sys.Debug.assert failure message.](understanding-asp-net-ajax-debugging-capabilities/_static/image35.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image34.png)</span></span>

<span data-ttu-id="8a7df-366">**圖 12**：Sys.databases 失敗訊息。</span><span class="sxs-lookup"><span data-stu-id="8a7df-366">**Figure 12**: A Sys.Debug.assert failure message.</span></span>  <span data-ttu-id="8a7df-367">（[按一下以查看完整大小的影像](understanding-asp-net-ajax-debugging-capabilities/_static/image36.png)）</span><span class="sxs-lookup"><span data-stu-id="8a7df-367">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image36.png))</span></span>

<span data-ttu-id="8a7df-368">當腳本執行時遇到 Sys.databases 失敗語句時，message 參數的值將會顯示在 debug 應用程式的主控台中，例如 Visual Studio 2008，而且系統會提示您進行應用程式的偵錯工具。</span><span class="sxs-lookup"><span data-stu-id="8a7df-368">When a Sys.Debug.fail statement is encountered while a script is executing, the value of the message parameter will be displayed in the console of a debug application such as Visual Studio 2008 and you'll be prompted to debug the application.</span></span> <span data-ttu-id="8a7df-369">當您無法在內嵌腳本上設定 Visual Studio 2008 的中斷點，但想要讓程式碼在特定行上停止，以便檢查變數的值時，這種情況會非常有用。</span><span class="sxs-lookup"><span data-stu-id="8a7df-369">One case where this can be quite useful is when you can't set a breakpoint with Visual Studio 2008 on an inline script but would like the code to stop on particular line so you can inspect the value of variables.</span></span>

<span data-ttu-id="8a7df-370">*瞭解 ScriptManager 控制項的 ScriptMode 屬性*</span><span class="sxs-lookup"><span data-stu-id="8a7df-370">*Understanding the ScriptManager Control's ScriptMode Property*</span></span>

<span data-ttu-id="8a7df-371">ASP.NET AJAX library 包含預設安裝于 C:\Program Files\Microsoft ASP. NET\ASP.NET 2.0 AJAX Extensions\v1.0.61025\MicrosoftAjaxLibrary\System.Web.Extensions\1.0.61025.0 的 debug 和 release 腳本版本。</span><span class="sxs-lookup"><span data-stu-id="8a7df-371">The ASP.NET AJAX library includes debug and release script versions that are installed at C:\Program Files\Microsoft ASP.NET\ASP.NET 2.0 AJAX Extensions\v1.0.61025\MicrosoftAjaxLibrary\System.Web.Extensions\1.0.61025.0 by default.</span></span> <span data-ttu-id="8a7df-372">Debug 腳本的格式正確、容易閱讀，而且有數個 Sys.databases。判斷提示會散佈在其中，而釋放腳本會移除空白字元，並謹慎使用 Sys.databases 類別，將其整體大小降到最低。</span><span class="sxs-lookup"><span data-stu-id="8a7df-372">The debug scripts are nicely formatted, easy to read and have several Sys.Debug.assert calls scattered throughout them while the release scripts have whitespace stripped out and use the Sys.Debug class sparingly to minimize their overall size.</span></span>

<span data-ttu-id="8a7df-373">加入至 ASP.NET AJAX 頁面的 ScriptManager 控制項會讀取 web.config 中的編譯專案的 debug 屬性，以決定要載入的程式庫腳本版本。</span><span class="sxs-lookup"><span data-stu-id="8a7df-373">The ScriptManager control added to ASP.NET AJAX pages reads the compilation element's debug attribute in web.config to determine which versions of library scripts to load.</span></span> <span data-ttu-id="8a7df-374">不過，您可以藉由變更 ScriptMode 屬性來控制是否已載入 debug 或 release 腳本（程式庫腳本或您自己的自訂腳本）。</span><span class="sxs-lookup"><span data-stu-id="8a7df-374">However, you can control if debug or release scripts are loaded (library scripts or your own custom scripts) by changing the ScriptMode property.</span></span> <span data-ttu-id="8a7df-375">ScriptMode 會接受 ScriptMode 列舉，其成員包括 Auto、Debug、Release 和 Inherit。</span><span class="sxs-lookup"><span data-stu-id="8a7df-375">ScriptMode accepts a ScriptMode enumeration whose members include Auto, Debug, Release and Inherit.</span></span>

<span data-ttu-id="8a7df-376">ScriptMode 預設為 Auto 的值，這表示 ScriptManager 會檢查 web.config 中的 debug 屬性。當 debug 為 false 時，ScriptManager 會載入 ASP.NET AJAX library 腳本的發行版本。</span><span class="sxs-lookup"><span data-stu-id="8a7df-376">ScriptMode defaults to a value of Auto which means that the ScriptManager will check the debug attribute in web.config. When debug is false the ScriptManager will load the release version of ASP.NET AJAX library scripts.</span></span> <span data-ttu-id="8a7df-377">當 debug 為 true 時，將會載入腳本的 debug 版本。</span><span class="sxs-lookup"><span data-stu-id="8a7df-377">When debug is true the debug version of the scripts will be loaded.</span></span> <span data-ttu-id="8a7df-378">將 [ScriptMode] 屬性變更為 [發行] 或 [Debug]，將會強制 ScriptManager 載入適當的腳本，而不論 Debug 屬性在 web.config 中的值為何。[清單 8] 顯示使用 ScriptManager 控制項從 ASP.NET AJAX 程式庫載入偵錯工具腳本的範例。</span><span class="sxs-lookup"><span data-stu-id="8a7df-378">Changing the ScriptMode property to Release or Debug will force the ScriptManager to load the appropriate scripts regardless of what value the debug attribute has in web.config. Listing 8 shows an example of using the ScriptManager control to load debug scripts from the ASP.NET AJAX library.</span></span>

<span data-ttu-id="8a7df-379">**[清單 8]。使用 ScriptManager**載入調試腳本。</span><span class="sxs-lookup"><span data-stu-id="8a7df-379">**Listing 8. Loading debug scripts using the ScriptManager**.</span></span>

[!code-aspx[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample11.aspx)]

<span data-ttu-id="8a7df-380">您也可以使用 ScriptManager 的 [腳本] 屬性以及 ScriptReference 元件（如 [清單 9] 所示），載入您自己的自訂腳本的不同版本（debug 或 release）。</span><span class="sxs-lookup"><span data-stu-id="8a7df-380">You can also load different versions (debug or release) of your own custom scripts by using the ScriptManager's Scripts property along with the ScriptReference component as shown in Listing 9.</span></span>

<span data-ttu-id="8a7df-381">**清單9。使用 ScriptManager 載入自訂腳本。**</span><span class="sxs-lookup"><span data-stu-id="8a7df-381">**Listing 9. Loading custom scripts using the ScriptManager.**</span></span>

[!code-aspx[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample12.aspx)]

> [!NOTE]
> <span data-ttu-id="8a7df-382">如果您要使用 ScriptReference 元件載入自訂腳本，您必須在腳本的底部新增下列程式碼，以在腳本完成載入時通知 ScriptManager：</span><span class="sxs-lookup"><span data-stu-id="8a7df-382">If you're loading custom scripts using the ScriptReference component you must notify the ScriptManager when the script has finished loading by adding the following code at the bottom of the script:</span></span>

[!code-csharp[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample13.cs)]

<span data-ttu-id="8a7df-383">[清單 9] 所示的程式碼會告訴 ScriptManager 尋找 Person 腳本的 debug 版本，讓它自動尋找 Person，而不是 Person。</span><span class="sxs-lookup"><span data-stu-id="8a7df-383">The code shown in Listing 9 tells the ScriptManager to look for a debug version of the Person script so it will automatically look for Person.debug.js instead of Person.js.</span></span> <span data-ttu-id="8a7df-384">如果找不到. debug .js 檔案，將會引發錯誤。</span><span class="sxs-lookup"><span data-stu-id="8a7df-384">If the Person.debug.js file is not found an error will be raised.</span></span>

<span data-ttu-id="8a7df-385">如果您想要根據 ScriptManager 控制項上設定的 ScriptMode 屬性值來載入自訂腳本的 debug 或 release 版本，您可以將 ScriptReference 控制項的 ScriptMode 屬性設定為 [繼承]。</span><span class="sxs-lookup"><span data-stu-id="8a7df-385">In cases where you want a debug or release version of a custom script to be loaded based upon the value of the ScriptMode property set on the ScriptManager control, you can set the ScriptReference control's ScriptMode property to Inherit.</span></span> <span data-ttu-id="8a7df-386">這會根據 ScriptManager 的 ScriptMode 屬性載入適當版本的自訂腳本，如 [清單 10] 所示。</span><span class="sxs-lookup"><span data-stu-id="8a7df-386">This will cause the proper version of the custom script to be loaded based upon the ScriptManager's ScriptMode property as shown in Listing 10.</span></span> <span data-ttu-id="8a7df-387">由於 ScriptManager 控制項的 ScriptMode 屬性設定為 Debug，因此會在頁面中載入並使用 debug.exe 腳本。</span><span class="sxs-lookup"><span data-stu-id="8a7df-387">Because the ScriptMode property of the ScriptManager control is set to Debug, the Person.debug.js script will be loaded and used in the page.</span></span>

<span data-ttu-id="8a7df-388">**清單10。從 ScriptManager 繼承自訂腳本的 ScriptMode。**</span><span class="sxs-lookup"><span data-stu-id="8a7df-388">**Listing 10. Inheriting the ScriptMode from the ScriptManager for custom scripts.**</span></span>

[!code-aspx[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample14.aspx)]

<span data-ttu-id="8a7df-389">適當地使用 ScriptMode 屬性，可讓您更輕鬆地對應用程式進行 debug 錯，並簡化整體流程。</span><span class="sxs-lookup"><span data-stu-id="8a7df-389">By using the ScriptMode property appropriately you can more easily debug applications and simplify the overall process.</span></span> <span data-ttu-id="8a7df-390">ASP.NET AJAX 程式庫的版本腳本很容易逐步執行和閱讀，因為已移除程式碼格式設定，而將 debug 腳本特別用於進行調試。</span><span class="sxs-lookup"><span data-stu-id="8a7df-390">The ASP.NET AJAX library's release scripts are rather difficult to step through and read since code formatting has been removed while the debug scripts are formatted specifically for debugging purposes.</span></span>

## <a name="conclusion"></a><span data-ttu-id="8a7df-391">結論</span><span class="sxs-lookup"><span data-stu-id="8a7df-391">Conclusion</span></span>

<span data-ttu-id="8a7df-392">Microsoft 的 ASP.NET AJAX 技術提供堅實的基礎，可讓您建立具備 AJAX 功能的應用程式，以增強使用者的整體體驗。</span><span class="sxs-lookup"><span data-stu-id="8a7df-392">Microsoft's ASP.NET AJAX technology provides a solid foundation for building AJAX-enabled applications that can enhance the end user's overall experience.</span></span> <span data-ttu-id="8a7df-393">不過，與任何程式設計技術一樣，也一定會發生錯誤和其他應用程式問題。</span><span class="sxs-lookup"><span data-stu-id="8a7df-393">However, as with any programming technology, bugs and other application issues will certainly arise.</span></span> <span data-ttu-id="8a7df-394">瞭解可用的各種調試選項可以節省大量時間，並導致更穩定的產品。</span><span class="sxs-lookup"><span data-stu-id="8a7df-394">Knowing about the different debugging options available can save a lot of time and result in a more stable product.</span></span>

<span data-ttu-id="8a7df-395">在本文中，您已介紹了數種不同的技術來進行 ASP.NET AJAX 頁面的偵錯工具，包括包含 Visual Studio 2008、Web 開發 Helper 和 Firebug 的 Internet Explorer。</span><span class="sxs-lookup"><span data-stu-id="8a7df-395">In this article you've been introduced to several different techniques for debugging ASP.NET AJAX pages including Internet Explorer with Visual Studio 2008, Web Development Helper and Firebug.</span></span> <span data-ttu-id="8a7df-396">這些工具可以簡化整體的偵錯工具，因為您可以存取變數資料、逐行流覽程式碼，以及查看追蹤語句。</span><span class="sxs-lookup"><span data-stu-id="8a7df-396">These tools can simplify the overall debugging process since you can access variable data, walk through code line by line and view trace statements.</span></span> <span data-ttu-id="8a7df-397">除了所討論的不同偵錯工具之外，您也會看到 ASP.NET AJAX 程式庫的 Sys.databases 類別如何在應用程式中使用，以及如何使用 ScriptManager 類別來載入腳本的 Debug 或 release 版本。</span><span class="sxs-lookup"><span data-stu-id="8a7df-397">In addition to the different debugging tools discussed, you also saw how the ASP.NET AJAX library's Sys.Debug class can be used in an application and how the ScriptManager class can be used to load debug or release versions of scripts.</span></span>

## <a name="bio"></a><span data-ttu-id="8a7df-398">生物</span><span class="sxs-lookup"><span data-stu-id="8a7df-398">Bio</span></span>

<span data-ttu-id="8a7df-399">Dan Wahlin （Microsoft 最有價值的 ASP.NET 和 XML Web 服務專家）是 .NET 開發講師和架構顧問，位於介面技術訓練（[www.interfacett.com）](http://www.interfacett.com)。</span><span class="sxs-lookup"><span data-stu-id="8a7df-399">Dan Wahlin (Microsoft Most Valuable Professional for ASP.NET and XML Web Services) is a .NET development instructor and architecture consultant at Interface Technical Training ([www.interfacett.com)](http://www.interfacett.com).</span></span> <span data-ttu-id="8a7df-400">Dan 成立了 XML for ASP.NET 開發人員網站（[www.XMLforASP.NET](http://www.XMLforASP.NET)），它是在 INETA 說話者的部門，並在幾場會議中發表。</span><span class="sxs-lookup"><span data-stu-id="8a7df-400">Dan founded the XML for ASP.NET Developers Web site ([www.XMLforASP.NET](http://www.XMLforASP.NET)), is on the INETA Speaker's Bureau and speaks at several conferences.</span></span> <span data-ttu-id="8a7df-401">Dan 共同撰寫的專業 Windows DNA （Wrox）、ASP.NET：秘訣、教學課程和程式碼（Sams）、ASP.NET 1.1 Insider 解決方案、Professional ASP.NET 2.0 AJAX （Wrox）、ASP.NET 2.0 MVP 的駭客和撰寫的 XML for ASP.NET 開發人員（Sam）。</span><span class="sxs-lookup"><span data-stu-id="8a7df-401">Dan co-authored Professional Windows DNA (Wrox), ASP.NET: Tips, Tutorials and Code (Sams), ASP.NET 1.1 Insider Solutions, Professional ASP.NET 2.0 AJAX (Wrox), ASP.NET 2.0 MVP Hacks and authored XML for ASP.NET Developers (Sams).</span></span> <span data-ttu-id="8a7df-402">當他不寫程式碼、文章或書籍時，Dan 就能在他的妻子和小孩中撰寫和錄製音樂，以及玩高爾夫球和籃球。</span><span class="sxs-lookup"><span data-stu-id="8a7df-402">When he's not writing code, articles or books, Dan enjoys writing and recording music and playing golf and basketball with his wife and kids.</span></span>

<span data-ttu-id="8a7df-403">Scott Cate 自1997起開始使用 Microsoft Web 技術，而這是 myKB.com （[www.myKB.com](http://www.myKB.com)）的總裁，他專門撰寫以 ASP.NET 為基礎的應用程式，著重于知識庫軟體解決方案。</span><span class="sxs-lookup"><span data-stu-id="8a7df-403">Scott Cate has been working with Microsoft Web technologies since 1997 and is the President of myKB.com ([www.myKB.com](http://www.myKB.com)) where he specializes in writing ASP.NET based applications focused on Knowledge Base Software solutions.</span></span> <span data-ttu-id="8a7df-404">Scott 可以透過電子郵件聯絡，位於[scott.cate@myKB.com](mailto:scott.cate@myKB.com)或他的[ScottCate.com](http://ScottCate.com)的 blog</span><span class="sxs-lookup"><span data-stu-id="8a7df-404">Scott can be contacted via email at [scott.cate@myKB.com](mailto:scott.cate@myKB.com) or his blog at [ScottCate.com](http://ScottCate.com)</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="8a7df-405">上一步</span><span class="sxs-lookup"><span data-stu-id="8a7df-405">Previous</span></span>](understanding-asp-net-ajax-web-services.md)
