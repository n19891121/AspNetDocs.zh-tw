---
uid: web-forms/overview/older-versions-getting-started/aspnet-ajax/understanding-asp-net-ajax-debugging-capabilities
title: 了解 ASP.NET AJAX 偵錯功能 |Microsoft Docs
author: scottcate
description: 偵錯程式碼的能力是每位開發人員應該在其利器，不論他們使用的技術技能。 雖然許多開發人員...
ms.author: riande
ms.date: 03/28/2008
ms.assetid: 7f9380c6-19f7-4c82-a019-916ec6dffc9c
msc.legacyurl: /web-forms/overview/older-versions-getting-started/aspnet-ajax/understanding-asp-net-ajax-debugging-capabilities
msc.type: authoredcontent
ms.openlocfilehash: 13fd8f05cd994ff1c902bd067fb4ed425010d64e
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/01/2019
ms.locfileid: "57064695"
---
<a name="understanding-aspnet-ajax-debugging-capabilities"></a><span data-ttu-id="cf33f-104">了解 ASP.NET AJAX 偵錯功能</span><span class="sxs-lookup"><span data-stu-id="cf33f-104">Understanding ASP.NET AJAX Debugging Capabilities</span></span>
====================
<span data-ttu-id="cf33f-105">藉由[Scott Cate](https://github.com/scottcate)</span><span class="sxs-lookup"><span data-stu-id="cf33f-105">by [Scott Cate](https://github.com/scottcate)</span></span>

[<span data-ttu-id="cf33f-106">下載 PDF</span><span class="sxs-lookup"><span data-stu-id="cf33f-106">Download PDF</span></span>](http://download.microsoft.com/download/C/1/9/C19A3451-1D14-477C-B703-54EF22E197EE/AJAX_tutorial06_Debugging_MS_Ajax_Applications_cs.pdf)

> <span data-ttu-id="cf33f-107">偵錯程式碼的能力是每位開發人員應該在其利器，不論他們使用的技術技能。</span><span class="sxs-lookup"><span data-stu-id="cf33f-107">The ability to debug code is a skill that every developer should have in their arsenal regardless of the technology they're using.</span></span> <span data-ttu-id="cf33f-108">雖然許多開發人員都習慣使用 VB.NET 或 C# 程式碼的 ASP.NET 應用程式偵錯使用 Visual Studio.NET 或 Web Developer Express，有些不曉得還有非常適合用來偵錯 JavaScript 等用戶端程式碼。</span><span class="sxs-lookup"><span data-stu-id="cf33f-108">While many developers are accustomed to using Visual Studio .NET or Web Developer Express to debug ASP.NET applications that use VB.NET or C# code, some aren't aware that it's also extremely useful for debugging client-side code such as JavaScript.</span></span> <span data-ttu-id="cf33f-109">相同類型的偵錯.NET 應用程式所使用的技術也可以套用更具體來說是 ASP.NET AJAX 應用程式與啟用 AJAX 的應用程式。</span><span class="sxs-lookup"><span data-stu-id="cf33f-109">The same type of techniques used to debug .NET applications can also be applied to AJAX-enabled applications and more specifically ASP.NET AJAX applications.</span></span>


## <a name="debugging-aspnet-ajax-applications"></a><span data-ttu-id="cf33f-110">偵錯 ASP.NET AJAX 應用程式</span><span class="sxs-lookup"><span data-stu-id="cf33f-110">Debugging ASP.NET AJAX Applications</span></span>

<span data-ttu-id="cf33f-111">Dan Wahlin</span><span class="sxs-lookup"><span data-stu-id="cf33f-111">Dan Wahlin</span></span>

<span data-ttu-id="cf33f-112">偵錯程式碼的能力是每位開發人員應該在其利器，不論他們使用的技術技能。</span><span class="sxs-lookup"><span data-stu-id="cf33f-112">The ability to debug code is a skill that every developer should have in their arsenal regardless of the technology they're using.</span></span> <span data-ttu-id="cf33f-113">不用說，了解可用的不同的偵錯選項可以省下大量的時間上的專案和甚至幾個問題。</span><span class="sxs-lookup"><span data-stu-id="cf33f-113">It goes without saying that understanding the different debugging options that are available can save a tremendous amount of time on a project and perhaps even a few headaches.</span></span> <span data-ttu-id="cf33f-114">雖然許多開發人員都習慣使用 VB.NET 或 C# 程式碼的 ASP.NET 應用程式偵錯使用 Visual Studio.NET 或 Web Developer Express，有些不曉得還有非常適合用來偵錯 JavaScript 等用戶端程式碼。</span><span class="sxs-lookup"><span data-stu-id="cf33f-114">While many developers are accustomed to using Visual Studio .NET or Web Developer Express to debug ASP.NET applications that use VB.NET or C# code, some aren't aware that it's also extremely useful for debugging client-side code such as JavaScript.</span></span> <span data-ttu-id="cf33f-115">相同類型的偵錯.NET 應用程式所使用的技術也可以套用更具體來說是 ASP.NET AJAX 應用程式與啟用 AJAX 的應用程式。</span><span class="sxs-lookup"><span data-stu-id="cf33f-115">The same type of techniques used to debug .NET applications can also be applied to AJAX-enabled applications and more specifically ASP.NET AJAX applications.</span></span>

<span data-ttu-id="cf33f-116">在這篇文章中，您會看到如何快速找出 bug 和其他問題的 ASP.NET AJAX 應用程式偵錯使用 Visual Studio 2008 和其他工具。</span><span class="sxs-lookup"><span data-stu-id="cf33f-116">In this article you'll see how Visual Studio 2008 and several other tools can be used to debug ASP.NET AJAX applications to quickly locate bugs and other issues.</span></span> <span data-ttu-id="cf33f-117">這個討論將包含啟用 Internet Explorer 6 或更高的偵錯、 逐步執行程式碼中使用 Visual Studio 2008 和指令碼總管，以及使用其他可用的工具，例如 Web Development Helper 的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="cf33f-117">This discussion will include information about enabling Internet Explorer 6 or higher for debugging, using Visual Studio 2008 and the Script Explorer to step through code as well as using other free tools such as Web Development Helper.</span></span> <span data-ttu-id="cf33f-118">您也將了解如何在 Firefox 中使用延伸模組名為 Firebug 可以讓您逐步執行 JavaScript 程式碼，直接在沒有任何其他工具的瀏覽器中的 ASP.NET AJAX 應用程式進行偵錯。</span><span class="sxs-lookup"><span data-stu-id="cf33f-118">You'll also learn how to debug ASP.NET AJAX applications in Firefox using an extension named Firebug which lets you step through JavaScript code directly in the browser without any other tools.</span></span> <span data-ttu-id="cf33f-119">最後，您將介紹 ASP.NET AJAX 程式庫，可協助進行各種偵錯的工作，例如追蹤和程式碼判斷提示陳述式中的類別。</span><span class="sxs-lookup"><span data-stu-id="cf33f-119">Finally, you'll be introduced to classes in the ASP.NET AJAX Library that can help with various debugging tasks such as tracing and code assertion statements.</span></span>

<span data-ttu-id="cf33f-120">您嘗試偵錯在 Internet Explorer 中檢視的頁面之前有幾個基本步驟，您必須執行才能進行偵錯。</span><span class="sxs-lookup"><span data-stu-id="cf33f-120">Before you try to debug pages viewed in Internet Explorer there are a few basic steps you'll need to perform to enable it for debugging.</span></span> <span data-ttu-id="cf33f-121">讓我們看看要開始執行一些基本設定需求。</span><span class="sxs-lookup"><span data-stu-id="cf33f-121">Let's take a look at some basic setup requirements that need to be performed to get started.</span></span>

## <a name="configuring-internet-explorer-for-debugging"></a><span data-ttu-id="cf33f-122">設定 Internet Explorer 偵錯</span><span class="sxs-lookup"><span data-stu-id="cf33f-122">Configuring Internet Explorer for Debugging</span></span>

<span data-ttu-id="cf33f-123">大部分的人不感興趣發現發現使用 Internet Explorer 檢視網站上的 JavaScript 問題。</span><span class="sxs-lookup"><span data-stu-id="cf33f-123">Most people aren't interested in seeing JavaScript issues encountered on a Website viewed with Internet Explorer.</span></span> <span data-ttu-id="cf33f-124">事實上，一般使用者不會甚至知道他們會看到一則錯誤訊息時該怎麼辦。</span><span class="sxs-lookup"><span data-stu-id="cf33f-124">In fact, the average user wouldn't even know what to do if they saw an error message.</span></span> <span data-ttu-id="cf33f-125">如此一來，偵錯的選項為關閉狀態預設會在瀏覽器。</span><span class="sxs-lookup"><span data-stu-id="cf33f-125">As a result, debugging options are turned off by default in the browser.</span></span> <span data-ttu-id="cf33f-126">不過，它是非常簡單，開啟偵錯，並使其使用您在開發新的 AJAX 應用程式。</span><span class="sxs-lookup"><span data-stu-id="cf33f-126">However, it's very straightforward to turn debugging on and put it to use as you develop new AJAX applications.</span></span>

<span data-ttu-id="cf33f-127">若要啟用偵錯功能，請移至工具功能表中的 Internet Explorer 的網際網路選項並選取 進階 索引標籤。瀏覽 區段中，請確定下列項目會取消核取：</span><span class="sxs-lookup"><span data-stu-id="cf33f-127">To enable debugging functionality, go to Tools Internet Options on the Internet Explorer menu and select the Advanced tab. Within the Browsing section ensure that the following items are unchecked:</span></span>

- <span data-ttu-id="cf33f-128">停用指令碼除錯 (Internet Explorer)</span><span class="sxs-lookup"><span data-stu-id="cf33f-128">Disable script debugging (Internet Explorer)</span></span>
- <span data-ttu-id="cf33f-129">停用指令碼除錯 （其他）</span><span class="sxs-lookup"><span data-stu-id="cf33f-129">Disable script debugging (Other)</span></span>

<span data-ttu-id="cf33f-130">雖然並非必要，如果您嘗試偵錯應用程式，您可能會想要立即可見及明顯頁面中的任何 JavaScript 錯誤。</span><span class="sxs-lookup"><span data-stu-id="cf33f-130">Although not required, if you're trying to debug an application you'll probably want any JavaScript errors in the page to be immediately visible and obvious.</span></span> <span data-ttu-id="cf33f-131">您可以強制所有錯誤的 「 顯示每個指令碼錯誤的相關通知 」 核取方塊顯示訊息方塊。</span><span class="sxs-lookup"><span data-stu-id="cf33f-131">You can force all errors to be shown with a message box by checking the "Display a notification about every script error" checkbox.</span></span> <span data-ttu-id="cf33f-132">雖然這是絕佳的選項，當您開發應用程式開啟時，它可能很快就會造成困擾，如果因為發生 JavaScript 錯誤的機率都相當好只研究過其他網站。</span><span class="sxs-lookup"><span data-stu-id="cf33f-132">While this is a great option to turn on while you're developing an application, it can quickly become annoying if you're just perusing other Websites since your chances of encountering JavaScript errors are pretty good.</span></span>

<span data-ttu-id="cf33f-133">圖 1 顯示何種 Internet Explorer 進階對話方塊應該看起來之後它已正確設定偵錯。</span><span class="sxs-lookup"><span data-stu-id="cf33f-133">Figure 1 shows what the Internet Explorer advanced dialog should look after it has been properly configured for debugging.</span></span>


<span data-ttu-id="cf33f-134">[![設定 Internet Explorer 偵錯。](understanding-asp-net-ajax-debugging-capabilities/_static/image2.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="cf33f-134">[![Configuring Internet Explorer for debugging.](understanding-asp-net-ajax-debugging-capabilities/_static/image2.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image1.png)</span></span>

<span data-ttu-id="cf33f-135">**圖 1**:設定 Internet Explorer 偵錯。</span><span class="sxs-lookup"><span data-stu-id="cf33f-135">**Figure 1**: Configuring Internet Explorer for debugging.</span></span>  <span data-ttu-id="cf33f-136">([按一下以檢視完整大小的影像](understanding-asp-net-ajax-debugging-capabilities/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="cf33f-136">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image3.png))</span></span>


<span data-ttu-id="cf33f-137">偵錯已開啟，您會看到新的功能表項目，會出現在名為指令碼偵錯工具的 [檢視] 功能表。</span><span class="sxs-lookup"><span data-stu-id="cf33f-137">Once debugging has been turned on, you'll see a new menu item appear in the View menu named Script Debugger.</span></span> <span data-ttu-id="cf33f-138">它在下一個陳述式有兩個選項可用，包括開啟和符號。</span><span class="sxs-lookup"><span data-stu-id="cf33f-138">It has two options available including Open and Break at Next Statement.</span></span> <span data-ttu-id="cf33f-139">選取開啟時將會提示您進行偵錯 [Visual Studio 2008 （請注意，Visual Web Developer Express 也可用來偵錯）] 頁面。</span><span class="sxs-lookup"><span data-stu-id="cf33f-139">When Open is selected you'll be prompted to debug the page in Visual Studio 2008 (note that Visual Web Developer Express can also be used for debugging).</span></span> <span data-ttu-id="cf33f-140">如果目前正在執行 Visual Studio.NET，您可以選擇使用該執行個體，或建立新的執行個體。</span><span class="sxs-lookup"><span data-stu-id="cf33f-140">If Visual Studio .NET is currently running you can choose to use that instance or to create a new instance.</span></span> <span data-ttu-id="cf33f-141">選取下一個陳述式在中斷時將會提示您執行的 JavaScript 程式碼時，偵錯 頁面。</span><span class="sxs-lookup"><span data-stu-id="cf33f-141">When Break at Next Statement is selected you'll be prompted to debug the page when JavaScript code is executed.</span></span> <span data-ttu-id="cf33f-142">如果 JavaScript 程式碼會執行頁面的 onLoad 事件中，您可以重新整理頁面以觸發程序的偵錯工作階段。</span><span class="sxs-lookup"><span data-stu-id="cf33f-142">If JavaScript code executes in the onLoad event of the page you can refresh the page to trigger a debug session.</span></span> <span data-ttu-id="cf33f-143">如果按下按鈕後執行的 JavaScript 程式碼則會執行偵錯工具，在按下按鈕之後，立即。</span><span class="sxs-lookup"><span data-stu-id="cf33f-143">If JavaScript code is run after a button is clicked then the debugger will run immediately after the button is clicked.</span></span>

> [!NOTE]
> <span data-ttu-id="cf33f-144">如果您已啟用，使用者存取控制 (UAC) 的 Windows Vista 上執行，您必須設定為系統管理員身分執行 Visual Studio 2008，Visual Studio 將無法附加至處理序，當系統提示您連結。</span><span class="sxs-lookup"><span data-stu-id="cf33f-144">If you're running on Windows Vista with User Access Control (UAC) enabled, and you have Visual Studio 2008 set to run as an administrator, Visual Studio will fail to attach to the process when you are prompted to attach.</span></span> <span data-ttu-id="cf33f-145">若要解決此問題，首先，啟動 Visual Studio，並使用該執行個體來偵錯。</span><span class="sxs-lookup"><span data-stu-id="cf33f-145">To work around this issue, start Visual Studio first, and use that instance to debug.</span></span>

<span data-ttu-id="cf33f-146">雖然下一節將示範如何偵錯 ASP.NET AJAX 頁面直接從 Visual Studio 2008 中的，使用 Internet Explorer 指令碼偵錯工具選項時，頁面已經開啟，且您想要更完整檢查。</span><span class="sxs-lookup"><span data-stu-id="cf33f-146">Although the next section will demonstrate how to debug an ASP.NET AJAX page directly from within Visual Studio 2008, using the Internet Explorer Script Debugger option is useful when a page is already open and you'd like to more fully inspect it.</span></span>

## <a name="debugging-with-visual-studio-2008"></a><span data-ttu-id="cf33f-147">偵錯使用 Visual Studio 2008</span><span class="sxs-lookup"><span data-stu-id="cf33f-147">Debugging with Visual Studio 2008</span></span>

<span data-ttu-id="cf33f-148">Visual Studio 2008 提供世界各地的開發人員依賴每天偵錯.NET 應用程式的偵錯功能。</span><span class="sxs-lookup"><span data-stu-id="cf33f-148">Visual Studio 2008 provides debugging functionality that developers around the world rely on everyday to debug .NET applications.</span></span> <span data-ttu-id="cf33f-149">內建的偵錯工具可讓您逐步執行程式碼，呼叫堆疊，還有更多資源，監視物件的資料，對於特定變數，監看式 檢視。</span><span class="sxs-lookup"><span data-stu-id="cf33f-149">The built-in debugger allows you to step through code, view object data, watch for specific variables, monitor the call stack plus much more.</span></span> <span data-ttu-id="cf33f-150">除了在 VB.NET 或 C# 程式碼偵錯，偵錯工具也很有用的偵錯 ASP.NET AJAX 應用程式，並可讓您逐步執行 JavaScript 程式碼行。</span><span class="sxs-lookup"><span data-stu-id="cf33f-150">In addition to debugging VB.NET or C# code, the debugger is also helpful for debugging ASP.NET AJAX applications and will allow you to step through JavaScript code line by line.</span></span> <span data-ttu-id="cf33f-151">跟隨焦點可以用來偵錯用戶端指令碼檔案，而不是提供 discourse 偵錯使用 Visual Studio 2008 的應用程式的整體程序上的技術詳細資料。</span><span class="sxs-lookup"><span data-stu-id="cf33f-151">The details that follow focus on techniques that can be used to debug client-side script files rather than providing a discourse on the overall process of debugging applications using Visual Studio 2008.</span></span>

<span data-ttu-id="cf33f-152">偵錯 Visual Studio 2008 中的頁面的處理序可以啟動數個不同的方式。</span><span class="sxs-lookup"><span data-stu-id="cf33f-152">The process of debugging a page in Visual Studio 2008 can be started in several different ways.</span></span> <span data-ttu-id="cf33f-153">首先，您可以使用上一節中所述的 Internet Explorer 指令碼偵錯工具選項。</span><span class="sxs-lookup"><span data-stu-id="cf33f-153">First, you can use the Internet Explorer Script Debugger option mentioned in the previous section.</span></span> <span data-ttu-id="cf33f-154">這適用於瀏覽器中已載入的頁面和您想要開始偵錯時，正常。</span><span class="sxs-lookup"><span data-stu-id="cf33f-154">This works well when a page is already loaded in the browser and you'd like to start debugging it.</span></span> <span data-ttu-id="cf33f-155">或者，您可以以滑鼠右鍵按一下方案總管] 中的.aspx 頁面，並從功能表中選取 [設定為起始頁。</span><span class="sxs-lookup"><span data-stu-id="cf33f-155">Alternatively, you can right-click on an .aspx page in the Solution Explorer and select Set As Start Page from the menu.</span></span> <span data-ttu-id="cf33f-156">如果您已經習慣偵錯 ASP.NET 網頁則您可能已經做過過。</span><span class="sxs-lookup"><span data-stu-id="cf33f-156">If you're accustomed to debugging ASP.NET pages then you've probably done this before.</span></span> <span data-ttu-id="cf33f-157">一旦按下 F5 就可以偵錯 頁面。</span><span class="sxs-lookup"><span data-stu-id="cf33f-157">Once F5 is pressed the page can be debugged.</span></span> <span data-ttu-id="cf33f-158">不過，您通常可以任意處設定中斷點時您想要在 VB.NET 或 C# 程式碼中，不一定與 JavaScript 的情況下一步，您會看到。</span><span class="sxs-lookup"><span data-stu-id="cf33f-158">However, while you can generally set a breakpoint anywhere you'd like in VB.NET or C# code, that's not always the case with JavaScript as you'll see next.</span></span>

<span data-ttu-id="cf33f-159">*內嵌和外部指令碼*</span><span class="sxs-lookup"><span data-stu-id="cf33f-159">*Embedded Versus External Scripts*</span></span>

<span data-ttu-id="cf33f-160">Visual Studio 2008 偵錯工具會內嵌在外部 JavaScript 檔案的不同頁面的 JavaScript。</span><span class="sxs-lookup"><span data-stu-id="cf33f-160">The Visual Studio 2008 debugger treats JavaScript embedded in a page different than external JavaScript files.</span></span> <span data-ttu-id="cf33f-161">外部指令碼檔案，您可以開啟檔案，並在您選擇的任一行上設定中斷點。</span><span class="sxs-lookup"><span data-stu-id="cf33f-161">With external script files, you can open the file and set a breakpoint on any line you choose.</span></span> <span data-ttu-id="cf33f-162">按一下左側的 [程式碼編輯器] 視窗的 [灰色的紙匣] 區域中，可以設定中斷點。</span><span class="sxs-lookup"><span data-stu-id="cf33f-162">Breakpoints can be set by clicking in the grey tray area to the left of the code editor window.</span></span> <span data-ttu-id="cf33f-163">當 JavaScript 直接內嵌至頁面上，使用`<script>`標記中，按一下灰色的紙匣 區域中設定中斷點不可行。</span><span class="sxs-lookup"><span data-stu-id="cf33f-163">When JavaScript is embedded directly into a page using the `<script>` tag, setting a breakpoint by clicking in the grey tray area isn't an option.</span></span> <span data-ttu-id="cf33f-164">內嵌指令碼的行上設定中斷點的嘗試會導致的警告訊息 「 不是有效的位置，中斷點 」。</span><span class="sxs-lookup"><span data-stu-id="cf33f-164">Attempts to set a breakpoint on a line of embedded script will result in a warning that states "This is not a valid location for a breakpoint".</span></span>

<span data-ttu-id="cf33f-165">您可以藉由將程式碼移到外部.js 檔案，並參考使用的 src 屬性取得解決此問題&lt;指令碼&gt;標記：</span><span class="sxs-lookup"><span data-stu-id="cf33f-165">You can get around this issue by moving the code into an external .js file and referencing it using the src attribute of the &lt;script&gt; tag:</span></span>


[!code-html[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample1.html)]

<span data-ttu-id="cf33f-166">如果將程式碼移到外部檔案辦不到或是需要更多的工作，比起值得嗎？</span><span class="sxs-lookup"><span data-stu-id="cf33f-166">What if moving the code into an external file isn't an option or requires more work than it's worth?</span></span> <span data-ttu-id="cf33f-167">雖然您無法設定中斷點，使用編輯器，您可以新增直接在您想要開始偵錯的程式碼的偵錯工具陳述式。</span><span class="sxs-lookup"><span data-stu-id="cf33f-167">While you can't set a breakpoint using the editor, you can add the debugger statement directly into the code where you'd like to start debugging.</span></span> <span data-ttu-id="cf33f-168">您也可以使用 ASP.NET AJAX 程式庫中的 Sys.Debug 類別可用來強制啟動偵錯。</span><span class="sxs-lookup"><span data-stu-id="cf33f-168">You can also use the Sys.Debug class available in the ASP.NET AJAX library to force debugging to start.</span></span> <span data-ttu-id="cf33f-169">您將進一步了解本文稍後的 Sys.Debug 類別。</span><span class="sxs-lookup"><span data-stu-id="cf33f-169">You'll learn more about the Sys.Debug class later in this article.</span></span>

<span data-ttu-id="cf33f-170">使用的範例`debugger`關鍵字如 [列表 1] 所示。</span><span class="sxs-lookup"><span data-stu-id="cf33f-170">An example of using the `debugger` keyword is shown in Listing 1.</span></span> <span data-ttu-id="cf33f-171">此範例會強制偵錯工具正確更新函式呼叫之前。</span><span class="sxs-lookup"><span data-stu-id="cf33f-171">This example forces the debugger to break right before a call to an update function is made.</span></span>

<span data-ttu-id="cf33f-172">**列表 1。您可以使用 偵錯工具關鍵字來強制 Visual Studio.NET 偵錯工具中斷。**</span><span class="sxs-lookup"><span data-stu-id="cf33f-172">**Listing 1. Using the debugger keyword to force the Visual Studio .NET debugger to break.**</span></span>


[!code-javascript[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample2.js)]

<span data-ttu-id="cf33f-173">一旦叫用偵錯工具陳述式時您會提示您進行偵錯使用 Visual Studio.NET 的網頁，而可以開始逐步執行程式碼。</span><span class="sxs-lookup"><span data-stu-id="cf33f-173">Once the debugger statement is hit you will be prompted to debug the page using Visual Studio .NET and can begin stepping through the code.</span></span> <span data-ttu-id="cf33f-174">執行您可能會遇到存取在頁面中讓我們使用 ASP.NET AJAX 程式庫的指令碼檔案的問題時看看使用 Visual Studio。NET 的指令碼總管 中。</span><span class="sxs-lookup"><span data-stu-id="cf33f-174">While doing this you may encounter an issue with accessing ASP.NET AJAX library script files used in the page so let's take a look at using Visual Studio .NET's Script Explorer.</span></span>

## <a name="using-visual-studio-net-windows-to-debug"></a><span data-ttu-id="cf33f-175">使用 Visual Studio.NET Windows 偵錯</span><span class="sxs-lookup"><span data-stu-id="cf33f-175">Using Visual Studio .NET Windows to Debug</span></span>

<span data-ttu-id="cf33f-176">一旦啟動偵錯工作階段並開始逐步解說的程式碼使用預設 F11 鍵，您可能會遇到錯誤所示的對話方塊中看到 圖 2，除非在網頁中使用的所有指令碼檔案是開放且可供偵錯。</span><span class="sxs-lookup"><span data-stu-id="cf33f-176">Once a debug session is started and you begin walking through code using the default F11 key, you may encounter the error dialog shown in see Figure 2 unless all script files used in the page are open and available for debugging.</span></span>


<span data-ttu-id="cf33f-177">[![沒有原始程式碼不供偵錯時顯示錯誤對話方塊。](understanding-asp-net-ajax-debugging-capabilities/_static/image5.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="cf33f-177">[![Error dialog shown when no source code is available for debugging.](understanding-asp-net-ajax-debugging-capabilities/_static/image5.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image4.png)</span></span>

<span data-ttu-id="cf33f-178">**圖 2**:沒有原始程式碼不供偵錯時顯示錯誤對話方塊。</span><span class="sxs-lookup"><span data-stu-id="cf33f-178">**Figure 2**: Error dialog shown when no source code is available for debugging.</span></span>  <span data-ttu-id="cf33f-179">([按一下以檢視完整大小的影像](understanding-asp-net-ajax-debugging-capabilities/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="cf33f-179">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image6.png))</span></span>


<span data-ttu-id="cf33f-180">因為 Visual Studio.NET 不確定如何取得原始碼的頁面，參考的指令碼的一部分，會顯示此對話方塊。</span><span class="sxs-lookup"><span data-stu-id="cf33f-180">This dialog is shown because Visual Studio .NET isn't sure how to get to the source code of some of the scripts referenced by the page.</span></span> <span data-ttu-id="cf33f-181">雖然這可以是相當令人一開始，沒有簡單的修正程式。</span><span class="sxs-lookup"><span data-stu-id="cf33f-181">While this can be quite frustrating at first, there's a simple fix.</span></span> <span data-ttu-id="cf33f-182">一旦您啟動偵錯工作階段並叫用中斷點，請移至 [偵錯 Windows 指令碼總管] 視窗，在 Visual Studio 2008 功能表上，或使用 Ctrl + Alt + N 快速鍵。</span><span class="sxs-lookup"><span data-stu-id="cf33f-182">Once you have started a debug session and hit a breakpoint, go to the Debug Windows Script Explorer window on the Visual Studio 2008 menu or use the Ctrl+Alt+N hotkey.</span></span>

> [!NOTE]
> <span data-ttu-id="cf33f-183">如果看不到列出的指令碼總管 功能表，請前往**工具** > **自訂** > **命令**在 Visual Studio.NET 功能表上。</span><span class="sxs-lookup"><span data-stu-id="cf33f-183">If you can't see the Script Explorer menu listed, go to **Tools** > **Customize** > **Commands** on the Visual Studio .NET menu.</span></span> <span data-ttu-id="cf33f-184">找出**偵錯**類別中的項目區段，然後按一下 顯示所有可用的功能表項目。</span><span class="sxs-lookup"><span data-stu-id="cf33f-184">Locate the **Debug** entry in the Categories section and click it to show all available menu entries.</span></span> <span data-ttu-id="cf33f-185">在 [命令] 清單中，向下捲動指令碼總管] 然後再將它拖曳至 [偵錯的 Windows 功能表中的先前所述。</span><span class="sxs-lookup"><span data-stu-id="cf33f-185">In the Commands list, scroll down to Script Explorer and then drag it up onto the Debug Windows menu in mentioned earlier.</span></span> <span data-ttu-id="cf33f-186">如此一來，即可使用 [指令碼總管] 功能表項目每次執行 Visual Studio.NET。</span><span class="sxs-lookup"><span data-stu-id="cf33f-186">Doing this will make the Script Explorer menu entry available each time you run Visual Studio .NET.</span></span>

<span data-ttu-id="cf33f-187">指令碼總管 可以用於檢視頁面中使用的所有指令碼，並在程式碼編輯器中開啟它們。</span><span class="sxs-lookup"><span data-stu-id="cf33f-187">The Script Explorer can be used to view all scripts used in a page and open them in the code editor.</span></span> <span data-ttu-id="cf33f-188">[指令碼總管] 中開啟後，按兩下目前所偵錯在程式碼編輯器視窗中開啟它的.aspx 頁面。</span><span class="sxs-lookup"><span data-stu-id="cf33f-188">Once the Script Explorer is open, double-click on the .aspx page currently being debugged to open it in the code editor window.</span></span> <span data-ttu-id="cf33f-189">所有其他指令碼總管 中顯示的指令碼執行相同的動作。</span><span class="sxs-lookup"><span data-stu-id="cf33f-189">Perform the same action for all of the other scripts shown in the Script Explorer.</span></span> <span data-ttu-id="cf33f-190">一旦所有指令碼會在程式碼視窗中，您可以開啟來逐步執行程式碼，按下 F11 （和使用其他偵錯快速鍵）。</span><span class="sxs-lookup"><span data-stu-id="cf33f-190">Once all of the scripts are open in the code window you can press F11 (and use the other debug hotkeys) to step through your code.</span></span> <span data-ttu-id="cf33f-191">[圖 3] 顯示指令碼總管的範例。</span><span class="sxs-lookup"><span data-stu-id="cf33f-191">Figure 3 shows an example of the Script Explorer.</span></span> <span data-ttu-id="cf33f-192">它會列出正在偵錯目前的檔案 (Demo.aspx) 以及兩個自訂的指令碼和由 ASP.NET AJAX ScriptManager 中以動態方式插入頁面的兩個指令碼。</span><span class="sxs-lookup"><span data-stu-id="cf33f-192">It lists the current file being debugged (Demo.aspx) as well as two custom scripts and two scripts dynamically injected into the page by the ASP.NET AJAX ScriptManager.</span></span>


<span data-ttu-id="cf33f-193">[![指令碼總管 可輕鬆存取 頁面中所使用的指令碼。](understanding-asp-net-ajax-debugging-capabilities/_static/image8.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="cf33f-193">[![The Script Explorer provides easy access to scripts used in a page.](understanding-asp-net-ajax-debugging-capabilities/_static/image8.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image7.png)</span></span>

<span data-ttu-id="cf33f-194">**圖 3**。</span><span class="sxs-lookup"><span data-stu-id="cf33f-194">**Figure 3**.</span></span> <span data-ttu-id="cf33f-195">指令碼總管 可輕鬆存取 頁面中所使用的指令碼。</span><span class="sxs-lookup"><span data-stu-id="cf33f-195">The Script Explorer provides easy access to scripts used in a page.</span></span>  <span data-ttu-id="cf33f-196">([按一下以檢視完整大小的影像](understanding-asp-net-ajax-debugging-capabilities/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="cf33f-196">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image9.png))</span></span>


<span data-ttu-id="cf33f-197">數個其他 windows 也可用來提供有用的資訊，當您逐步執行程式碼，在網頁中。</span><span class="sxs-lookup"><span data-stu-id="cf33f-197">Several others windows can also be used to provide useful information as you step through code in a page.</span></span> <span data-ttu-id="cf33f-198">例如，您可以使用 [區域變數] 視窗，以查看在頁面中，評估特定變數或條件，並檢視輸出的即時運算視窗所使用的不同變數的值。</span><span class="sxs-lookup"><span data-stu-id="cf33f-198">For example, you can use the Locals window to see the values of different variables used in the page, the Immediate window to evaluate specific variables or conditions and view the output.</span></span> <span data-ttu-id="cf33f-199">您也可以使用 [輸出] 視窗來檢視追蹤陳述式寫出使用 Sys.Debug.trace 函式 （這將涵蓋在本文稍後） 或 Internet Explorer 的 Debug.writeln 函式。</span><span class="sxs-lookup"><span data-stu-id="cf33f-199">You can also use the Output window to view trace statements written out using the Sys.Debug.trace function (which will be covered later in this article) or Internet Explorer's Debug.writeln function.</span></span>

<span data-ttu-id="cf33f-200">當您逐步執行程式碼偵錯工具使用您可以將滑鼠移到變數中的程式碼，以檢視指派的值。</span><span class="sxs-lookup"><span data-stu-id="cf33f-200">As you step through code using the debugger you can mouse over variables in the code to view the value that they are assigned.</span></span> <span data-ttu-id="cf33f-201">不過，指令碼偵錯工具有時不會顯示任何項目，您將滑鼠移指定的 JavaScript 變數。</span><span class="sxs-lookup"><span data-stu-id="cf33f-201">However, the script debugger occasionally won't show anything as you mouse over a given JavaScript variable.</span></span> <span data-ttu-id="cf33f-202">若要查看的值，醒目提示的陳述式或您想要在程式碼編輯器視窗中看到，然後將滑鼠移它的變數。</span><span class="sxs-lookup"><span data-stu-id="cf33f-202">To see the value, highlight the statement or variable you're trying to see in the code editor window and then mouse over it.</span></span> <span data-ttu-id="cf33f-203">雖然這項技巧並不適用於每一種情況，許多次您將能夠查看而不需要在不同的偵錯視窗中，例如 [區域變數] 視窗中尋找的值。</span><span class="sxs-lookup"><span data-stu-id="cf33f-203">Although this technique doesn't work in every situation, many times you will be able to see the value without having to look in a different debug window such as the Locals window.</span></span>

<span data-ttu-id="cf33f-204">可在檢視影片教學課程中示範此處所討論的功能的一些[ http://www.xmlforasp.net ](http://www.xmlforasp.net)。</span><span class="sxs-lookup"><span data-stu-id="cf33f-204">A video tutorial demonstrating some of the features discussed here can be viewed at [http://www.xmlforasp.net](http://www.xmlforasp.net).</span></span>

## <a name="debugging-with-web-development-helper"></a><span data-ttu-id="cf33f-205">使用 Web Development Helper 偵錯</span><span class="sxs-lookup"><span data-stu-id="cf33f-205">Debugging With Web Development Helper</span></span>

<span data-ttu-id="cf33f-206">雖然 Visual Studio 2008 （和 Visual Web Developer Express 2008） 是功能很強大偵錯工具，還有其他選項也可以使用，也就是更輕量級。</span><span class="sxs-lookup"><span data-stu-id="cf33f-206">Although Visual Studio 2008 (and Visual Web Developer Express 2008) are very capable debugging tools, there are additional options that can be used as well which are more light-weight.</span></span> <span data-ttu-id="cf33f-207">發行的最新工具的其中一個是 Web Development Helper。</span><span class="sxs-lookup"><span data-stu-id="cf33f-207">One of the latest tools to be released is the Web Development Helper.</span></span> <span data-ttu-id="cf33f-208">Microsoft 的 Nikhil Kothari （主要 ASP.NET AJAX 架構設計人員，microsoft 其中之一） 撰寫了此絕佳的工具，可以從簡單的偵錯檢視 HTTP 要求和回應訊息執行許多不同的工作。</span><span class="sxs-lookup"><span data-stu-id="cf33f-208">Microsoft's Nikhil Kothari (one of the key ASP.NET AJAX architects at Microsoft) wrote this excellent tool which can perform many different tasks from simple debugging to viewing HTTP request and response messages.</span></span> <span data-ttu-id="cf33f-209">您可以在下載 web Development Helper [ http://projects.nikhilk.net/Projects/WebDevHelper.aspx ](http://projects.nikhilk.net/Projects/WebDevHelper.aspx)。</span><span class="sxs-lookup"><span data-stu-id="cf33f-209">Web Development Helper can be downloaded at [http://projects.nikhilk.net/Projects/WebDevHelper.aspx](http://projects.nikhilk.net/Projects/WebDevHelper.aspx).</span></span>

<span data-ttu-id="cf33f-210">直接在 Internet Explorer 可以方便地使用可用 web Development helper。</span><span class="sxs-lookup"><span data-stu-id="cf33f-210">Web Development helper can be used directly inside of Internet Explorer which makes it convenient to use.</span></span> <span data-ttu-id="cf33f-211">它會從 Internet Explorer 的功能表中選取工具 Web Development Helper 來啟動。</span><span class="sxs-lookup"><span data-stu-id="cf33f-211">It's started by selecting Tools Web Development Helper from the Internet Explorer menu.</span></span> <span data-ttu-id="cf33f-212">這是不錯的因為您不必離開瀏覽器，以執行數個工作，例如 HTTP 要求和回應訊息的記錄之瀏覽器的下半部中，這會開啟此工具。</span><span class="sxs-lookup"><span data-stu-id="cf33f-212">This will open the tool in the bottom portion of the browser which is nice since you don't have to leave the browser to perform several tasks such as HTTP request and response message logging.</span></span> <span data-ttu-id="cf33f-213">圖 4 顯示 Web Development Helper 作用中的外觀。</span><span class="sxs-lookup"><span data-stu-id="cf33f-213">Figure 4 shows what Web Development Helper looks like in action.</span></span>


<span data-ttu-id="cf33f-214">[![Web Development Helper](understanding-asp-net-ajax-debugging-capabilities/_static/image11.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="cf33f-214">[![Web Development Helper](understanding-asp-net-ajax-debugging-capabilities/_static/image11.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image10.png)</span></span>

<span data-ttu-id="cf33f-215">**圖 4**:Web Development Helper ([按一下以檢視完整大小的影像](understanding-asp-net-ajax-debugging-capabilities/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="cf33f-215">**Figure 4**: Web Development Helper  ([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image12.png))</span></span>


<span data-ttu-id="cf33f-216">Web Development helper 不是您將使用的工具來逐步執行逐行程式碼做為 Visual Studio 2008。</span><span class="sxs-lookup"><span data-stu-id="cf33f-216">Web Development helper isn't a tool you'll use to step through code line by line as with Visual Studio 2008.</span></span> <span data-ttu-id="cf33f-217">不過，它可用來檢視追蹤輸出，輕鬆地評估指令碼中的變數，或瀏覽資料是 JSON 物件內。</span><span class="sxs-lookup"><span data-stu-id="cf33f-217">However, it can be used to view trace output, easily evaluate variables in a script or explore data is inside of a JSON object.</span></span> <span data-ttu-id="cf33f-218">它也是非常適合檢視 ASP.NET AJAX 頁面和伺服器來回傳遞資料。</span><span class="sxs-lookup"><span data-stu-id="cf33f-218">It's also very useful for viewing data that is passed to and from an ASP.NET AJAX page and a server.</span></span>

<span data-ttu-id="cf33f-219">在 Internet Explorer 中開啟 Web Development Helper 後，指令碼偵錯必須由啟用指令碼啟用指令碼偵錯從功能表中選取 Web Development helper 稍早在 圖 4 中所示。</span><span class="sxs-lookup"><span data-stu-id="cf33f-219">Once Web Development Helper is open in Internet Explorer, script debugging must be enabled by selecting Script Enable Script Debugging from the Web Development helper menu as shown earlier in Figure 4.</span></span> <span data-ttu-id="cf33f-220">這可讓此工具來執行頁面時，就會發生的攔截錯誤。</span><span class="sxs-lookup"><span data-stu-id="cf33f-220">This enables the tool to intercept errors that occur as a page is run.</span></span> <span data-ttu-id="cf33f-221">它也可讓網頁中輸出追蹤訊息的簡易存取。</span><span class="sxs-lookup"><span data-stu-id="cf33f-221">It also allows easy access to trace messages that are output in the page.</span></span> <span data-ttu-id="cf33f-222">若要檢視追蹤資訊或執行指令碼命令，以測試不同的函式，在頁面內，選取 從 Web Development Helper 功能表的 指令碼顯示指令碼主控台。</span><span class="sxs-lookup"><span data-stu-id="cf33f-222">To view trace information or execute script commands to test different functions within a page, select Script Show Script Console from the Web Development Helper menu.</span></span> <span data-ttu-id="cf33f-223">這提供存取命令視窗和簡單的 [即時運算] 視窗。</span><span class="sxs-lookup"><span data-stu-id="cf33f-223">This provides access to a command window and a simple immediate window.</span></span>

<span data-ttu-id="cf33f-224">*檢視追蹤訊息和物件的 JSON 資料*</span><span class="sxs-lookup"><span data-stu-id="cf33f-224">*Viewing Trace Messages and JSON Object Data*</span></span>

<span data-ttu-id="cf33f-225">即時運算視窗可用來執行指令碼命令，或甚至載入或儲存用來在網頁中測試不同的函式的指令碼。</span><span class="sxs-lookup"><span data-stu-id="cf33f-225">The immediate window can be used to execute script commands or even load or save scripts that are used to test different functions in a page.</span></span> <span data-ttu-id="cf33f-226">[命令] 視窗會顯示正在檢視的頁面寫出的追蹤或偵錯訊息。</span><span class="sxs-lookup"><span data-stu-id="cf33f-226">The command window displays trace or debug messages written out by the page being viewed.</span></span> <span data-ttu-id="cf33f-227">列表 2 說明如何撰寫使用 Internet Explorer 的 Debug.writeln 函式的追蹤訊息。</span><span class="sxs-lookup"><span data-stu-id="cf33f-227">Listing 2 shows how to write a trace message using Internet Explorer's Debug.writeln function.</span></span>

<span data-ttu-id="cf33f-228">**列表 2。寫出使用 Debug 類別將用戶端追蹤訊息。**</span><span class="sxs-lookup"><span data-stu-id="cf33f-228">**Listing 2. Writing out a client-side trace message using the Debug class.**</span></span>


[!code-javascript[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample3.js)]

<span data-ttu-id="cf33f-229">如果 [LastName] 屬性包含值為 Doe，Web Development Helper 會顯示訊息 「 人名稱：Doe"（假設，偵錯已啟用） 的指令碼主控台的命令視窗中。</span><span class="sxs-lookup"><span data-stu-id="cf33f-229">If the LastName property contains a value of Doe, Web Development Helper will display the message "Person name: Doe" in the script console's command window (assuming that debugging has been enabled).</span></span> <span data-ttu-id="cf33f-230">Web Development Helper 也會將最上層 debugService 物件加入到可用來寫出追蹤資訊，或檢視其內容的 JSON 物件的頁面。</span><span class="sxs-lookup"><span data-stu-id="cf33f-230">Web Development Helper also adds a top-level debugService object into pages that can be used to write out trace information or view the content of JSON objects.</span></span> <span data-ttu-id="cf33f-231">列表 3 顯示使用 debugService 類別的追蹤函式的範例。</span><span class="sxs-lookup"><span data-stu-id="cf33f-231">Listing 3 shows an example of using the debugService class's trace function.</span></span>

<span data-ttu-id="cf33f-232">**列表 3。您可以使用 Web Development Helper 的 debugService 類別來寫入追蹤訊息。**</span><span class="sxs-lookup"><span data-stu-id="cf33f-232">**Listing 3. Using Web Development Helper's debugService class to write a trace message.**</span></span>


[!code-javascript[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample4.js)]

<span data-ttu-id="cf33f-233">DebugService 類別的不錯的功能是，它會處理即使未啟用偵錯在 Internet Explorer 中輕鬆執行 Web Development Helper 時存取追蹤的資料。</span><span class="sxs-lookup"><span data-stu-id="cf33f-233">A nice feature of the debugService class is that it will work even if debugging isn't enabled in Internet Explorer making it easy to always access trace data when Web Development Helper is running.</span></span> <span data-ttu-id="cf33f-234">此工具不使用偵錯 頁面，將會忽略追蹤陳述式，因為 window.debugService 的呼叫會傳回 false。</span><span class="sxs-lookup"><span data-stu-id="cf33f-234">When the tool isn't being used to debug a page, trace statements will be ignored since the call to window.debugService will return false.</span></span>

<span data-ttu-id="cf33f-235">DebugService 類別也可讓 JSON 物件資料，以使用 Web Development Helper 的偵測器視窗來檢視。</span><span class="sxs-lookup"><span data-stu-id="cf33f-235">The debugService class also allows JSON object data to be viewed using Web Development Helper's inspector window.</span></span> <span data-ttu-id="cf33f-236">列表 4 時，會建立簡單的 JSON 物件，包含個人資料。</span><span class="sxs-lookup"><span data-stu-id="cf33f-236">Listing 4 creates a simple JSON object containing person data.</span></span> <span data-ttu-id="cf33f-237">一旦建立物件時，進行呼叫以 debugService 類別的檢查函式，允許以視覺化方式檢查的 JSON 物件。</span><span class="sxs-lookup"><span data-stu-id="cf33f-237">Once the object is created, a call is made to the debugService class's inspect function to allow the JSON object to be visually inspected.</span></span>

<span data-ttu-id="cf33f-238">**列表 4。若要檢視物件的 JSON 資料使用 debugService.inspect 函式。**</span><span class="sxs-lookup"><span data-stu-id="cf33f-238">**Listing 4. Using the debugService.inspect function to view JSON object data.**</span></span>


[!code-javascript[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample5.js)]

<span data-ttu-id="cf33f-239">在網頁中或透過即時運算視窗呼叫 GetPerson() 函式會在物件偵測器對話方塊視窗中出現 圖 5 所示。</span><span class="sxs-lookup"><span data-stu-id="cf33f-239">Calling the GetPerson() function in the page or through the immediate window will result in the Object Inspector dialog window appearing as shown in Figure 5.</span></span> <span data-ttu-id="cf33f-240">在物件內的屬性可以動態變更反白，變更顯示在 [值] 文字方塊中的值，然後按一下 [更新] 連結。</span><span class="sxs-lookup"><span data-stu-id="cf33f-240">Properties within the object can be changed dynamically by highlighting them, changing the value shown in the Value text box and then clicking the Update link.</span></span> <span data-ttu-id="cf33f-241">使用物件偵測器讓您更容易檢視 JSON 物件的資料，以及試驗不同的值套用至屬性。</span><span class="sxs-lookup"><span data-stu-id="cf33f-241">Using the Object Inspector makes it straightforward to view JSON object data and experiment with applying different values to properties.</span></span>

<span data-ttu-id="cf33f-242">*偵錯錯誤*</span><span class="sxs-lookup"><span data-stu-id="cf33f-242">*Debugging Errors*</span></span>

<span data-ttu-id="cf33f-243">除了允許追蹤資料和要顯示的 JSON 物件，Web Development helper 可以也有助於偵錯頁面中的錯誤。</span><span class="sxs-lookup"><span data-stu-id="cf33f-243">In addition to allowing trace data and JSON objects to be displayed, Web Development helper can also aid in debugging errors in a page.</span></span> <span data-ttu-id="cf33f-244">如果發生錯誤，您會提示來繼續至下一行程式碼或指令碼偵錯 （請參閱 圖 6）。</span><span class="sxs-lookup"><span data-stu-id="cf33f-244">If an error is encountered, you will be prompted to continue to the next line of code or debug the script (see Figure 6).</span></span> <span data-ttu-id="cf33f-245">指令碼錯誤對話方塊視窗會顯示完整的呼叫堆疊以及行號，因此您可以輕鬆地識別問題所在位置，在指令碼內。</span><span class="sxs-lookup"><span data-stu-id="cf33f-245">The Script Error dialog window shows the complete call stack as well as line numbers so you can easily identify where issues are within a script.</span></span>


<span data-ttu-id="cf33f-246">[![您可以使用物件偵測器視窗來檢視 JSON 物件。](understanding-asp-net-ajax-debugging-capabilities/_static/image14.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="cf33f-246">[![Using the Object Inspector window to view a JSON object.](understanding-asp-net-ajax-debugging-capabilities/_static/image14.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image13.png)</span></span>

<span data-ttu-id="cf33f-247">**圖 5**:您可以使用物件偵測器視窗來檢視 JSON 物件。</span><span class="sxs-lookup"><span data-stu-id="cf33f-247">**Figure 5**: Using the Object Inspector window to view a JSON object.</span></span>  <span data-ttu-id="cf33f-248">([按一下以檢視完整大小的影像](understanding-asp-net-ajax-debugging-capabilities/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="cf33f-248">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image15.png))</span></span>


<span data-ttu-id="cf33f-249">選取 偵錯選項，可讓您直接在檢視變數的值，寫出 JSON 物件，還有更多的 Web Development Helper 的即時運算視窗中執行指令碼陳述式。</span><span class="sxs-lookup"><span data-stu-id="cf33f-249">Selecting the debug option allows you to execute script statements directly in Web Development Helper's immediate window to view the value of variables, write out JSON objects, plus more.</span></span> <span data-ttu-id="cf33f-250">如果再次執行相同動作觸發錯誤，而且在電腦上使用 Visual Studio 2008，系統會提示您啟動偵錯工作階段，讓您可以逐步執行程式碼行上一節中所述。</span><span class="sxs-lookup"><span data-stu-id="cf33f-250">If the same action that triggered the error is performed again and Visual Studio 2008 is available on the machine, you will be prompted to start a debug session so that you can step through the code line by line as discussed in the previous section.</span></span>


<span data-ttu-id="cf33f-251">[![Web Development Helper 指令碼錯誤對話方塊](understanding-asp-net-ajax-debugging-capabilities/_static/image17.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="cf33f-251">[![Web Development Helper's Script Error Dialog](understanding-asp-net-ajax-debugging-capabilities/_static/image17.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image16.png)</span></span>

<span data-ttu-id="cf33f-252">**圖 6**:Web Development Helper 指令碼錯誤對話方塊 ([按一下以檢視完整大小的影像](understanding-asp-net-ajax-debugging-capabilities/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="cf33f-252">**Figure 6**: Web Development Helper's Script Error Dialog  ([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image18.png))</span></span>


<span data-ttu-id="cf33f-253">*檢查要求和回應訊息*</span><span class="sxs-lookup"><span data-stu-id="cf33f-253">*Inspecting Request and Response Messages*</span></span>

<span data-ttu-id="cf33f-254">偵錯 ASP.NET AJAX 頁面時通常很有用來查看網頁和伺服器之間傳送的要求和回應訊息。</span><span class="sxs-lookup"><span data-stu-id="cf33f-254">While debugging ASP.NET AJAX pages it is often useful to see request and response messages sent between a page and server.</span></span> <span data-ttu-id="cf33f-255">檢視訊息內的內容，可讓您查看是否訊息的大小以及傳遞適當的資料。</span><span class="sxs-lookup"><span data-stu-id="cf33f-255">Viewing the content within messages allows you to see if the proper data is being passed as well as the size of the messages.</span></span> <span data-ttu-id="cf33f-256">Web Development Helper 提供絕佳 HTTP 訊息記錄器的功能，可讓您輕鬆地檢視資料，做為未經處理文字或更容易閱讀的格式。</span><span class="sxs-lookup"><span data-stu-id="cf33f-256">Web Development Helper provides an excellent HTTP message logger feature that makes it easy to view data as raw text or in a more readable format.</span></span>

<span data-ttu-id="cf33f-257">若要檢視 ASP.NET AJAX 要求和回應訊息，您必須啟用 HTTP 記錄器，從 Web Development Helper 功能表中選取 HTTP 啟用 HTTP 記錄。</span><span class="sxs-lookup"><span data-stu-id="cf33f-257">To view ASP.NET AJAX request and response messages, the HTTP logger must be enabled by selecting HTTP Enable HTTP Logging from the Web Development Helper menu.</span></span> <span data-ttu-id="cf33f-258">啟用之後，就可以檢視所有從目前頁面傳送的訊息可以透過選取 HTTP 顯示 HTTP 記錄檔的 HTTP 記錄檔檢視器中。</span><span class="sxs-lookup"><span data-stu-id="cf33f-258">Once enabled, all messages sent from the current page can be viewed in the HTTP log viewer which can be accessed by selecting HTTP Show HTTP Logs.</span></span>

<span data-ttu-id="cf33f-259">雖然檢視每個要求/回應訊息中傳送的原始文字是的確很實用 （和一個選項，在 Web Development Helper） 通常很容易以圖形顯示更豐富的格式檢視訊息資料。</span><span class="sxs-lookup"><span data-stu-id="cf33f-259">Although viewing the raw text sent in each request/response message is certainly useful (and an option in Web Development Helper), it is often easier to view message data in a more graphical format.</span></span> <span data-ttu-id="cf33f-260">一旦已啟用 HTTP 記錄，而且已將訊息記錄，可以檢視訊息資料，方法是按兩下 HTTP 記錄檔檢視器中的訊息。</span><span class="sxs-lookup"><span data-stu-id="cf33f-260">Once HTTP logging has been enabled and messages have been logged, message data can be viewed by double-clicking on the message in the HTTP log viewer.</span></span> <span data-ttu-id="cf33f-261">如此一來，可讓您檢視所有訊息，以及實際的訊息相關聯的標頭內容。</span><span class="sxs-lookup"><span data-stu-id="cf33f-261">Doing this allows you to view all headers associated with a message as well as the actual message content.</span></span> <span data-ttu-id="cf33f-262">[圖 7] 顯示要求訊息和回應訊息，在 [HTTP 記錄檔檢視器] 視窗中檢視的範例。</span><span class="sxs-lookup"><span data-stu-id="cf33f-262">Figure 7 shows an example of a request message and response message viewed in the HTTP Log Viewer window.</span></span>


<span data-ttu-id="cf33f-263">[![您可以使用 HTTP 記錄檔檢視器來檢視要求和回應訊息資料。](understanding-asp-net-ajax-debugging-capabilities/_static/image20.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="cf33f-263">[![Using the HTTP Log Viewer to view request and response message data.](understanding-asp-net-ajax-debugging-capabilities/_static/image20.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image19.png)</span></span>

<span data-ttu-id="cf33f-264">**圖 7**:您可以使用 HTTP 記錄檔檢視器來檢視要求和回應訊息資料。</span><span class="sxs-lookup"><span data-stu-id="cf33f-264">**Figure 7**: Using the HTTP Log Viewer to view request and response message data.</span></span>  <span data-ttu-id="cf33f-265">([按一下以檢視完整大小的影像](understanding-asp-net-ajax-debugging-capabilities/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="cf33f-265">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image21.png))</span></span>


<span data-ttu-id="cf33f-266">HTTP 記錄檔檢視器會自動剖析 JSON 物件，並顯示它們使用樹狀檢視，就能快速又容易檢視物件的屬性資料。</span><span class="sxs-lookup"><span data-stu-id="cf33f-266">The HTTP Log Viewer automatically parses JSON objects and displays them using a tree view making it quick and easy to view the object's property data.</span></span> <span data-ttu-id="cf33f-267">當 UpdatePanel 用於 ASP.NET AJAX 頁面中時，檢視器細分成個別的組件訊息的每一個部分如 圖 8 所示。</span><span class="sxs-lookup"><span data-stu-id="cf33f-267">When an UpdatePanel is being used in an ASP.NET AJAX page, the viewer breaks out each portion of the message into individual parts as shown in Figure 8.</span></span> <span data-ttu-id="cf33f-268">這是很棒的功能，可讓您更容易查看並了解什麼是相較於檢視未經處理的訊息資料訊息中。</span><span class="sxs-lookup"><span data-stu-id="cf33f-268">This is a great feature that makes it much easier to see and understand what is in the message as compared to viewing the raw message data.</span></span>


<span data-ttu-id="cf33f-269">[![使用 HTTP 記錄檔檢視器檢視 UpdatePanel 回應訊息。](understanding-asp-net-ajax-debugging-capabilities/_static/image23.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="cf33f-269">[![An UpdatePanel response message viewed using the HTTP Log Viewer.](understanding-asp-net-ajax-debugging-capabilities/_static/image23.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image22.png)</span></span>

<span data-ttu-id="cf33f-270">**圖 8**:使用 HTTP 記錄檔檢視器檢視 UpdatePanel 回應訊息。</span><span class="sxs-lookup"><span data-stu-id="cf33f-270">**Figure 8**: An UpdatePanel response message viewed using the HTTP Log Viewer.</span></span>  <span data-ttu-id="cf33f-271">([按一下以檢視完整大小的影像](understanding-asp-net-ajax-debugging-capabilities/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="cf33f-271">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image24.png))</span></span>


<span data-ttu-id="cf33f-272">有數個其他工具，可用來檢視 Web Development Helper 除了要求和回應訊息。</span><span class="sxs-lookup"><span data-stu-id="cf33f-272">There are several other tools that can be used to view request and response messages in addition to Web Development Helper.</span></span> <span data-ttu-id="cf33f-273">另一個不錯的選項是可免費在 Fiddler [ http://www.fiddlertool.com ](http://www.fiddlertool.com)。</span><span class="sxs-lookup"><span data-stu-id="cf33f-273">Another good option is Fiddler which is available for free at [http://www.fiddlertool.com](http://www.fiddlertool.com).</span></span> <span data-ttu-id="cf33f-274">雖然此處不會討論 Fiddler，它也是不錯的選項時您需要徹底地檢查訊息標頭和資料。</span><span class="sxs-lookup"><span data-stu-id="cf33f-274">Although Fiddler will not be discussed here, it is also a good option when you need to thoroughly inspect message headers and data.</span></span>

## <a name="debugging-with-firefox-and-firebug"></a><span data-ttu-id="cf33f-275">使用 Firefox 和 Firebug 偵錯</span><span class="sxs-lookup"><span data-stu-id="cf33f-275">Debugging with Firefox and Firebug</span></span>

<span data-ttu-id="cf33f-276">而 Internet Explorer 仍是最廣泛使用的瀏覽器，Firefox 等其他瀏覽器變得很熱門，並使用更多。</span><span class="sxs-lookup"><span data-stu-id="cf33f-276">While Internet Explorer is still the most widely used browser, other browsers such as Firefox have become quite popular and are being used more and more.</span></span> <span data-ttu-id="cf33f-277">如此一來，您會想要檢視和偵錯您的 ASP.NET AJAX 頁面，在 Firefox 與 Internet Explorer 以確保您的應用程式正常運作。</span><span class="sxs-lookup"><span data-stu-id="cf33f-277">As a result, you'll want to view and debug your ASP.NET AJAX pages in Firefox as well as Internet Explorer to ensure that your applications work properly.</span></span> <span data-ttu-id="cf33f-278">雖然 Firefox 不能直接在 Visual Studio 2008 有相同的偵錯，它會有呼叫可用來偵錯網頁的 Firebug 延伸模組。</span><span class="sxs-lookup"><span data-stu-id="cf33f-278">Although Firefox can't tie directly into Visual Studio 2008 for debugging, it has an extension called Firebug that can be used to debug pages.</span></span> <span data-ttu-id="cf33f-279">Firebug 可以免費下載方法是前往[ http://www.getfirebug.com ](http://www.getfirebug.com)。</span><span class="sxs-lookup"><span data-stu-id="cf33f-279">Firebug can be downloaded for free by going to [http://www.getfirebug.com](http://www.getfirebug.com).</span></span>

<span data-ttu-id="cf33f-280">Firebug 提供功能完整的偵錯環境，可用來逐步執行逐行程式碼、 存取網頁內使用的所有指令碼、 檢視 DOM 結構、 在網頁中顯示的 CSS 樣式，甚至是追蹤事件發生。</span><span class="sxs-lookup"><span data-stu-id="cf33f-280">Firebug provides a full-featured debugging environment that can be used to step through code line by line, access all scripts used within a page, view DOM structures, display CSS styles and even track events that occur in a page.</span></span> <span data-ttu-id="cf33f-281">安裝之後，可以從 [Firefox] 功能表中選取工具 Firebug 開啟 Firebug 存取 Firebug。</span><span class="sxs-lookup"><span data-stu-id="cf33f-281">Once installed, Firebug can be accessed by selecting Tools Firebug Open Firebug from the Firefox menu.</span></span> <span data-ttu-id="cf33f-282">Web Development Helper，例如 Firebug 都使用直接在瀏覽器中，不過它也可用來當做獨立的應用程式。</span><span class="sxs-lookup"><span data-stu-id="cf33f-282">Like Web Development Helper, Firebug is used directly in the browser although it can also be used as a stand-alone application.</span></span>

<span data-ttu-id="cf33f-283">一旦執行了 Firebug，中斷點可以設定 JavaScript 檔案的任一行，是否或不在網頁中內嵌指令碼。</span><span class="sxs-lookup"><span data-stu-id="cf33f-283">Once Firebug is running, breakpoints can be set on any line of a JavaScript file whether the script is embedded in a page or not.</span></span> <span data-ttu-id="cf33f-284">若要設定中斷點，您必須先將載入適當的頁面，您想要在 Firefox 中偵錯。</span><span class="sxs-lookup"><span data-stu-id="cf33f-284">To set a breakpoint, first load the appropriate page you'd like to debug in Firefox.</span></span> <span data-ttu-id="cf33f-285">頁面載入之後，選取要從下拉式清單中 Firebug 的指令碼偵錯的指令碼。</span><span class="sxs-lookup"><span data-stu-id="cf33f-285">Once the page is loaded, select the script to debug from Firebug's Scripts drop-down list.</span></span> <span data-ttu-id="cf33f-286">將顯示在頁面所使用的所有指令碼。</span><span class="sxs-lookup"><span data-stu-id="cf33f-286">All scripts used by the page will be shown.</span></span> <span data-ttu-id="cf33f-287">依序按一下 Firebug 的灰色的紙匣 區域的行中斷點去處必須如同 Visual Studio 2008 中設定中斷點。</span><span class="sxs-lookup"><span data-stu-id="cf33f-287">A breakpoint is set by clicking in Firebug's grey tray area on the line where the breakpoint should go must like you would do in Visual Studio 2008.</span></span>

<span data-ttu-id="cf33f-288">在 Firebug 中設定中斷點後，您可以執行執行指令碼需要例如按一下按鈕，或重新整理瀏覽器的 onLoad 事件觸發程序進行偵錯所需的動作。</span><span class="sxs-lookup"><span data-stu-id="cf33f-288">Once a breakpoint has been set in Firebug you can perform the action required to execute the script that needs to be debugged such as clicking a button or refreshing the browser to trigger the onLoad event.</span></span> <span data-ttu-id="cf33f-289">包含中斷點的那一行上，將會自動停止執行。</span><span class="sxs-lookup"><span data-stu-id="cf33f-289">Execution will automatically stop on the line containing the breakpoint.</span></span> <span data-ttu-id="cf33f-290">圖 9 顯示已觸發中斷點的範例，在 Firebug 中。</span><span class="sxs-lookup"><span data-stu-id="cf33f-290">Figure 9 shows an example of a breakpoint that has been triggered in Firebug.</span></span>


<span data-ttu-id="cf33f-291">[![處理在 Firebug 中的中斷點。](understanding-asp-net-ajax-debugging-capabilities/_static/image26.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="cf33f-291">[![Handling breakpoints in Firebug.](understanding-asp-net-ajax-debugging-capabilities/_static/image26.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image25.png)</span></span>

<span data-ttu-id="cf33f-292">**圖 9**:處理在 Firebug 中的中斷點。</span><span class="sxs-lookup"><span data-stu-id="cf33f-292">**Figure 9**: Handling breakpoints in Firebug.</span></span>  <span data-ttu-id="cf33f-293">([按一下以檢視完整大小的影像](understanding-asp-net-ajax-debugging-capabilities/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="cf33f-293">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image27.png))</span></span>


<span data-ttu-id="cf33f-294">一旦叫用中斷點時，可以逐步執行、 不進入或跳離程式碼使用箭號按鈕。</span><span class="sxs-lookup"><span data-stu-id="cf33f-294">Once a breakpoint is hit you can step into, step over or step out of code using the arrow buttons.</span></span> <span data-ttu-id="cf33f-295">當您逐步執行程式碼，指令碼變數會顯示在 偵錯工具可讓您看到的值，並向下鑽研到物件的右側部分。</span><span class="sxs-lookup"><span data-stu-id="cf33f-295">As you step through code, script variables are displayed in the right-hand portion of the debugger allowing you to see values and drill-down into objects.</span></span> <span data-ttu-id="cf33f-296">Firebug 也包括呼叫堆疊下拉式清單中，若要檢視導致目前正在進行偵錯這一行的指令碼的執行步驟。</span><span class="sxs-lookup"><span data-stu-id="cf33f-296">Firebug also includes a Call Stack drop-down list to view the script's execution steps that led up to the current line being debugged.</span></span>

<span data-ttu-id="cf33f-297">Firebug 也包含可用來測試不同的指令碼陳述式、 評估變數和檢視追蹤輸出的主控台視窗。</span><span class="sxs-lookup"><span data-stu-id="cf33f-297">Firebug also includes a console window that can be used to test different script statements, evaluate variables and view trace output.</span></span> <span data-ttu-id="cf33f-298">它是在 Firebug 視窗頂端的 [主控台] 索引標籤，即可存取。</span><span class="sxs-lookup"><span data-stu-id="cf33f-298">It is accessed by clicking on the Console tab at the top of the Firebug window.</span></span> <span data-ttu-id="cf33f-299">正在進行偵錯頁面可以也 「 檢查 」 以查看其 DOM 結構和內容，依序按一下 [檢查] 索引標籤上。為您的結束滑鼠停留不同頁面的適當部分所示的偵測器視窗的 DOM 項目將會反白顯示讓您輕鬆查看頁面中的使用項目。</span><span class="sxs-lookup"><span data-stu-id="cf33f-299">The page being debugged can also be "inspected" to see its DOM structure and contents by clicking on the Inspect tab. As you mouse over the different DOM elements shown in the inspector window the appropriate portion of the page will be highlighted making it easy to see where the element is used in the page.</span></span> <span data-ttu-id="cf33f-300">指定的項目相關聯的屬性值可以 「 即時 」 協助嘗試套用不同的寬度、 樣式等項目的變更。</span><span class="sxs-lookup"><span data-stu-id="cf33f-300">Attribute values associated with a given element can be changed "live" to experiment with applying different widths, styles, etc. to an element.</span></span> <span data-ttu-id="cf33f-301">這是不錯的功能，讓您不必經常原始程式碼編輯器與 Firefox 瀏覽器來檢視如何簡單的變更會影響頁面之間切換。</span><span class="sxs-lookup"><span data-stu-id="cf33f-301">This is a nice feature that saves you from having to constantly switch between the source code editor and the Firefox browser to view how simple changes affect a page.</span></span>

<span data-ttu-id="cf33f-302">[圖 10] 顯示使用 DOM 偵測器來尋找名為 txtCountry 頁面中的 textbox 的範例。</span><span class="sxs-lookup"><span data-stu-id="cf33f-302">Figure 10 shows an example of using the DOM inspector to locate a textbox named txtCountry in the page.</span></span> <span data-ttu-id="cf33f-303">Firebug 偵測器也可用來檢視頁面，以及發生例如追蹤滑鼠移動、 按鈕點選，還有更多的事件中所使用的 CSS 樣式。</span><span class="sxs-lookup"><span data-stu-id="cf33f-303">The Firebug inspector can also be used to view CSS styles used in a page as well as events that occur such as tracking mouse movements, button clicks, plus more.</span></span>


<span data-ttu-id="cf33f-304">[![使用 Firebug 的 DOM 偵測器。](understanding-asp-net-ajax-debugging-capabilities/_static/image29.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="cf33f-304">[![Using Firebug's DOM inspector.](understanding-asp-net-ajax-debugging-capabilities/_static/image29.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image28.png)</span></span>

<span data-ttu-id="cf33f-305">**圖 10**:使用 Firebug 的 DOM 偵測器。</span><span class="sxs-lookup"><span data-stu-id="cf33f-305">**Figure 10**: Using Firebug's DOM inspector.</span></span>  <span data-ttu-id="cf33f-306">([按一下以檢視完整大小的影像](understanding-asp-net-ajax-debugging-capabilities/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="cf33f-306">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image30.png))</span></span>


<span data-ttu-id="cf33f-307">Firebug 提供輕量的方式，快速地偵錯直接在 Firefox，以及一個優異的工具來檢查網頁內的不同項目中的頁面。</span><span class="sxs-lookup"><span data-stu-id="cf33f-307">Firebug provides a light-weight way to quickly debug a page directly in Firefox as well as an excellent tool for inspecting different elements within the page.</span></span>

## <a name="debugging-support-in-aspnet-ajax"></a><span data-ttu-id="cf33f-308">ASP.NET AJAX 中的偵錯支援</span><span class="sxs-lookup"><span data-stu-id="cf33f-308">Debugging Support in ASP.NET AJAX</span></span>

<span data-ttu-id="cf33f-309">ASP.NET AJAX 程式庫包含許多不同的類別可用來簡化新增至網頁的 AJAX 功能的程序。</span><span class="sxs-lookup"><span data-stu-id="cf33f-309">The ASP.NET AJAX library includes many different classes that can be used to simplify the process of adding AJAX capabilities into a Webpage.</span></span> <span data-ttu-id="cf33f-310">您可以使用這些類別，尋找頁面內的項目和操作這些、 加入新的控制項，呼叫 Web 服務和甚至是處理事件。</span><span class="sxs-lookup"><span data-stu-id="cf33f-310">You can use these classes to locate elements within a page and manipulate them, add new controls, call Web Services and even handle events.</span></span> <span data-ttu-id="cf33f-311">ASP.NET AJAX 程式庫也包含可用來增強偵錯頁面的程序的類別。</span><span class="sxs-lookup"><span data-stu-id="cf33f-311">The ASP.NET AJAX library also contains classes that can be used to enhance the process of debugging pages.</span></span> <span data-ttu-id="cf33f-312">在本節中您將介紹 Sys.Debug 類別，並了解如何在應用程式中使用。</span><span class="sxs-lookup"><span data-stu-id="cf33f-312">In this section you'll be introduced to the Sys.Debug class and see how it can be used in applications.</span></span>

<span data-ttu-id="cf33f-313">*使用 Sys.Debug 類別*</span><span class="sxs-lookup"><span data-stu-id="cf33f-313">*Using the Sys.Debug class*</span></span>

<span data-ttu-id="cf33f-314">Sys.Debug 類別 （位於 Sys 命名空間中的 JavaScript 類別） 可用來執行數個不同的功能，包括寫入追蹤輸出、 執行程式碼判斷提示和強制執行失敗，讓它可以進行偵錯的程式碼。</span><span class="sxs-lookup"><span data-stu-id="cf33f-314">The Sys.Debug class (a JavaScript class located in the Sys namespace) can be used to perform several different functions including writing trace output, performing code assertions and forcing code to fail so that it can be debugged.</span></span> <span data-ttu-id="cf33f-315">它廣泛用於 ASP.NET AJAX 程式庫的偵錯檔案 （位於 C:\Program Files\Microsoft ASP.NET\ASP.NET 2.0 AJAX Extensions\v1.0.61025\MicrosoftAjaxLibrary\System.Web.Extensions\1.0.61025.0 預設安裝） 來執行條件式的測試 （稱為判斷提示），請確定函式物件，包含預期的資料，以及撰寫追蹤陳述式正確傳遞參數。</span><span class="sxs-lookup"><span data-stu-id="cf33f-315">It is used extensively in the ASP.NET AJAX library's debug files (installed at C:\Program Files\Microsoft ASP.NET\ASP.NET 2.0 AJAX Extensions\v1.0.61025\MicrosoftAjaxLibrary\System.Web.Extensions\1.0.61025.0 by default) to perform conditional tests (called assertions) that ensure parameters are passed properly to functions, that objects contain the expected data and to write trace statements.</span></span>

<span data-ttu-id="cf33f-316">Sys.Debug 類別會公開數個不同的函式可用來處理追蹤、 程式碼判斷提示或失敗，如表 1 中所示。</span><span class="sxs-lookup"><span data-stu-id="cf33f-316">The Sys.Debug class exposes several different functions that can be used to handle tracing, code assertions or failures as shown in Table 1.</span></span>

<span data-ttu-id="cf33f-317">**表 1。Sys.Debug 類別函式。**</span><span class="sxs-lookup"><span data-stu-id="cf33f-317">**Table 1. Sys.Debug class functions.**</span></span>

| <span data-ttu-id="cf33f-318">**函式名稱**</span><span class="sxs-lookup"><span data-stu-id="cf33f-318">**Function Name**</span></span> | <span data-ttu-id="cf33f-319">**描述**</span><span class="sxs-lookup"><span data-stu-id="cf33f-319">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="cf33f-320">assert(condition, message, displayCaller)</span><span class="sxs-lookup"><span data-stu-id="cf33f-320">assert(condition, message, displayCaller)</span></span> | <span data-ttu-id="cf33f-321">判斷提示條件參數為 true。</span><span class="sxs-lookup"><span data-stu-id="cf33f-321">Asserts that the condition parameter is true.</span></span> <span data-ttu-id="cf33f-322">如果正在測試的條件為 false，訊息方塊將會用來顯示訊息的參數值。</span><span class="sxs-lookup"><span data-stu-id="cf33f-322">If the condition being tested is false, a message box will be used to display the message parameter value.</span></span> <span data-ttu-id="cf33f-323">如果 displayCaller 參數為 true，則方法也會顯示呼叫者的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="cf33f-323">If the displayCaller parameter is true, the method also displays information about the caller.</span></span> |
| <span data-ttu-id="cf33f-324">clearTrace()</span><span class="sxs-lookup"><span data-stu-id="cf33f-324">clearTrace()</span></span> | <span data-ttu-id="cf33f-325">清除追蹤作業的陳述式輸出。</span><span class="sxs-lookup"><span data-stu-id="cf33f-325">Erases statements output from tracing operations.</span></span> |
| <span data-ttu-id="cf33f-326">fail(message)</span><span class="sxs-lookup"><span data-stu-id="cf33f-326">fail(message)</span></span> | <span data-ttu-id="cf33f-327">會導致程式停止執行並偵錯工具會中斷。</span><span class="sxs-lookup"><span data-stu-id="cf33f-327">Causes the program to stop execution and break into the debugger.</span></span> <span data-ttu-id="cf33f-328">訊息參數可用來提供失敗的原因。</span><span class="sxs-lookup"><span data-stu-id="cf33f-328">The message parameter can be used to provide a reason for the failure.</span></span> |
| <span data-ttu-id="cf33f-329">trace(message)</span><span class="sxs-lookup"><span data-stu-id="cf33f-329">trace(message)</span></span> | <span data-ttu-id="cf33f-330">寫入追蹤輸出中的訊息參數。</span><span class="sxs-lookup"><span data-stu-id="cf33f-330">Writes the message parameter to the trace output.</span></span> |
| <span data-ttu-id="cf33f-331">traceDump(object, name)</span><span class="sxs-lookup"><span data-stu-id="cf33f-331">traceDump(object, name)</span></span> | <span data-ttu-id="cf33f-332">輸出的可讀取的格式物件的資料。</span><span class="sxs-lookup"><span data-stu-id="cf33f-332">Outputs an object's data in a readable format.</span></span> <span data-ttu-id="cf33f-333">Name 參數可用來提供用於追蹤傾印的標籤。</span><span class="sxs-lookup"><span data-stu-id="cf33f-333">The name parameter can be used to provide a label for the trace dump.</span></span> <span data-ttu-id="cf33f-334">根據預設，物件傾印內任何子物件會寫出。</span><span class="sxs-lookup"><span data-stu-id="cf33f-334">Any sub-objects within the object being dumped will be written out by default.</span></span> |

<span data-ttu-id="cf33f-335">用戶端追蹤可以用於相同的方式為 ASP.NET 中所提供的追蹤功能。</span><span class="sxs-lookup"><span data-stu-id="cf33f-335">Client-side tracing can be used in much the same way as the tracing functionality available in ASP.NET.</span></span> <span data-ttu-id="cf33f-336">它可讓不同的訊息容易看到而不會中斷應用程式的流程。</span><span class="sxs-lookup"><span data-stu-id="cf33f-336">It allows different messages to easily be seen without interrupting the flow of the application.</span></span> <span data-ttu-id="cf33f-337">列表 5 顯示使用 Sys.Debug.trace 函式，將寫入追蹤記錄檔的範例。</span><span class="sxs-lookup"><span data-stu-id="cf33f-337">Listing 5 shows an example of using the Sys.Debug.trace function to write to the trace log.</span></span> <span data-ttu-id="cf33f-338">此函數只接受應該寫出做為參數的訊息。</span><span class="sxs-lookup"><span data-stu-id="cf33f-338">This function simply takes the message that should be written out as a parameter.</span></span>

<span data-ttu-id="cf33f-339">**列表 5。使用 Sys.Debug.trace 函式。**</span><span class="sxs-lookup"><span data-stu-id="cf33f-339">**Listing 5. Using the Sys.Debug.trace function.**</span></span>


[!code-javascript[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample6.js)]

<span data-ttu-id="cf33f-340">如果您執行 [列表 5] 所示的程式碼不會看到任何追蹤輸出，在頁面中。</span><span class="sxs-lookup"><span data-stu-id="cf33f-340">If you execute the code shown in Listing 5 you won't see any trace output in the page.</span></span> <span data-ttu-id="cf33f-341">若要查看它的唯一方法是使用適用於 Visual Studio.NET、 Web Development Helper 或 Firebug 主控台視窗。</span><span class="sxs-lookup"><span data-stu-id="cf33f-341">The only way to see it is to use a console window available in Visual Studio .NET, Web Development Helper or Firebug.</span></span> <span data-ttu-id="cf33f-342">如果您想查看追蹤輸出的頁面中，將需要新增 TextArea 標記，並為它提供 TraceConsole 識別碼，如下所示：</span><span class="sxs-lookup"><span data-stu-id="cf33f-342">If you do want to see the trace output in the page then you'll need to add a TextArea tag and give it an id of TraceConsole as shown next:</span></span>


[!code-html[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample7.html)]

<span data-ttu-id="cf33f-343">將寫入 TraceConsole TextArea Sys.Debug.trace 中任何陳述式的頁面。</span><span class="sxs-lookup"><span data-stu-id="cf33f-343">Any Sys.Debug.trace statements in the page will be written to the TraceConsole TextArea.</span></span>

<span data-ttu-id="cf33f-344">在您要查看包含在 JSON 物件內資料的情況下，您可以使用 Sys.Debug 類別的 traceDump 函式。</span><span class="sxs-lookup"><span data-stu-id="cf33f-344">In cases where you want to see the data contained within a JSON object you can use the Sys.Debug class's traceDump function.</span></span> <span data-ttu-id="cf33f-345">此函數會採用兩個參數，包括應該追蹤主控台傾印的物件和可用來識別追蹤輸出中的物件的名稱。</span><span class="sxs-lookup"><span data-stu-id="cf33f-345">This function takes two parameters including the object that should be dumped to the trace console and a name that can be used to identify the object in the trace output.</span></span> <span data-ttu-id="cf33f-346">列表 6 顯示使用 traceDump 函式的範例。</span><span class="sxs-lookup"><span data-stu-id="cf33f-346">Listing 6 shows an example of using the traceDump function.</span></span>

<span data-ttu-id="cf33f-347">**列表 6。使用 Sys.Debug.traceDump 函式。**</span><span class="sxs-lookup"><span data-stu-id="cf33f-347">**Listing 6. Using the Sys.Debug.traceDump function.**</span></span>


[!code-javascript[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample8.js)]

<span data-ttu-id="cf33f-348">[圖 11] 顯示呼叫 Sys.Debug.traceDump 函式的輸出。</span><span class="sxs-lookup"><span data-stu-id="cf33f-348">Figure 11 shows the output from calling the Sys.Debug.traceDump function.</span></span> <span data-ttu-id="cf33f-349">請注意，除了撰寫出 Person 物件的資料，它也會寫入位址子物件的資料。</span><span class="sxs-lookup"><span data-stu-id="cf33f-349">Notice that in addition to writing out the Person object's data, it also writes out the Address sub-object's data.</span></span>

<span data-ttu-id="cf33f-350">除了追蹤 Sys.Debug 類別也可以用來執行程式碼判斷提示。</span><span class="sxs-lookup"><span data-stu-id="cf33f-350">In addition to tracing, the Sys.Debug class can also be used to perform code assertions.</span></span> <span data-ttu-id="cf33f-351">判斷提示用來測試應用程式執行時，就會符合特定條件。</span><span class="sxs-lookup"><span data-stu-id="cf33f-351">Assertions are used to test that specific conditions are met while an application is running.</span></span> <span data-ttu-id="cf33f-352">ASP.NET AJAX 程式庫指令碼的偵錯版本包含幾個判斷提示陳述式來測試各種不同的條件。</span><span class="sxs-lookup"><span data-stu-id="cf33f-352">The debug version of the ASP.NET AJAX library scripts contain several assert statements to test a variety of conditions.</span></span>

<span data-ttu-id="cf33f-353">列表 7 顯示使用 Sys.Debug.assert 函式來測試條件的範例。</span><span class="sxs-lookup"><span data-stu-id="cf33f-353">Listing 7 shows an example of using the Sys.Debug.assert function to test a condition.</span></span> <span data-ttu-id="cf33f-354">程式碼會測試更新 Person 物件之前，位址物件為 null。</span><span class="sxs-lookup"><span data-stu-id="cf33f-354">The code tests whether or not the Address object is null before updating a Person object.</span></span>


<span data-ttu-id="cf33f-355">[![Sys.Debug.traceDump 函式的輸出。](understanding-asp-net-ajax-debugging-capabilities/_static/image32.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="cf33f-355">[![Output of the Sys.Debug.traceDump function.](understanding-asp-net-ajax-debugging-capabilities/_static/image32.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image31.png)</span></span>

<span data-ttu-id="cf33f-356">**圖 11**:Sys.Debug.traceDump 函式的輸出。</span><span class="sxs-lookup"><span data-stu-id="cf33f-356">**Figure 11**: Output of the Sys.Debug.traceDump function.</span></span>  <span data-ttu-id="cf33f-357">([按一下以檢視完整大小的影像](understanding-asp-net-ajax-debugging-capabilities/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="cf33f-357">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image33.png))</span></span>


<span data-ttu-id="cf33f-358">**列表 7。使用 debug.assert 函式。**</span><span class="sxs-lookup"><span data-stu-id="cf33f-358">**Listing 7. Using the debug.assert function.**</span></span>


[!code-javascript[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample9.js)]

<span data-ttu-id="cf33f-359">三個參數會傳遞包含要評估，判斷提示會傳回 false，而且應該顯示呼叫者的相關資訊時所要顯示訊息的條件。</span><span class="sxs-lookup"><span data-stu-id="cf33f-359">Three parameters are passed including the condition to evaluate, the message to display if the assertion returns false and whether or not information about the caller should be displayed.</span></span> <span data-ttu-id="cf33f-360">在其中判斷提示失敗的情況下，訊息會顯示呼叫端資訊以及第三個參數，則為 true 時。</span><span class="sxs-lookup"><span data-stu-id="cf33f-360">In cases where an assertion fails, the message will be displayed as well as caller information if the third parameter was true.</span></span> <span data-ttu-id="cf33f-361">[圖 12 顯示失敗對話方塊列表 7] 所示的判斷提示失敗時所顯示的範例。</span><span class="sxs-lookup"><span data-stu-id="cf33f-361">Figure 12 shows an example of the failure dialog that appears if the assertion shown in Listing 7 fails.</span></span>

<span data-ttu-id="cf33f-362">最後的函式，以涵蓋是 Sys.Debug.fail。</span><span class="sxs-lookup"><span data-stu-id="cf33f-362">The final function to cover is Sys.Debug.fail.</span></span> <span data-ttu-id="cf33f-363">當您想要強制在指令碼中的特定資料行上失敗的程式碼可以加入 Sys.Debug.fail 呼叫，而不是 JavaScript 應用程式中一般使用的偵錯工具陳述式。</span><span class="sxs-lookup"><span data-stu-id="cf33f-363">When you want to force code to fail on a particular line in a script you can add a Sys.Debug.fail call rather than the debugger statement typically used in JavaScript applications.</span></span> <span data-ttu-id="cf33f-364">Sys.Debug.fail 函式會接受單一字串參數，表示失敗的原因，如下所示：</span><span class="sxs-lookup"><span data-stu-id="cf33f-364">The Sys.Debug.fail function accepts a single string parameter that represents the reason for the failure as shown next:</span></span>


[!code-css[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample10.css)]


<span data-ttu-id="cf33f-365">[![Sys.Debug.assert 失敗訊息。](understanding-asp-net-ajax-debugging-capabilities/_static/image35.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="cf33f-365">[![A Sys.Debug.assert failure message.](understanding-asp-net-ajax-debugging-capabilities/_static/image35.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image34.png)</span></span>

<span data-ttu-id="cf33f-366">**圖 12**:Sys.Debug.assert 失敗訊息。</span><span class="sxs-lookup"><span data-stu-id="cf33f-366">**Figure 12**: A Sys.Debug.assert failure message.</span></span>  <span data-ttu-id="cf33f-367">([按一下以檢視完整大小的影像](understanding-asp-net-ajax-debugging-capabilities/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="cf33f-367">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image36.png))</span></span>


<span data-ttu-id="cf33f-368">當遇到 Sys.Debug.fail 陳述式時執行指令碼時，訊息參數的值會顯示在主控台中的偵錯應用程式，例如 Visual Studio 2008，並將提示您進行偵錯應用程式。</span><span class="sxs-lookup"><span data-stu-id="cf33f-368">When a Sys.Debug.fail statement is encountered while a script is executing, the value of the message parameter will be displayed in the console of a debug application such as Visual Studio 2008 and you'll be prompted to debug the application.</span></span> <span data-ttu-id="cf33f-369">其中，這可以是非常有用的一個案例是當您無法在內嵌指令碼上設定中斷點，以使用 Visual Studio 2008，但想要的程式碼，以停止在特定的行，因此您可以檢查變數的值。</span><span class="sxs-lookup"><span data-stu-id="cf33f-369">One case where this can be quite useful is when you can't set a breakpoint with Visual Studio 2008 on an inline script but would like the code to stop on particular line so you can inspect the value of variables.</span></span>

<span data-ttu-id="cf33f-370">*了解 ScriptManager 控制項的 ScriptMode 屬性*</span><span class="sxs-lookup"><span data-stu-id="cf33f-370">*Understanding the ScriptManager Control's ScriptMode Property*</span></span>

<span data-ttu-id="cf33f-371">ASP.NET AJAX 程式庫包含偵錯和發行指令碼版本，依預設會安裝在 C:\Program Files\Microsoft ASP.NET\ASP.NET 2.0 AJAX Extensions\v1.0.61025\MicrosoftAjaxLibrary\System.Web.Extensions\1.0.61025.0。</span><span class="sxs-lookup"><span data-stu-id="cf33f-371">The ASP.NET AJAX library includes debug and release script versions that are installed at C:\Program Files\Microsoft ASP.NET\ASP.NET 2.0 AJAX Extensions\v1.0.61025\MicrosoftAjaxLibrary\System.Web.Extensions\1.0.61025.0 by default.</span></span> <span data-ttu-id="cf33f-372">偵錯指令碼是正確格式化，方便閱讀，有數個 Sys.Debug.assert 呼叫分散於它們時發行指令碼已清除的空白字元，並謹慎使用 Sys.Debug 類別，其整體大小降到最低。</span><span class="sxs-lookup"><span data-stu-id="cf33f-372">The debug scripts are nicely formatted, easy to read and have several Sys.Debug.assert calls scattered throughout them while the release scripts have whitespace stripped out and use the Sys.Debug class sparingly to minimize their overall size.</span></span>

<span data-ttu-id="cf33f-373">ScriptManager 控制項加入 ASP.NET AJAX 頁面讀取來判斷哪些版本的程式庫載入指令碼的 web.config 中的編譯項目的偵錯屬性。</span><span class="sxs-lookup"><span data-stu-id="cf33f-373">The ScriptManager control added to ASP.NET AJAX pages reads the compilation element's debug attribute in web.config to determine which versions of library scripts to load.</span></span> <span data-ttu-id="cf33f-374">不過，您可以控制是否偵錯或發行指令碼會載入 （程式庫指令碼或您自己的自訂指令碼） 變更的 ScriptMode 屬性。</span><span class="sxs-lookup"><span data-stu-id="cf33f-374">However, you can control if debug or release scripts are loaded (library scripts or your own custom scripts) by changing the ScriptMode property.</span></span> <span data-ttu-id="cf33f-375">ScriptMode 接受其成員包括自動、 偵錯、 發行和繼承的 ScriptMode 列舉型別。</span><span class="sxs-lookup"><span data-stu-id="cf33f-375">ScriptMode accepts a ScriptMode enumeration whose members include Auto, Debug, Release and Inherit.</span></span>

<span data-ttu-id="cf33f-376">ScriptMode 預設為 [自動] 代表 ScriptManager 會檢查 web.config 中的偵錯屬性的值。當為 false 時偵錯 ScriptManager 會載入 ASP.NET AJAX 程式庫指令碼的發行版本。</span><span class="sxs-lookup"><span data-stu-id="cf33f-376">ScriptMode defaults to a value of Auto which means that the ScriptManager will check the debug attribute in web.config. When debug is false the ScriptManager will load the release version of ASP.NET AJAX library scripts.</span></span> <span data-ttu-id="cf33f-377">偵錯，則為 true 時，將會載入指令碼的偵錯版本。</span><span class="sxs-lookup"><span data-stu-id="cf33f-377">When debug is true the debug version of the scripts will be loaded.</span></span> <span data-ttu-id="cf33f-378">變更版本或偵錯的 ScriptMode 屬性將會強制 ScriptManager 載入適當的指令碼，不論 web.config 中的偵錯屬性的值。列表 8 顯示使用 ScriptManager 控制項，從 ASP.NET AJAX 程式庫載入偵錯指令碼的範例。</span><span class="sxs-lookup"><span data-stu-id="cf33f-378">Changing the ScriptMode property to Release or Debug will force the ScriptManager to load the appropriate scripts regardless of what value the debug attribute has in web.config. Listing 8 shows an example of using the ScriptManager control to load debug scripts from the ASP.NET AJAX library.</span></span>

<span data-ttu-id="cf33f-379">**列表 8。正在載入偵錯指令碼使用 ScriptManager**。</span><span class="sxs-lookup"><span data-stu-id="cf33f-379">**Listing 8. Loading debug scripts using the ScriptManager**.</span></span>


[!code-aspx[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample11.aspx)]

<span data-ttu-id="cf33f-380">您也可以使用 ScriptManager 的指令碼屬性以及 ScriptReference 元件列表 9 所示，以載入您自己自訂的指令碼的不同版本 （debug 或 release）。</span><span class="sxs-lookup"><span data-stu-id="cf33f-380">You can also load different versions (debug or release) of your own custom scripts by using the ScriptManager's Scripts property along with the ScriptReference component as shown in Listing 9.</span></span>

<span data-ttu-id="cf33f-381">**列表 9。使用 ScriptManager 載入自訂指令碼。**</span><span class="sxs-lookup"><span data-stu-id="cf33f-381">**Listing 9. Loading custom scripts using the ScriptManager.**</span></span>


[!code-aspx[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample12.aspx)]

> [!NOTE]
> <span data-ttu-id="cf33f-382">如果您正在載入使用 ScriptReference 元件的自訂指令碼必須在指令碼底部的 指令碼中加入下列程式碼完成載入時通知 ScriptManager:</span><span class="sxs-lookup"><span data-stu-id="cf33f-382">If you're loading custom scripts using the ScriptReference component you must notify the ScriptManager when the script has finished loading by adding the following code at the bottom of the script:</span></span>


[!code-csharp[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample13.cs)]

<span data-ttu-id="cf33f-383">列表 9 所示的程式碼會告訴尋找人員指令碼的偵錯版本，因此它會自動尋找而不是 Person.js Person.debug.js ScriptManager。</span><span class="sxs-lookup"><span data-stu-id="cf33f-383">The code shown in Listing 9 tells the ScriptManager to look for a debug version of the Person script so it will automatically look for Person.debug.js instead of Person.js.</span></span> <span data-ttu-id="cf33f-384">Person.debug.js 是找不到檔案，就會引發錯誤。</span><span class="sxs-lookup"><span data-stu-id="cf33f-384">If the Person.debug.js file is not found an error will be raised.</span></span>

<span data-ttu-id="cf33f-385">在您想要偵錯或發行版本要載入的自訂指令碼會根據在 ScriptManager 控制項上設定的 ScriptMode 屬性值的情況下，您可以設定成 Inherit 的 ScriptReference 控制項的 ScriptMode 屬性。</span><span class="sxs-lookup"><span data-stu-id="cf33f-385">In cases where you want a debug or release version of a custom script to be loaded based upon the value of the ScriptMode property set on the ScriptManager control, you can set the ScriptReference control's ScriptMode property to Inherit.</span></span> <span data-ttu-id="cf33f-386">這會導致要載入的自訂指令碼的適當版本根據 ScriptManager 的 ScriptMode 屬性，如 [列表 10] 所示。</span><span class="sxs-lookup"><span data-stu-id="cf33f-386">This will cause the proper version of the custom script to be loaded based upon the ScriptManager's ScriptMode property as shown in Listing 10.</span></span> <span data-ttu-id="cf33f-387">因為 ScriptManager 控制項的 ScriptMode 屬性設定為 偵錯時，就會載入並使用於頁面 Person.debug.js 指令碼。</span><span class="sxs-lookup"><span data-stu-id="cf33f-387">Because the ScriptMode property of the ScriptManager control is set to Debug, the Person.debug.js script will be loaded and used in the page.</span></span>

<span data-ttu-id="cf33f-388">**列表 10。繼承的自訂指令碼 ScriptManager 的 ScriptMode。**</span><span class="sxs-lookup"><span data-stu-id="cf33f-388">**Listing 10. Inheriting the ScriptMode from the ScriptManager for custom scripts.**</span></span>


[!code-aspx[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample14.aspx)]

<span data-ttu-id="cf33f-389">適當地使用 ScriptMode 屬性可以更輕鬆地偵錯應用程式，並簡化整體程序。</span><span class="sxs-lookup"><span data-stu-id="cf33f-389">By using the ScriptMode property appropriately you can more easily debug applications and simplify the overall process.</span></span> <span data-ttu-id="cf33f-390">ASP.NET AJAX 程式庫的發行指令碼會逐步執行和讀取程式碼格式設定已移除時偵錯指令碼會格式化專為偵錯的目的並非易事。</span><span class="sxs-lookup"><span data-stu-id="cf33f-390">The ASP.NET AJAX library's release scripts are rather difficult to step through and read since code formatting has been removed while the debug scripts are formatted specifically for debugging purposes.</span></span>

## <a name="conclusion"></a><span data-ttu-id="cf33f-391">結論</span><span class="sxs-lookup"><span data-stu-id="cf33f-391">Conclusion</span></span>

<span data-ttu-id="cf33f-392">Microsoft ASP.NET AJAX 技術，可提供穩固的基礎建置 AJAX 功能的應用程式，可增強使用者的整體體驗。</span><span class="sxs-lookup"><span data-stu-id="cf33f-392">Microsoft's ASP.NET AJAX technology provides a solid foundation for building AJAX-enabled applications that can enhance the end user's overall experience.</span></span> <span data-ttu-id="cf33f-393">不過，為任何程式設計技術，bug 和其他應用程式的問題將會確實發生。</span><span class="sxs-lookup"><span data-stu-id="cf33f-393">However, as with any programming technology, bugs and other application issues will certainly arise.</span></span> <span data-ttu-id="cf33f-394">了解可用的其他偵錯選項可以省下許多時間與結果更穩定的產品中。</span><span class="sxs-lookup"><span data-stu-id="cf33f-394">Knowing about the different debugging options available can save a lot of time and result in a more stable product.</span></span>

<span data-ttu-id="cf33f-395">這篇文章中您已學到數個不同的技術，用於偵錯 ASP.NET AJAX 頁面，包括 Visual Studio 2008、 Web Development Helper 與 Firebug 的 Internet Explorer。</span><span class="sxs-lookup"><span data-stu-id="cf33f-395">In this article you've been introduced to several different techniques for debugging ASP.NET AJAX pages including Internet Explorer with Visual Studio 2008, Web Development Helper and Firebug.</span></span> <span data-ttu-id="cf33f-396">這些工具可以簡化整體的偵錯程序，因為您可以存取變數的資料，將逐步解說程式碼行，並檢視追蹤陳述式。</span><span class="sxs-lookup"><span data-stu-id="cf33f-396">These tools can simplify the overall debugging process since you can access variable data, walk through code line by line and view trace statements.</span></span> <span data-ttu-id="cf33f-397">除了討論的其他偵錯工具，您也看到了如何使用 ASP.NET AJAX 程式庫的 Sys.Debug 類別，在應用程式以及如何使用 ScriptManager 類別，將偵錯或發行指令碼的版本。</span><span class="sxs-lookup"><span data-stu-id="cf33f-397">In addition to the different debugging tools discussed, you also saw how the ASP.NET AJAX library's Sys.Debug class can be used in an application and how the ScriptManager class can be used to load debug or release versions of scripts.</span></span>

## <a name="bio"></a><span data-ttu-id="cf33f-398">簡歷</span><span class="sxs-lookup"><span data-stu-id="cf33f-398">Bio</span></span>

<span data-ttu-id="cf33f-399">Dan Wahlin （Microsoft 最有價值專家適用於 ASP.NET 和 XML Web Service） 是介面的技術訓練的.NET 開發的講師和架構顧問 ([www.interfacett.com)](http://www.interfacett.com)。</span><span class="sxs-lookup"><span data-stu-id="cf33f-399">Dan Wahlin (Microsoft Most Valuable Professional for ASP.NET and XML Web Services) is a .NET development instructor and architecture consultant at Interface Technical Training ([www.interfacett.com)](http://www.interfacett.com).</span></span> <span data-ttu-id="cf33f-400">Dan 建構的 XML for ASP.NET 開發人員網站 ([www.XMLforASP.NET](http://www.XMLforASP.NET)) 上的 INETA 講師機構，在數個會議上發表演說。</span><span class="sxs-lookup"><span data-stu-id="cf33f-400">Dan founded the XML for ASP.NET Developers Web site ([www.XMLforASP.NET](http://www.XMLforASP.NET)), is on the INETA Speaker's Bureau and speaks at several conferences.</span></span> <span data-ttu-id="cf33f-401">Dan 合著 Professional Windows DNA (Wrox)，ASP.NET:秘訣、 教學課程和程式碼 (Sam)、 ASP.NET 1.1 Insider 解決方案、 Professional ASP.NET 2.0 AJAX (Wrox)、 ASP.NET 2.0 MVP Hacks 和 ASP.NET 開發人員 (Sam) 撰寫的 XML。</span><span class="sxs-lookup"><span data-stu-id="cf33f-401">Dan co-authored Professional Windows DNA (Wrox), ASP.NET: Tips, Tutorials and Code (Sams), ASP.NET 1.1 Insider Solutions, Professional ASP.NET 2.0 AJAX (Wrox), ASP.NET 2.0 MVP Hacks and authored XML for ASP.NET Developers (Sams).</span></span> <span data-ttu-id="cf33f-402">當他不撰寫程式碼、 文章或書籍時，Dan 工作之餘喜歡撰寫和錄製音樂和播放高爾夫球和他的妻子和孩子的籃球。</span><span class="sxs-lookup"><span data-stu-id="cf33f-402">When he's not writing code, articles or books, Dan enjoys writing and recording music and playing golf and basketball with his wife and kids.</span></span>

<span data-ttu-id="cf33f-403">Scott Cate 從事 Microsoft Web 技術工作自 1997 年，而且 myKB.com 總裁 ([www.myKB.com](http://www.myKB.com))，專精於撰寫 ASP.NET 架構著重於知識庫軟體解決方案的應用程式。</span><span class="sxs-lookup"><span data-stu-id="cf33f-403">Scott Cate has been working with Microsoft Web technologies since 1997 and is the President of myKB.com ([www.myKB.com](http://www.myKB.com)) where he specializes in writing ASP.NET based applications focused on Knowledge Base Software solutions.</span></span> <span data-ttu-id="cf33f-404">可以透過電子郵件連絡 Scott [ scott.cate@myKB.com ](mailto:scott.cate@myKB.com)或他的部落格[ScottCate.com](http://ScottCate.com)</span><span class="sxs-lookup"><span data-stu-id="cf33f-404">Scott can be contacted via email at [scott.cate@myKB.com](mailto:scott.cate@myKB.com) or his blog at [ScottCate.com](http://ScottCate.com)</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="cf33f-405">上一步</span><span class="sxs-lookup"><span data-stu-id="cf33f-405">Previous</span></span>](understanding-asp-net-ajax-web-services.md)
