---
uid: web-forms/overview/older-versions-getting-started/deploying-web-site-projects/deploying-your-site-using-visual-studio-cs
title: 使用 Visual Studio （C#）部署您的網站 |Microsoft Docs
author: rick-anderson
description: Visual Studio 包含用來部署網站的工具。 在本教學課程中深入瞭解這些工具。
ms.author: riande
ms.date: 04/01/2009
ms.assetid: cde4ee53-a5d0-4937-a54b-67877e8266c3
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deploying-web-site-projects/deploying-your-site-using-visual-studio-cs
msc.type: authoredcontent
ms.openlocfilehash: 4259e51f5a3e6a97bae2aa27b76cbd56ca3449d6
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/06/2020
ms.locfileid: "78643427"
---
# <a name="deploying-your-site-using-visual-studio-c"></a><span data-ttu-id="fbd11-104">使用 Visual Studio 部署您的網站 (C#)</span><span class="sxs-lookup"><span data-stu-id="fbd11-104">Deploying Your Site Using Visual Studio (C#)</span></span>

<span data-ttu-id="fbd11-105">由[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="fbd11-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="fbd11-106">[下載程式代碼](https://download.microsoft.com/download/4/5/F/45F815EC-8B0E-46D3-9FB8-2DC015CCA306/ASPNET_Hosting_Tutorial_04_CS.zip)或[下載 PDF](https://download.microsoft.com/download/E/8/9/E8920AE6-D441-41A7-8A77-9EF8FF970D8B/aspnet_tutorial04_DeployingViaVS_cs.pdf)</span><span class="sxs-lookup"><span data-stu-id="fbd11-106">[Download Code](https://download.microsoft.com/download/4/5/F/45F815EC-8B0E-46D3-9FB8-2DC015CCA306/ASPNET_Hosting_Tutorial_04_CS.zip) or [Download PDF](https://download.microsoft.com/download/E/8/9/E8920AE6-D441-41A7-8A77-9EF8FF970D8B/aspnet_tutorial04_DeployingViaVS_cs.pdf)</span></span>

> <span data-ttu-id="fbd11-107">Visual Studio 包含用來部署網站的工具。</span><span class="sxs-lookup"><span data-stu-id="fbd11-107">Visual Studio includes tools for deploying a website.</span></span> <span data-ttu-id="fbd11-108">在本教學課程中深入瞭解這些工具。</span><span class="sxs-lookup"><span data-stu-id="fbd11-108">Learn more about these tools in this tutorial.</span></span>

## <a name="introduction"></a><span data-ttu-id="fbd11-109">簡介</span><span class="sxs-lookup"><span data-stu-id="fbd11-109">Introduction</span></span>

<span data-ttu-id="fbd11-110">先前的教學課程探討了如何將簡單的 ASP.NET web 應用程式部署到 web 主機提供者。</span><span class="sxs-lookup"><span data-stu-id="fbd11-110">The preceding tutorial looked at how to deploy a simple ASP.NET web application to a web host provider.</span></span> <span data-ttu-id="fbd11-111">具體來說，本教學課程示範了如何使用 FileZilla 之類的 FTP 用戶端，將必要的檔案從開發環境轉移到生產環境。</span><span class="sxs-lookup"><span data-stu-id="fbd11-111">Specifically, the tutorial showed how to use an FTP client like FileZilla to transfer the necessary files from the development environment to the production environment.</span></span> <span data-ttu-id="fbd11-112">Visual Studio 也提供內建工具，可協助您部署至 web 主機提供者。</span><span class="sxs-lookup"><span data-stu-id="fbd11-112">Visual Studio also offers built-in tools to facilitate deployment to a web host provider.</span></span> <span data-ttu-id="fbd11-113">本教學課程會檢查其中兩項工具：複製網站工具，可讓您使用 FTP 或 FrontPage Server Extensions 在遠端 Web 服務器之間移動檔案;而發佈工具會將整個網站複製到指定的位置。</span><span class="sxs-lookup"><span data-stu-id="fbd11-113">This tutorial examines two of these tools: the Copy Web Site tool, where you can move files to and from a remote web server using FTP or FrontPage Server Extensions; and the Publish tool, which copies the entire website to a specified location.</span></span>

> [!NOTE]
> <span data-ttu-id="fbd11-114">Visual Studio 提供的其他部署相關工具組括[Web 安裝專案](https://msdn.microsoft.com/library/wx3b589t.aspx)和[web 部署專案](https://www.microsoft.com/downloads/details.aspx?FamilyId=0AA30AE8-C73B-4BDD-BB1B-FE697256C459&amp;displaylang=en)增益集。</span><span class="sxs-lookup"><span data-stu-id="fbd11-114">Other deployment-related tools offered by Visual Studio include [Web Setup Projects](https://msdn.microsoft.com/library/wx3b589t.aspx) and [Web Deployment Projects](https://www.microsoft.com/downloads/details.aspx?FamilyId=0AA30AE8-C73B-4BDD-BB1B-FE697256C459&amp;displaylang=en) Add-In.</span></span> <span data-ttu-id="fbd11-115">Web 安裝專案會將網站的內容和設定資訊封裝成單一 MSI 檔案。</span><span class="sxs-lookup"><span data-stu-id="fbd11-115">Web Setup Projects package a website's contents and configuration information into a single MSI file.</span></span> <span data-ttu-id="fbd11-116">此選項最適用于部署在內部網路內的網站，或銷售預先封裝的 web 應用程式（客戶在自己的網頁伺服器上安裝）的公司。</span><span class="sxs-lookup"><span data-stu-id="fbd11-116">This option is most useful for websites that are deployed within an intranet or for companies that sell a pre-packaged web application that customers install on their own web servers.</span></span> <span data-ttu-id="fbd11-117">Web 部署專案增益集是一個 Visual Studio 增益集，可協助您指定開發環境和生產環境的組建之間的設定差異。</span><span class="sxs-lookup"><span data-stu-id="fbd11-117">The Web Deployment Projects Add-In is a Visual Studio Add-In that facilitates specifying configuration differences between builds for development environments and production environments.</span></span> <span data-ttu-id="fbd11-118">本教學課程系列不討論 Web 安裝專案;Web 部署專案會在[*開發與生產*](common-configuration-differences-between-development-and-production-cs.md)教學課程的一般設定差異中摘要說明。</span><span class="sxs-lookup"><span data-stu-id="fbd11-118">Web Setup Projects are not discussed in this tutorial series; Web Deployment Projects are summarized in the [*Common Configuration Differences Between Development and Production*](common-configuration-differences-between-development-and-production-cs.md) tutorial.</span></span>

## <a name="deploying-your-site-using-the-copy-web-site-tool"></a><span data-ttu-id="fbd11-119">使用複製網站工具部署您的網站</span><span class="sxs-lookup"><span data-stu-id="fbd11-119">Deploying Your Site Using the Copy Web Site Tool</span></span>

<span data-ttu-id="fbd11-120">Visual Studio 的複製網站工具與獨立 FTP 用戶端的功能類似。</span><span class="sxs-lookup"><span data-stu-id="fbd11-120">Visual Studio's Copy Web Site tool is similar in functionality to a stand-alone FTP client.</span></span> <span data-ttu-id="fbd11-121">簡言之，「複製網站」工具可讓您透過 FTP 或 FrontPage Server Extensions 連接到遠端網站。</span><span class="sxs-lookup"><span data-stu-id="fbd11-121">In a nutshell, the Copy Web Site tool allows you to connect to a remote web site through FTP or FrontPage Server Extensions.</span></span> <span data-ttu-id="fbd11-122">類似于 FileZilla 的使用者介面，「複製網站」使用者介面包含兩個窗格：左窗格會列出本機檔案，而右窗格則會列出目的地伺服器上的這些檔案。</span><span class="sxs-lookup"><span data-stu-id="fbd11-122">Similar to FileZilla's user interface, the Copy Web Site user interface consists of two panes: the left pane lists the local files while the right pane lists those files on the destination server.</span></span>

> [!NOTE]
> <span data-ttu-id="fbd11-123">「複製網站」工具僅適用于網站專案。</span><span class="sxs-lookup"><span data-stu-id="fbd11-123">The Copy Web Site tool is only available for Web Site Projects.</span></span> <span data-ttu-id="fbd11-124">當您使用 Web 應用程式專案時，Visual Studio 會提供這種工具。</span><span class="sxs-lookup"><span data-stu-id="fbd11-124">Visual Studio does offer this tool when you are working with a Web Application Project.</span></span>

<span data-ttu-id="fbd11-125">讓我們看一下如何使用「複製網站」工具，將書籍審查應用程式發佈到生產環境。</span><span class="sxs-lookup"><span data-stu-id="fbd11-125">Let's take a look at using the Copy Web Site tool to publish the Book Review application to production.</span></span> <span data-ttu-id="fbd11-126">由於「複製網站」工具僅適用于使用網站專案模型的專案，因此我們只能檢查使用此工具與 BookReviewsWSP 專案。</span><span class="sxs-lookup"><span data-stu-id="fbd11-126">Because the Copy Web Site tool only works with projects that use the Web Site Project model we can only examine using this tool with the BookReviewsWSP project.</span></span> <span data-ttu-id="fbd11-127">開啟該專案。</span><span class="sxs-lookup"><span data-stu-id="fbd11-127">Open that project.</span></span>

<span data-ttu-id="fbd11-128">按一下 方案總管中的 複製網站 圖示，以啟動 複製網站 工具專案（在 圖 1 中將此圖示圈起來）;或者，您可以從 網站 功能表中選取 複製網站 選項。</span><span class="sxs-lookup"><span data-stu-id="fbd11-128">Launch the Copy Web Site tool project by clicking the Copy Web Site icon in the Solution Explorer (this icon is circled in Figure 1); alternatively, you can select the Copy Web Site option from the Website menu.</span></span> <span data-ttu-id="fbd11-129">任一種方法都會啟動複製網站使用者介面，如 [圖 1] 所示。只有 [圖 1] 中的左窗格會填入，因為我們尚未連接到遠端伺服器。</span><span class="sxs-lookup"><span data-stu-id="fbd11-129">Either approach launches the Copy Web Site user interface shown in Figure 1; only the left pane in Figure 1 is populated because we have yet to connect to a remote server.</span></span>

<span data-ttu-id="fbd11-130">[![複製網站工具的使用者介面分成兩個窗格](deploying-your-site-using-visual-studio-cs/_static/image2.png)](deploying-your-site-using-visual-studio-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="fbd11-130">[![The Copy Web Site Tool's User Interface is Divided Into Two Panes](deploying-your-site-using-visual-studio-cs/_static/image2.png)](deploying-your-site-using-visual-studio-cs/_static/image1.png)</span></span>

<span data-ttu-id="fbd11-131">**圖 1**：複製網站工具的使用者介面分成兩個窗格（[按一下以觀看完整大小的影像](deploying-your-site-using-visual-studio-cs/_static/image3.png)）</span><span class="sxs-lookup"><span data-stu-id="fbd11-131">**Figure 1**: The Copy Web Site Tool's User Interface is Divided Into Two Panes ([Click to view full-size image](deploying-your-site-using-visual-studio-cs/_static/image3.png))</span></span>

<span data-ttu-id="fbd11-132">為了部署我們的網站，我們必須先連接到 web 主機提供者。</span><span class="sxs-lookup"><span data-stu-id="fbd11-132">In order to deploy our site we need to first connect to the web host provider.</span></span> <span data-ttu-id="fbd11-133">按一下 [複製網站] 使用者介面頂端的 [連接] 按鈕。</span><span class="sxs-lookup"><span data-stu-id="fbd11-133">Click the Connect button at the top of the Copy Web Site user interface.</span></span> <span data-ttu-id="fbd11-134">這會顯示 [圖 2] 所示的 [開啟網站] 對話方塊。</span><span class="sxs-lookup"><span data-stu-id="fbd11-134">This displays the Open Web Site dialog box shown in Figure 2.</span></span>

<span data-ttu-id="fbd11-135">您可以從左側選取四個選項的其中一個，以連接到目的地網站：</span><span class="sxs-lookup"><span data-stu-id="fbd11-135">You can connect to the destination website by selecting one of the four options from the left:</span></span>

- <span data-ttu-id="fbd11-136">**檔案系統**-選取此功能，將您的網站部署到可從您的電腦存取的資料夾或網路共用。</span><span class="sxs-lookup"><span data-stu-id="fbd11-136">**File System** - select this to deploy your site to a folder or network share accessible from your computer.</span></span>
- <span data-ttu-id="fbd11-137">**本機 IIS** -使用此選項可將網站部署到安裝在您電腦上的 IIS web 伺服器。</span><span class="sxs-lookup"><span data-stu-id="fbd11-137">**Local IIS** - use this option to deploy the site to the IIS web server installed on your computer.</span></span>
- <span data-ttu-id="fbd11-138">**Ftp 網站**-使用 ftp 連接到遠端網站。</span><span class="sxs-lookup"><span data-stu-id="fbd11-138">**FTP Site** - connect to a remote web site using FTP.</span></span>
- <span data-ttu-id="fbd11-139">**遠端網站**-使用 FrontPage Server Extensions 連接到遠端網站。</span><span class="sxs-lookup"><span data-stu-id="fbd11-139">**Remote Site** - connect to a remote website using FrontPage Server Extensions.</span></span>

<span data-ttu-id="fbd11-140">大部分的 web 主機提供者都支援 FTP，但較少的提供 FrontPage 伺服器擴充功能支援。</span><span class="sxs-lookup"><span data-stu-id="fbd11-140">Most web host providers support FTP, but fewer offer FrontPage Server Extension support.</span></span> <span data-ttu-id="fbd11-141">基於這個理由，我選取了 [FTP 網站] 選項，然後輸入連接資訊，如 [圖 2] 所示。</span><span class="sxs-lookup"><span data-stu-id="fbd11-141">For that reason, I've selected the FTP Site option and then entered the connection information as shown in Figure 2.</span></span>

<span data-ttu-id="fbd11-142">[![指定目的地網站](deploying-your-site-using-visual-studio-cs/_static/image5.png)](deploying-your-site-using-visual-studio-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="fbd11-142">[![Specify the Destination Website](deploying-your-site-using-visual-studio-cs/_static/image5.png)](deploying-your-site-using-visual-studio-cs/_static/image4.png)</span></span>

<span data-ttu-id="fbd11-143">**圖 2**：指定目的地網站（[按一下以查看完整大小的影像](deploying-your-site-using-visual-studio-cs/_static/image6.png)）</span><span class="sxs-lookup"><span data-stu-id="fbd11-143">**Figure 2**: Specify the Destination Website ([Click to view full-size image](deploying-your-site-using-visual-studio-cs/_static/image6.png))</span></span>

<span data-ttu-id="fbd11-144">連接之後，[複製網站] 工具會將檔案載入右窗格中的遠端網站，並指出每個檔案的狀態： [新增]、[已刪除]、[已變更] 或 [未變更]。</span><span class="sxs-lookup"><span data-stu-id="fbd11-144">After you connect, the Copy Web Site tool loads the files at the remote site in the right pane and indicates the status of each file: New, Deleted, Changed, or Unchanged.</span></span> <span data-ttu-id="fbd11-145">您可以從本機網站將檔案複製到遠端網站，反之亦然。</span><span class="sxs-lookup"><span data-stu-id="fbd11-145">You can copy a file from the local site to the remote site, or vice-a-versa.</span></span>

<span data-ttu-id="fbd11-146">讓我們將新頁面新增至 BookReviewsWSP 專案，然後加以部署，讓我們可以看到「複製網站」工具的實際運作。</span><span class="sxs-lookup"><span data-stu-id="fbd11-146">Let's add a new page to the BookReviewsWSP project and then deploy it so that we can see the Copy Web Site tool in action.</span></span> <span data-ttu-id="fbd11-147">在名為 `Privacy.aspx`的根目錄中，于 Visual Studio 建立新的 ASP.NET 網頁。</span><span class="sxs-lookup"><span data-stu-id="fbd11-147">Create a new ASP.NET page in Visual Studio in the root directory named `Privacy.aspx`.</span></span> <span data-ttu-id="fbd11-148">讓頁面使用主版頁面 `Site.master`，並將您網站的隱私權原則加入此頁面。</span><span class="sxs-lookup"><span data-stu-id="fbd11-148">Have the page use the master page `Site.master` and add your site's privacy policy to this page.</span></span> <span data-ttu-id="fbd11-149">[圖 3] 顯示在建立此頁面之後 Visual Studio。</span><span class="sxs-lookup"><span data-stu-id="fbd11-149">Figure 3 shows Visual Studio after this page has been created.</span></span>

<span data-ttu-id="fbd11-150">[![將名為 &lt;code&gt;default.aspx&lt;/code&gt; 的新頁面新增至網站的根資料夾](deploying-your-site-using-visual-studio-cs/_static/image8.png)](deploying-your-site-using-visual-studio-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="fbd11-150">[![Add a New Page Named &lt;code&gt;Privacy.aspx&lt;/code&gt; to the Website's Root Folder](deploying-your-site-using-visual-studio-cs/_static/image8.png)](deploying-your-site-using-visual-studio-cs/_static/image7.png)</span></span>

<span data-ttu-id="fbd11-151">**圖 3**：將名為 `Privacy.aspx` 的新頁面新增至網站的根資料夾（[按一下以查看完整大小的影像](deploying-your-site-using-visual-studio-cs/_static/image9.png)）</span><span class="sxs-lookup"><span data-stu-id="fbd11-151">**Figure 3**: Add a New Page Named `Privacy.aspx` to the Website's Root Folder ([Click to view full-size image](deploying-your-site-using-visual-studio-cs/_static/image9.png))</span></span>

<span data-ttu-id="fbd11-152">接下來，返回「複製網站」使用者介面。</span><span class="sxs-lookup"><span data-stu-id="fbd11-152">Next, return to the Copy Web Site user interface.</span></span> <span data-ttu-id="fbd11-153">如 [圖 4] 所示，左窗格現在包含新的檔案-`Policy.aspx` 和 `Policy.aspx.cs`。</span><span class="sxs-lookup"><span data-stu-id="fbd11-153">As Figure 4 shows, the left pane now includes the new files - `Policy.aspx` and `Policy.aspx.cs`.</span></span> <span data-ttu-id="fbd11-154">還有什麼，這些檔案會以箭號圖示和 [新增] 狀態標示，表示它們存在於本機網站，而不是在遠端網站上。</span><span class="sxs-lookup"><span data-stu-id="fbd11-154">What's more, these files are marked with an arrow icon and a Status of New, indicating that they exist on the local site but not on the remote site.</span></span>

<span data-ttu-id="fbd11-155">[![複製網站工具在左窗格中包含新的 &lt;程式碼&gt;default.aspx&lt;/code&gt; 頁面](deploying-your-site-using-visual-studio-cs/_static/image11.png)](deploying-your-site-using-visual-studio-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="fbd11-155">[![The Copy Web Site Tool Includes the New &lt;code&gt;Privacy.aspx&lt;/code&gt; Page in its Left Pane](deploying-your-site-using-visual-studio-cs/_static/image11.png)](deploying-your-site-using-visual-studio-cs/_static/image10.png)</span></span>

<span data-ttu-id="fbd11-156">**圖 4**：複製網站工具在左窗格中包含新的 `Privacy.aspx` 頁面（[按一下以觀看完整大小的影像](deploying-your-site-using-visual-studio-cs/_static/image12.png)）</span><span class="sxs-lookup"><span data-stu-id="fbd11-156">**Figure 4**: The Copy Web Site Tool Includes the New `Privacy.aspx` Page in its Left Pane ([Click to view full-size image](deploying-your-site-using-visual-studio-cs/_static/image12.png))</span></span>

<span data-ttu-id="fbd11-157">若要部署新檔案，請選取它們，然後按一下箭號圖示，將其傳送至遠端網站。</span><span class="sxs-lookup"><span data-stu-id="fbd11-157">To deploy the new files select them and then click the arrow icon to transfer them to the remote site.</span></span> <span data-ttu-id="fbd11-158">在傳送完成之後，本機和遠端網站上的 `Policy.aspx` 和 `Policy.aspx.cs` 檔案都存在，而且狀態不會變更。</span><span class="sxs-lookup"><span data-stu-id="fbd11-158">After the transfer completes the `Policy.aspx` and `Policy.aspx.cs` files exist on both the local and remote sites with the status Unchanged.</span></span>

<span data-ttu-id="fbd11-159">除了列出新的檔案，「複製網站」工具也會反白顯示本機和遠端網站之間的任何不同檔案。</span><span class="sxs-lookup"><span data-stu-id="fbd11-159">Along with listing new files, the Copy Web Site tool highlights any files that differ between the local and remote sites.</span></span> <span data-ttu-id="fbd11-160">若要查看其實際運作情況，請回到 [`Privacy.aspx`] 頁面，再將幾個字新增至隱私權原則。</span><span class="sxs-lookup"><span data-stu-id="fbd11-160">To see this in action, return to the `Privacy.aspx` page and add a few more words to the privacy policy.</span></span> <span data-ttu-id="fbd11-161">儲存頁面，然後返回 [複製網站] 工具。</span><span class="sxs-lookup"><span data-stu-id="fbd11-161">Save the page and then return to the Copy Web Site tool.</span></span> <span data-ttu-id="fbd11-162">如 [圖 5] 所示，左窗格中的 [`Privacy.aspx`] 頁面狀態為 [已變更]，表示它與遠端網站不同步。</span><span class="sxs-lookup"><span data-stu-id="fbd11-162">As Figure 5 shows, the `Privacy.aspx` page in the left pane has a status of Changed indicating that it is out of sync with the remote site.</span></span>

<span data-ttu-id="fbd11-163">[![[複製網站] 工具表示 &lt;程式碼&gt;隱私權&lt;/code&gt; 頁面已變更](deploying-your-site-using-visual-studio-cs/_static/image14.png)](deploying-your-site-using-visual-studio-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="fbd11-163">[![The Copy Web Site Tool Indicates that the &lt;code&gt;Privacy.aspx&lt;/code&gt; Page has been Changed](deploying-your-site-using-visual-studio-cs/_static/image14.png)](deploying-your-site-using-visual-studio-cs/_static/image13.png)</span></span>

<span data-ttu-id="fbd11-164">[**圖 5**]：複製網站工具指出 [`Privacy.aspx`] 頁面已變更（[按一下以觀看完整大小的影像](deploying-your-site-using-visual-studio-cs/_static/image15.png)）</span><span class="sxs-lookup"><span data-stu-id="fbd11-164">**Figure 5**: The Copy Web Site Tool Indicates that the `Privacy.aspx` Page has been Changed ([Click to view full-size image](deploying-your-site-using-visual-studio-cs/_static/image15.png))</span></span>

<span data-ttu-id="fbd11-165">複製網站工具也會指出自從上次複製作業之後是否已刪除檔案。</span><span class="sxs-lookup"><span data-stu-id="fbd11-165">The Copy Web Site tool also indicates if a file has been deleted since the last copy operation.</span></span> <span data-ttu-id="fbd11-166">從本機專案中刪除 `Privacy.aspx`，然後重新整理 [複製網站] 工具。</span><span class="sxs-lookup"><span data-stu-id="fbd11-166">Delete the `Privacy.aspx` from the local project and refresh the Copy Web Site tool.</span></span> <span data-ttu-id="fbd11-167">`Privacy.aspx` 和 `Privacy.aspx.cs` 檔案仍會列在左窗格中，但會有 [已刪除] 狀態，指出自上次複製作業後已將其移除。</span><span class="sxs-lookup"><span data-stu-id="fbd11-167">The `Privacy.aspx` and `Privacy.aspx.cs` files remain listed in the left pane, but have a Deleted status indicating that they have been removed since the last copy operation.</span></span>

## <a name="publishing-a-web-application"></a><span data-ttu-id="fbd11-168">發行 Web 應用程式</span><span class="sxs-lookup"><span data-stu-id="fbd11-168">Publishing a Web Application</span></span>

<span data-ttu-id="fbd11-169">從 Visual Studio 中部署 web 應用程式的另一種方式是使用 [發行] 選項，您可以透過 [建立] 功能表存取此選項。</span><span class="sxs-lookup"><span data-stu-id="fbd11-169">Another way to deploy your web application from within Visual Studio is to use the Publish option, which is accessible via the Build menu.</span></span> <span data-ttu-id="fbd11-170">[發行] 選項會明確編譯應用程式，然後將所有必要的檔案複製到指定的遠端網站。</span><span class="sxs-lookup"><span data-stu-id="fbd11-170">The Publish option explicitly compiles the application and then copies all of the necessary files up to the specified remote site.</span></span> <span data-ttu-id="fbd11-171">如我們稍後所見，[發行] 選項比 [複製網站] 工具更為鈍。</span><span class="sxs-lookup"><span data-stu-id="fbd11-171">As we'll see shortly, the Publish option is more blunt than the Copy Web Site tool.</span></span> <span data-ttu-id="fbd11-172">雖然複製網站工具可讓您檢查本機和遠端網站上的檔案，並允許您視需要上傳或下載個別檔案，但 [發行] 選項會部署整個 Web 應用程式。</span><span class="sxs-lookup"><span data-stu-id="fbd11-172">Whereas the Copy Web Site tool lets you examine the files on the local and remote sites and permits you to upload or download individual files as needed, the Publish option deploys the entire web application.</span></span>

<span data-ttu-id="fbd11-173">除了將所有必要的檔案複製到指定的遠端網站以外，[發佈] 選項也會明確地編譯應用程式。</span><span class="sxs-lookup"><span data-stu-id="fbd11-173">In addition to copying all of the needed files to the specified remote site, the Publish option also explicitly compiles the application.</span></span> <span data-ttu-id="fbd11-174">假設 Web 應用程式專案需要進行明確編譯，則 Web 應用程式專案的 [發行] 選項就不會有任何驚訝。</span><span class="sxs-lookup"><span data-stu-id="fbd11-174">Given that Web Application Projects need to be explicitly compiled it should come as no surprise that the Publish option is available for Web Application Projects.</span></span> <span data-ttu-id="fbd11-175">有點令人驚訝的是，[發行] 選項也適用于網站專案。</span><span class="sxs-lookup"><span data-stu-id="fbd11-175">What may be a bit surprising is that the Publish option is also available for Web Site Projects.</span></span> <span data-ttu-id="fbd11-176">如[*判斷需要部署哪些*](determining-what-files-need-to-be-deployed-cs.md)檔案教學課程中所述，您可以透過稱為*預先編譯*的進程來明確編譯網站專案。</span><span class="sxs-lookup"><span data-stu-id="fbd11-176">As noted in the [*Determining What Files Need to Be Deployed*](determining-what-files-need-to-be-deployed-cs.md) tutorial, Web Site Projects can be explicitly compiled through a process referred to as *pre-compilation*.</span></span> <span data-ttu-id="fbd11-177">本教學課程著重于搭配 Web 應用程式專案使用 Publish 選項;未來的教學課程將探索預先編譯，此時我們會回頭查看如何搭配網站專案使用 [發行] 選項。</span><span class="sxs-lookup"><span data-stu-id="fbd11-177">This tutorial focuses on using the Publish option with Web Application Projects; a future tutorial will explore pre-compilation, at which point we'll return to look at using the Publish option with Web Site Projects.</span></span>

> [!NOTE]
> <span data-ttu-id="fbd11-178">雖然 [發行] 選項同時適用于網站專案和 Web 應用程式專案的 Visual Studio，但 Visual Web Developer 只提供 Web 應用程式專案的 [發行] 選項。</span><span class="sxs-lookup"><span data-stu-id="fbd11-178">While the Publish option is available in Visual Studio for both Web Site Projects and Web Application Projects, Visual Web Developer only offers the Publish option for Web Application Projects.</span></span>

<span data-ttu-id="fbd11-179">讓我們看看使用 [發行] 選項部署書籍審查應用程式。</span><span class="sxs-lookup"><span data-stu-id="fbd11-179">Let's look at deploying the Book Reviews application using the Publish option.</span></span> <span data-ttu-id="fbd11-180">一開始請開啟 Visual Studio 中的 BookReviewsWAP （Web 應用程式專案）。</span><span class="sxs-lookup"><span data-stu-id="fbd11-180">Start by opening BookReviewsWAP (the Web Application Project) in Visual Studio.</span></span> <span data-ttu-id="fbd11-181">從 [發佈] 功能表選擇 [組建 BookReviewsWAP] 專案。</span><span class="sxs-lookup"><span data-stu-id="fbd11-181">From the Publish menu choose the Build BookReviewsWAP project.</span></span> <span data-ttu-id="fbd11-182">這會出現一個對話方塊，提示您輸入目標位置，還有其他設定選項（請參閱 [圖 6]）。</span><span class="sxs-lookup"><span data-stu-id="fbd11-182">This brings up a dialog box that prompts for the target location, among other configuration options (see Figure 6).</span></span> <span data-ttu-id="fbd11-183">與複製網站工具很類似，您可以輸入指向本機資料夾的位置、IIS 上的本機網站、支援 FrontPage Server Extensions 的遠端網站，或 FTP 伺服器位址。</span><span class="sxs-lookup"><span data-stu-id="fbd11-183">Much like with the Copy Web Site tool you can enter a location that points to a local folder, a local website on IIS, a remote website that supports FrontPage Server Extensions, or an FTP server address.</span></span> <span data-ttu-id="fbd11-184">您可以選擇是否要使用已部署的檔案來取代遠端 web 伺服器上的檔案，或是在發佈之前刪除遠端網站上的所有內容。</span><span class="sxs-lookup"><span data-stu-id="fbd11-184">You can choose whether to replace the files on the remote web server with the deployed files or to delete all of the content on the remote site before publishing.</span></span> <span data-ttu-id="fbd11-185">您也可以指定是否要複製：</span><span class="sxs-lookup"><span data-stu-id="fbd11-185">You can also specify whether to copy:</span></span>

- <span data-ttu-id="fbd11-186">只有專案中執行應用程式所需的檔案，這會省略不必要的原始程式碼和專案相關檔案。</span><span class="sxs-lookup"><span data-stu-id="fbd11-186">Only the files in the project needed to run the application, which omits the unneeded source code and project-related files.</span></span>
- <span data-ttu-id="fbd11-187">所有專案檔，包括原始程式碼檔案和 Visual Studio 專案檔，例如方案檔。</span><span class="sxs-lookup"><span data-stu-id="fbd11-187">All project files, which includes the source code files and Visual Studio project files like the Solution file.</span></span>
- <span data-ttu-id="fbd11-188">來源專案資料夾中的所有檔案，會複製來源專案資料夾中的所有檔案，不論它們是否包含在專案中。</span><span class="sxs-lookup"><span data-stu-id="fbd11-188">All files in the source project folder, which copies all files in the source project folder regardless of whether they're included in the project.</span></span>

<span data-ttu-id="fbd11-189">您也可以選擇上傳 `App_Data` 資料夾的內容。</span><span class="sxs-lookup"><span data-stu-id="fbd11-189">There's also an option to upload the contents of the `App_Data` folder.</span></span>

<span data-ttu-id="fbd11-190">[![指定目的地網站](deploying-your-site-using-visual-studio-cs/_static/image17.png)](deploying-your-site-using-visual-studio-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="fbd11-190">[![Specify the Destination Website](deploying-your-site-using-visual-studio-cs/_static/image17.png)](deploying-your-site-using-visual-studio-cs/_static/image16.png)</span></span>

<span data-ttu-id="fbd11-191">**圖 6**：指定目的地網站（[按一下以查看完整大小的影像](deploying-your-site-using-visual-studio-cs/_static/image18.png)）</span><span class="sxs-lookup"><span data-stu-id="fbd11-191">**Figure 6**: Specify the Destination Website ([Click to view full-size image](deploying-your-site-using-visual-studio-cs/_static/image18.png))</span></span>

<span data-ttu-id="fbd11-192">在書籍審查應用程式中，遠端網站包含透過複製網站工具複製 BookReviewsWSP 專案時所部署的檔案。</span><span class="sxs-lookup"><span data-stu-id="fbd11-192">For the Book Review application the remote site contains the files deployed when copying the BookReviewsWSP project via the Copy Web Site tool.</span></span> <span data-ttu-id="fbd11-193">因此，讓我們先從刪除所有現有的內容開始發行選項。</span><span class="sxs-lookup"><span data-stu-id="fbd11-193">Therefore, let's have the Publish option start by deleting all existing content.</span></span> <span data-ttu-id="fbd11-194">此外，讓我們只複製必要的檔案，而不是使用不必要的原始程式碼和專案檔來塞滿生產環境。</span><span class="sxs-lookup"><span data-stu-id="fbd11-194">Also, let's just copy the necessary files rather than cluttering the production environment with unneeded source code and project files.</span></span> <span data-ttu-id="fbd11-195">指定這些選項之後，請按一下 [發行] 按鈕。</span><span class="sxs-lookup"><span data-stu-id="fbd11-195">After specifying these options, click the Publish button.</span></span> <span data-ttu-id="fbd11-196">在接下來的幾秒內 Visual Studio 會將必要的檔案部署到目的地網站，並在 [輸出] 視窗中顯示其進度。</span><span class="sxs-lookup"><span data-stu-id="fbd11-196">Over the next several seconds Visual Studio will deploy the necessary files to the destination site, displaying its progress in the Output window.</span></span>

<span data-ttu-id="fbd11-197">[圖 7] 顯示在發行作業完成後，FTP 網站上的檔案。</span><span class="sxs-lookup"><span data-stu-id="fbd11-197">Figure 7 shows the files on the FTP site after the Publish operation has completed.</span></span> <span data-ttu-id="fbd11-198">請注意，只有標記頁面和必要的伺服器和用戶端支援檔案已上傳。</span><span class="sxs-lookup"><span data-stu-id="fbd11-198">Note that only the markup pages and the necessary sever- and client-side support files have been uploaded.</span></span>

<span data-ttu-id="fbd11-199">[只 ![所需的檔案已發佈到生產環境](deploying-your-site-using-visual-studio-cs/_static/image20.png)](deploying-your-site-using-visual-studio-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="fbd11-199">[![Only the Needed Files Were Published to the Production Environment](deploying-your-site-using-visual-studio-cs/_static/image20.png)](deploying-your-site-using-visual-studio-cs/_static/image19.png)</span></span>

<span data-ttu-id="fbd11-200">**圖 7**：只有所需的檔案已發佈至生產環境（[按一下以觀看完整大小的影像](deploying-your-site-using-visual-studio-cs/_static/image21.png)）</span><span class="sxs-lookup"><span data-stu-id="fbd11-200">**Figure 7**: Only the Needed Files Were Published to the Production Environment ([Click to view full-size image](deploying-your-site-using-visual-studio-cs/_static/image21.png))</span></span>

<span data-ttu-id="fbd11-201">[發行] 選項比 [複製網站] 工具的差別細微工具少。</span><span class="sxs-lookup"><span data-stu-id="fbd11-201">The Publish option is a less nuanced tool than the Copy Web Site tool.</span></span> <span data-ttu-id="fbd11-202">雖然「複製網站」工具可讓您檢查本機和遠端網站上的檔案，並瞭解它們有何不同，但 [發行] 選項不會提供這類介面。</span><span class="sxs-lookup"><span data-stu-id="fbd11-202">Whereas the Copy Web Site tool allows you to inspect the files on the local and remote sites and see how they differ, the Publish option provides no such interface.</span></span> <span data-ttu-id="fbd11-203">此外，「複製網站」工具可讓您進行一次性變更、上傳或刪除個別檔案。</span><span class="sxs-lookup"><span data-stu-id="fbd11-203">Moreover, the Copy Web Site tool enables you to make one-off changes, uploading or deleting individual files.</span></span> <span data-ttu-id="fbd11-204">[發行] 選項不允許這樣的精細控制;相反地，它會發佈*整個*應用程式。</span><span class="sxs-lookup"><span data-stu-id="fbd11-204">The Publish option does not allow such fine-grained control; instead, it publishes the *entire* application.</span></span> <span data-ttu-id="fbd11-205">這種行為有其優缺點。</span><span class="sxs-lookup"><span data-stu-id="fbd11-205">This behavior has its pros and cons.</span></span> <span data-ttu-id="fbd11-206">在加號上，當您使用 [發佈] 選項時，就不會忘了上傳重要的檔案。</span><span class="sxs-lookup"><span data-stu-id="fbd11-206">On the plus side, you know when using the Publish option you won't be forgetting to upload an important file.</span></span> <span data-ttu-id="fbd11-207">但是，如果您對非常大的網站進行了少許變更，請考慮使用 [發佈] 選項，您無法更新該頁面或已修改的兩個，而必須等到 Visual Studio 部署整個網站時，才會發生什麼情況。</span><span class="sxs-lookup"><span data-stu-id="fbd11-207">But consider what happens if you have made a small change to a very large website - with the Publish option you cannot update that page or two that has been modified, but instead you must wait while Visual Studio deploys the entire site.</span></span>

<span data-ttu-id="fbd11-208">有些檔案的內容在生產和開發環境之間有所不同，並不罕見。</span><span class="sxs-lookup"><span data-stu-id="fbd11-208">It's not uncommon for there to be certain files whose content differs between the production and development environments.</span></span> <span data-ttu-id="fbd11-209">主要的範例是應用程式的設定檔，`Web.config`。</span><span class="sxs-lookup"><span data-stu-id="fbd11-209">A key example is the application's configuration file, `Web.config`.</span></span> <span data-ttu-id="fbd11-210">由於 Publish 選項會盲目複製 web 應用程式檔，因此它會以開發環境中的版本覆寫生產環境的自訂設定檔。</span><span class="sxs-lookup"><span data-stu-id="fbd11-210">Because the Publish option blindly copies the web application files it overwrites the production environment's customized configuration files with the version in the development environment.</span></span> <span data-ttu-id="fbd11-211">後續的教學課程會進一步探索此主題，並提供部署 web 應用程式的秘訣（當有這類差異時）。</span><span class="sxs-lookup"><span data-stu-id="fbd11-211">The subsequent tutorial explores this topic further and offers tips for deploying a web application when such differences exist.</span></span>

## <a name="summary"></a><span data-ttu-id="fbd11-212">總結</span><span class="sxs-lookup"><span data-stu-id="fbd11-212">Summary</span></span>

<span data-ttu-id="fbd11-213">部署網站牽涉到從開發環境將必要的檔案複製到生產環境。</span><span class="sxs-lookup"><span data-stu-id="fbd11-213">Deploying a website involves copying the necessary files from the development environment to the production environment.</span></span> <span data-ttu-id="fbd11-214">先前的教學課程示範了如何使用 FTP 用戶端（例如 FileZilla）來傳輸檔案。</span><span class="sxs-lookup"><span data-stu-id="fbd11-214">The previous tutorial showed how to transfer files using an FTP client like FileZilla.</span></span> <span data-ttu-id="fbd11-215">本教學課程在 Visual Studio 中檢查了兩種部署工具：複製網站工具和發佈選項。</span><span class="sxs-lookup"><span data-stu-id="fbd11-215">This tutorial examined two deployment tools in Visual Studio: the Copy Web Site tool and the Publish option.</span></span> <span data-ttu-id="fbd11-216">複製網站工具類似于 FTP 用戶端，因為它有兩個窗格的介面，列出本機電腦上的檔案和指定的遠端電腦，可讓您輕鬆地在兩部電腦之間上傳或下載檔案。</span><span class="sxs-lookup"><span data-stu-id="fbd11-216">The Copy Web Site tool is similar to an FTP client in that it has a two-paned interface listing the files on the local computer and a specified remote computer that makes it easy to upload or download files between the two computers.</span></span> <span data-ttu-id="fbd11-217">[發行] 選項是更鈍的工具，可明確地編譯專案，然後將整個應用程式部署到指定的目的地。</span><span class="sxs-lookup"><span data-stu-id="fbd11-217">The Publish option is a more blunt tool that explicitly compiles the project and then deploys the entire application to the specified destination.</span></span>

<span data-ttu-id="fbd11-218">快樂的程式設計！</span><span class="sxs-lookup"><span data-stu-id="fbd11-218">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="fbd11-219">進一步閱讀</span><span class="sxs-lookup"><span data-stu-id="fbd11-219">Further Reading</span></span>

<span data-ttu-id="fbd11-220">如需本教學課程中所討論之主題的詳細資訊，請參閱下列資源：</span><span class="sxs-lookup"><span data-stu-id="fbd11-220">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="fbd11-221">使用複製網站工具複製網站</span><span class="sxs-lookup"><span data-stu-id="fbd11-221">Copying Web Site with the Copy Web Site Tool</span></span>](https://msdn.microsoft.com/library/1cc82atw.aspx)
- <span data-ttu-id="fbd11-222">[如何：使用複製網站工具來部署網站](../../../videos/how-do-i/how-do-i-deploy-a-web-site-using-the-copy-web-site-tool.md)（影片）</span><span class="sxs-lookup"><span data-stu-id="fbd11-222">[How Do I: Deploy a Web Site Using the Copy Web Site Tool](../../../videos/how-do-i/how-do-i-deploy-a-web-site-using-the-copy-web-site-tool.md) (Video)</span></span>
- [<span data-ttu-id="fbd11-223">如何：發行 Web 應用程式專案</span><span class="sxs-lookup"><span data-stu-id="fbd11-223">How To: Publish Web Application Projects</span></span>](https://msdn.microsoft.com/library/aa983453.aspx)
- [<span data-ttu-id="fbd11-224">How To：發行網站</span><span class="sxs-lookup"><span data-stu-id="fbd11-224">How To: Publish Web Sites</span></span>](https://msdn.microsoft.com/library/20yh9f1b.aspx)
- [<span data-ttu-id="fbd11-225">Visual Studio 中的安裝程式和部署專案</span><span class="sxs-lookup"><span data-stu-id="fbd11-225">Setup and Deployment Projects in Visual Studio</span></span>](https://msdn.microsoft.com/library/wx3b589t.aspx)

> [!div class="step-by-step"]
> <span data-ttu-id="fbd11-226">[上一頁](deploying-your-site-using-an-ftp-client-cs.md)
> [下一頁](common-configuration-differences-between-development-and-production-cs.md)</span><span class="sxs-lookup"><span data-stu-id="fbd11-226">[Previous](deploying-your-site-using-an-ftp-client-cs.md)
[Next](common-configuration-differences-between-development-and-production-cs.md)</span></span>
