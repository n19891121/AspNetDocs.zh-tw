---
uid: web-forms/overview/older-versions-getting-started/deploying-web-site-projects/deploying-your-site-using-an-ftp-client-cs
title: 部署您的網站使用 FTP 用戶端 (C#) |Microsoft Docs
author: rick-anderson
description: 部署 ASP.NET 應用程式的最簡單方式是以手動方式從開發環境的必要檔案複製到實際執行環境。 這個...
ms.author: riande
ms.date: 04/01/2009
ms.assetid: a3599cf7-8474-4006-954a-3bc693736b66
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deploying-web-site-projects/deploying-your-site-using-an-ftp-client-cs
msc.type: authoredcontent
ms.openlocfilehash: 1ef796dc61cc65b6ca5205a5f8baf4dcc4ba05ae
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/09/2019
ms.locfileid: "59389163"
---
# <a name="deploying-your-site-using-an-ftp-client-c"></a><span data-ttu-id="b09a4-104">使用 FTP 用戶端部署您的網站 (C#)</span><span class="sxs-lookup"><span data-stu-id="b09a4-104">Deploying Your Site Using an FTP Client (C#)</span></span>

<span data-ttu-id="b09a4-105">藉由[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="b09a4-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="b09a4-106">[下載程式碼](http://download.microsoft.com/download/4/5/F/45F815EC-8B0E-46D3-9FB8-2DC015CCA306/ASPNET_Hosting_Tutorial_03_CS.zip)或[下載 PDF](http://download.microsoft.com/download/E/8/9/E8920AE6-D441-41A7-8A77-9EF8FF970D8B/aspnet_tutorial03_DeployingViaFTP_cs.pdf)</span><span class="sxs-lookup"><span data-stu-id="b09a4-106">[Download Code](http://download.microsoft.com/download/4/5/F/45F815EC-8B0E-46D3-9FB8-2DC015CCA306/ASPNET_Hosting_Tutorial_03_CS.zip) or [Download PDF](http://download.microsoft.com/download/E/8/9/E8920AE6-D441-41A7-8A77-9EF8FF970D8B/aspnet_tutorial03_DeployingViaFTP_cs.pdf)</span></span>

> <span data-ttu-id="b09a4-107">部署 ASP.NET 應用程式的最簡單方式是以手動方式從開發環境的必要檔案複製到實際執行環境。</span><span class="sxs-lookup"><span data-stu-id="b09a4-107">The simplest way to deploy an ASP.NET application is to manually copy the necessary files from the development environment to the production environment.</span></span> <span data-ttu-id="b09a4-108">本教學課程會示範如何使用 FTP 用戶端將檔案從桌面到 web 主機提供者。</span><span class="sxs-lookup"><span data-stu-id="b09a4-108">This tutorial shows how to use an FTP client to get the files from your desktop to the web host provider.</span></span>


## <a name="introduction"></a><span data-ttu-id="b09a4-109">簡介</span><span class="sxs-lookup"><span data-stu-id="b09a4-109">Introduction</span></span>

<span data-ttu-id="b09a4-110">上一個教學課程導入簡單書籍檢閱 ASP.NET web 應用程式，它包含的少數幾個 ASP.NET 網頁、 主版頁面、 自訂的基底`Page`類別，就會有一些映像，以及三個的 CSS 樣式表。</span><span class="sxs-lookup"><span data-stu-id="b09a4-110">The previous tutorial introduced a simple Book Review ASP.NET web application, which is comprised of a handful of ASP.NET pages, a master page, a custom base `Page` class, a number of images, and three CSS style sheets.</span></span> <span data-ttu-id="b09a4-111">我們現在已準備好部署到 web 主機提供者，此時應用程式會使用連線到網際網路的任何人存取此應用程式 ！</span><span class="sxs-lookup"><span data-stu-id="b09a4-111">We are now ready to deploy this application to a web host provider, at which point the application will be accessible to anyone with a connection to the Internet!</span></span>


<span data-ttu-id="b09a4-112">從我們的 「 討論區[*判斷哪些檔案需要部署*](determining-what-files-need-to-be-deployed-cs.md)教學課程中，我們知道檔案需要複製到 web 主機提供者。</span><span class="sxs-lookup"><span data-stu-id="b09a4-112">From our discussions in the [*Determining What Files Need to Be Deployed*](determining-what-files-need-to-be-deployed-cs.md) tutorial, we know what files need to be copied to the web host provider.</span></span> <span data-ttu-id="b09a4-113">（重新叫用會複製哪些檔案取決於是否您編譯應用程式明確或自動）。但是，我們該如何將檔案從開發環境 （桌面） 到生產環境 （web 主機提供者所管理的 web 伺服器）？</span><span class="sxs-lookup"><span data-stu-id="b09a4-113">(Recall that what files are copied depends on whether your application is explicitly or automatically compiled.) But how do we get the files from the development environment (our desktop) up to the production environment (the web server managed by the web host provider)?</span></span> <span data-ttu-id="b09a4-114">[ **F** ile **T** ransfer **P**協定 (FTP)](http://en.wikipedia.org/wiki/File_Transfer_Protocol)是常用的通訊協定，將檔案從一部電腦複製到另一個，在網路上。</span><span class="sxs-lookup"><span data-stu-id="b09a4-114">The [**F** ile **T** ransfer **P** rotocol (FTP)](http://en.wikipedia.org/wiki/File_Transfer_Protocol) is a commonly used protocol for copying files from one machine to another over a network.</span></span> <span data-ttu-id="b09a4-115">另一個選項是 FrontPage Server Extensions (FPSE)。</span><span class="sxs-lookup"><span data-stu-id="b09a4-115">Another option is FrontPage Server Extensions (FPSE).</span></span> <span data-ttu-id="b09a4-116">本教學課程著重於使用獨立 FTP 用戶端軟體部署到生產環境必要檔案從開發環境。</span><span class="sxs-lookup"><span data-stu-id="b09a4-116">This tutorial focuses on using stand-alone FTP client software to deploy the necessary files from the development environment to the production environment.</span></span>

> [!NOTE]
> <span data-ttu-id="b09a4-117">Visual Studio 包含適用於透過 FTP; 的發行網站工具這些工具，以及了解使用 FPSE，工具會在下一個教學課程中說明。</span><span class="sxs-lookup"><span data-stu-id="b09a4-117">Visual Studio includes tools for publishing websites via FTP; these tools, as well as a look at tools that use FPSE, are covered in the next tutorial.</span></span>


<span data-ttu-id="b09a4-118">使用的 FTP，我們需要將檔案複製*FTP 用戶端*在開發環境。</span><span class="sxs-lookup"><span data-stu-id="b09a4-118">To copy the files using FTP we need an *FTP client* on the development environment.</span></span> <span data-ttu-id="b09a4-119">FTP 用戶端是應用程式是設計用來將檔案從安裝到電腦正在執行的電腦複製*FTP 伺服器*。</span><span class="sxs-lookup"><span data-stu-id="b09a4-119">An FTP client is an application that is designed to copy files from the computer it's installed to a computer that is running an *FTP server*.</span></span> <span data-ttu-id="b09a4-120">（如果您的 web 主機提供者支援透過 FTP，檔案傳輸，大部分一樣，則其 web 伺服器上執行的 FTP 伺服器。）沒有可用的 FTP 用戶端應用程式的數目。</span><span class="sxs-lookup"><span data-stu-id="b09a4-120">(If your web host provider supports file transfers via FTP, as most do, then there is an FTP server running on their web servers.) There are a number of FTP client applications available.</span></span> <span data-ttu-id="b09a4-121">您的 web 瀏覽器可以做為 FTP 用戶端甚至兩倍。</span><span class="sxs-lookup"><span data-stu-id="b09a4-121">Your web browser can even double as an FTP client.</span></span> <span data-ttu-id="b09a4-122">我最喜愛的 FTP 用戶端，也就是，我將使用此教學課程中，是[FileZilla](http://filezilla-project.org/)，適用於 Windows、 Linux 和 Mac 的免費、 開放原始碼 FTP 用戶端。</span><span class="sxs-lookup"><span data-stu-id="b09a4-122">My favorite FTP client, and the one I will be using for this tutorial, is [FileZilla](http://filezilla-project.org/), a free, open-source FTP client that is available for Windows, Linux, and Macs.</span></span> <span data-ttu-id="b09a4-123">任何 FTP 用戶端運作，不過，因此自由使用任何用戶端您最熟悉。</span><span class="sxs-lookup"><span data-stu-id="b09a4-123">Any FTP client will work, though, so feel free to use whatever client you are most comfortable with.</span></span>

<span data-ttu-id="b09a4-124">如果您已遵循沿著您將需要與 web 主機提供者之前建立帳戶才能完成本教學課程或後續的。</span><span class="sxs-lookup"><span data-stu-id="b09a4-124">If you are following along you will need to create an account with a web host provider before you can complete this tutorial or subsequent ones.</span></span> <span data-ttu-id="b09a4-125">如先前的教學課程中所述，有廣泛的價格、 功能和服務品質與 1gb 的 web 主機提供者的公司。</span><span class="sxs-lookup"><span data-stu-id="b09a4-125">As noted in the previous tutorial, there are a gaggle of web host provider companies with a wide spectrum of prices, features, and quality of service.</span></span> <span data-ttu-id="b09a4-126">本教學課程系列我將使用[折扣 ASP.NET](http://discountasp.net)為我的 web 主機提供者，但您可以依照任何 web 主機提供者，只要它們支援您的網站開發中的 ASP.NET 版本。</span><span class="sxs-lookup"><span data-stu-id="b09a4-126">For this tutorial series I will be using [Discount ASP.NET](http://discountasp.net) as my web host provider, but you can follow along with any web host provider as long as they support the ASP.NET version your site is developed in.</span></span> <span data-ttu-id="b09a4-127">（這些教學課程被建立使用 ASP.NET 3.5。）此外，因為我們將會將檔案複製到 web 主機提供者使用 FTP，在本教學課程，在未來的務必您的 web 主機提供者支援其 web 伺服器的 FTP 存取。</span><span class="sxs-lookup"><span data-stu-id="b09a4-127">(These tutorials were created using ASP.NET 3.5.) Also, because we will be copying the files to the web host provider using FTP in this tutorial and in future ones it is imperative that your web host provider supports FTP access to their web servers.</span></span> <span data-ttu-id="b09a4-128">幾乎所有的 web 主機提供者會提供這項功能，但您應該註冊前先仔細查看。</span><span class="sxs-lookup"><span data-stu-id="b09a4-128">Virtually all web host providers offer this feature, but you should double-check before signing up.</span></span>

## <a name="deploying-the-book-review-web-application-project"></a><span data-ttu-id="b09a4-129">部署活頁簿檢閱 Web 應用程式專案</span><span class="sxs-lookup"><span data-stu-id="b09a4-129">Deploying the Book Review Web Application Project</span></span>

<span data-ttu-id="b09a4-130">您應該記得，有兩個版本的書籍評論 web 應用程式： 一個使用 Web 應用程式專案模型 (BookReviewsWAP) 和其他使用網站專案模型 (BookReviewsWSP) 實作。</span><span class="sxs-lookup"><span data-stu-id="b09a4-130">Recall that there are two versions of the Book Review web application: one implemented using the Web Application Project model (BookReviewsWAP) and the other using the Web Site Project model (BookReviewsWSP).</span></span> <span data-ttu-id="b09a4-131">專案類型會影響是否自動或明確地編譯的站台和該編譯模型可讓您指定要部署需要的檔案。</span><span class="sxs-lookup"><span data-stu-id="b09a4-131">The project type influences whether the site is compiled automatically or explicitly, and that compilation model dictates what files need to be deployed.</span></span> <span data-ttu-id="b09a4-132">因此，我們將檢視個別部署的 BookReviewsWAP 和 BookReviewsWSP 專案開始 BookReviewsWAP。</span><span class="sxs-lookup"><span data-stu-id="b09a4-132">Consequently, we will examine deploying the BookReviewsWAP and BookReviewsWSP projects separately, starting with the BookReviewsWAP.</span></span> <span data-ttu-id="b09a4-133">請花一點時間下載這些兩個 ASP.NET 應用程式，如果您有不這麼做。</span><span class="sxs-lookup"><span data-stu-id="b09a4-133">Take a moment to download these two ASP.NET applications if you have not done so already.</span></span>

<span data-ttu-id="b09a4-134">瀏覽至啟動 BookReviewsWAP 專案`BookReviewsWAP`資料夾，然後按兩下`BookReviewsWAP.sln`檔案。</span><span class="sxs-lookup"><span data-stu-id="b09a4-134">Launch the BookReviewsWAP project by navigating to the `BookReviewsWAP` folder and double-clicking the `BookReviewsWAP.sln` file.</span></span> <span data-ttu-id="b09a4-135">部署專案之前請務必建置它以確保原始程式碼的任何變更都包含在已編譯的組件。</span><span class="sxs-lookup"><span data-stu-id="b09a4-135">Before deploying the project it is important to build it to ensure that any changes to the source code are included in the compiled assembly.</span></span> <span data-ttu-id="b09a4-136">若要建置的專案移至 [建置] 功能表，然後選擇 [建置 BookReviewsWAP] 功能表選項。</span><span class="sxs-lookup"><span data-stu-id="b09a4-136">To build the project go to the Build menu and choose the Build BookReviewsWAP menu option.</span></span> <span data-ttu-id="b09a4-137">這會將專案中的原始程式碼編譯成單一組件中， `BookReviewsWAP.dll`，其會置於`Bin`資料夾。</span><span class="sxs-lookup"><span data-stu-id="b09a4-137">This compiles the source code in the project into a single assembly, `BookReviewsWAP.dll`, which is placed in the `Bin` folder.</span></span>

<span data-ttu-id="b09a4-138">現在，我們已準備好部署必要的檔案 ！</span><span class="sxs-lookup"><span data-stu-id="b09a4-138">We are now ready to deploy the necessary files!</span></span> <span data-ttu-id="b09a4-139">啟動您的 FTP 用戶端並連接到您的 web 主機提供者的 web 伺服器。</span><span class="sxs-lookup"><span data-stu-id="b09a4-139">Launch your FTP client and connect to the web server at your web host provider.</span></span> <span data-ttu-id="b09a4-140">（當您使用哪家虛擬主機公司註冊它們會透過電子郵件傳送如何連接到 FTP 伺服器的詳細資訊，包括 FTP 伺服器，以及使用者名稱和密碼的位址）。</span><span class="sxs-lookup"><span data-stu-id="b09a4-140">(When you sign up with a web hosting company they will email you information on how to connect to the FTP server; this includes the address for the FTP server as well as a username and password.)</span></span>

<span data-ttu-id="b09a4-141">從您的桌面的下列檔案複製到在您的 web 主機服務提供者的根網站資料夾中。</span><span class="sxs-lookup"><span data-stu-id="b09a4-141">Copy the following files from your desktop to the root website folder at your web host provider.</span></span> <span data-ttu-id="b09a4-142">當您進入 web 伺服器的 FTP 在 web 主控提供者可能會在網站根目錄。</span><span class="sxs-lookup"><span data-stu-id="b09a4-142">When you FTP into the web server at the web host provider you are likely at the root website directory.</span></span> <span data-ttu-id="b09a4-143">不過，有些 web 主機提供者都有名稱為的子`www`或`wwwroot`做為您的網站檔案的根資料夾。</span><span class="sxs-lookup"><span data-stu-id="b09a4-143">However, some web host providers have a subfolder named `www` or `wwwroot` that serves as the root folder for your website files.</span></span> <span data-ttu-id="b09a4-144">最後，當 FTPing 檔案時您可能需要在實際執行環境-建立對應的資料夾結構`Bin`資料夾中，`Fiction`資料夾，`Images`資料夾，並依此類推。</span><span class="sxs-lookup"><span data-stu-id="b09a4-144">Finally, when FTPing the files you may need to create the corresponding folder structure on the production environment - the `Bin` folder, the `Fiction` folder, the `Images` folder, and so on.</span></span>

- `~/Default.aspx`
- `~/About.aspx`
- `~/Site.master`
- `~/Web.config`
- `~/Web.sitemap`
- <span data-ttu-id="b09a4-145">完整內容`Styles`資料夾</span><span class="sxs-lookup"><span data-stu-id="b09a4-145">The complete contents of the `Styles` folder</span></span>
- <span data-ttu-id="b09a4-146">完整內容`Images`資料夾 (及其子資料夾， `BookCovers`)</span><span class="sxs-lookup"><span data-stu-id="b09a4-146">The complete contents of the `Images` folder (and its subfolder, `BookCovers`)</span></span>
- `~/Fiction/Default.aspx`
- `~/Fiction/Blaze.aspx`
- `~/Tech/Default.aspx`
- `~/Tech/CYOW.aspx`
- `~/Tech/TYASP35.aspx`
- `~/Bin/BookReviewsWAP.dll`

<span data-ttu-id="b09a4-147">[圖 1] 顯示 FileZilla 之後已複製必要的檔案。</span><span class="sxs-lookup"><span data-stu-id="b09a4-147">Figure 1 shows FileZilla after the necessary files have been copied.</span></span> <span data-ttu-id="b09a4-148">FileZilla 會顯示本機電腦上的檔案，在左邊和右邊的遠端電腦上的檔案。</span><span class="sxs-lookup"><span data-stu-id="b09a4-148">FileZilla displays the files on the local computer on the left and the files on the remote computer on the right.</span></span> <span data-ttu-id="b09a4-149">如 圖 1 所示，ASP.NET 原始程式碼檔案，例如`About.aspx.cs`，位於本機電腦 （開發環境），但未複製到 web 主機提供者 （生產環境） 因為程式碼檔案不需要使用時，部署明確的編譯。</span><span class="sxs-lookup"><span data-stu-id="b09a4-149">As Figure 1 shows, the ASP.NET source code files, such as `About.aspx.cs`, are on the local computer (the development environment) but were not copied to the web host provider (the production environment) because code files do not need to be deployed when using explicit compilation.</span></span>

> [!NOTE]
> <span data-ttu-id="b09a4-150">擁有來源的程式碼檔案，在實際執行伺服器上，沒有壞處，因為它們會被忽略。</span><span class="sxs-lookup"><span data-stu-id="b09a4-150">There is no harm in having the source code files on the production server, as they are ignored.</span></span> <span data-ttu-id="b09a4-151">ASP.NET 預設禁止原始程式碼檔的 HTTP 要求，且即使實際執行伺服器上的原始程式碼檔案有存取網站的訪客。</span><span class="sxs-lookup"><span data-stu-id="b09a4-151">ASP.NET forbids HTTP requests to source code files by default so that even if the source code files are present on the production server they are inaccessible to visitors to your website.</span></span> <span data-ttu-id="b09a4-152">(亦即，如果使用者嘗試瀏覽`http://www.yoursite.com/Default.aspx.cs`它們會出現，表示錯誤頁面，這些類型的檔案-`.cs`檔案-禁止。)</span><span class="sxs-lookup"><span data-stu-id="b09a4-152">(That is, if a user tries to visit `http://www.yoursite.com/Default.aspx.cs` they will get an error page that explains that these types of files - `.cs` files - are forbidden.)</span></span>


[![U<span data-ttu-id="b09a4-153">se FTP 用戶端所需的檔案複製到 Web 伺服器，在 Web 主機服務提供者的您的桌面]</span><span class="sxs-lookup"><span data-stu-id="b09a4-153">se an FTP Client to Copy the Necessary Files from Your Desktop to the Web Server at the Web Host Provider]</span></span>(deploying-your-site-using-an-ftp-client-cs/_static/image2.png)](deploying-your-site-using-an-ftp-client-cs/_static/image1.png)

<span data-ttu-id="b09a4-154">**圖 1**:若要從您的桌面的必要的檔案複製到 Web 伺服器，在 Web 主機服務提供者使用 FTP 用戶端 ([按一下以檢視完整大小的影像](deploying-your-site-using-an-ftp-client-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="b09a4-154">**Figure 1**: Use an FTP Client to Copy the Necessary Files from Your Desktop to the Web Server at the Web Host Provider ([Click to view full-size image](deploying-your-site-using-an-ftp-client-cs/_static/image3.png))</span></span>


<span data-ttu-id="b09a4-155">部署您的網站後請花一點時間測試的網站。</span><span class="sxs-lookup"><span data-stu-id="b09a4-155">After deploying your site take a moment to test the site.</span></span> <span data-ttu-id="b09a4-156">如果您已購買的網域名稱，並設定 DNS 設定正確，您可以造訪您的網站，輸入您的網域名稱。</span><span class="sxs-lookup"><span data-stu-id="b09a4-156">If you have purchased a domain name and configured the DNS settings properly, you can visit your site by entering your domain name.</span></span> <span data-ttu-id="b09a4-157">或者，您的 web 主機提供者應該提供您的 url，您的網站，這看起來就像*accountname*。*webhostprovider*.com 或*webhostprovider*.com /*accountname*。</span><span class="sxs-lookup"><span data-stu-id="b09a4-157">Alternatively, your web host provider should have supplied you with a URL to your site, which will look something like *accountname*.*webhostprovider*.com or *webhostprovider*.com/*accountname*.</span></span> <span data-ttu-id="b09a4-158">比方說，我折扣 asp.net 帳戶的 URL 是： `http://httpruntime.web703.discountasp.net`。</span><span class="sxs-lookup"><span data-stu-id="b09a4-158">For example, the URL for my account on Discount ASP.NET is: `http://httpruntime.web703.discountasp.net`.</span></span>

<span data-ttu-id="b09a4-159">[圖 2] 顯示已部署的書籍評論站台。</span><span class="sxs-lookup"><span data-stu-id="b09a4-159">Figure 2 shows the deployed Book Reviews site.</span></span> <span data-ttu-id="b09a4-160">請注意我正在折扣 ASP 上檢視它。NET 的伺服器在`http://httpruntime.web703.discountasp.net`。</span><span class="sxs-lookup"><span data-stu-id="b09a4-160">Note that I am viewing it on Discount ASP.NET's servers, at `http://httpruntime.web703.discountasp.net`.</span></span> <span data-ttu-id="b09a4-161">在此時間點的網際網路連線的任何人都可以檢視我的網站 ！</span><span class="sxs-lookup"><span data-stu-id="b09a4-161">At this point in time anyone with a connection to the Internet could view my website!</span></span> <span data-ttu-id="b09a4-162">如我們所預期，站台的外觀與行為就像在開發環境中測試它時一樣。</span><span class="sxs-lookup"><span data-stu-id="b09a4-162">As we'd expect, the site looks and behaves just as it did when testing it in the development environment.</span></span>

> [!NOTE]
> <span data-ttu-id="b09a4-163">如果您收到錯誤時檢視您的應用程式花點時間，請確認您已部署一組正確的檔案。</span><span class="sxs-lookup"><span data-stu-id="b09a4-163">If you get an error when viewing your application take a moment to ensure that you deployed the correct set of files.</span></span> <span data-ttu-id="b09a4-164">接下來，請檢查錯誤訊息，以查看它會顯示任何有關此問題的線索。</span><span class="sxs-lookup"><span data-stu-id="b09a4-164">Next, check the error message to see if it reveals any clues as to the problem.</span></span> <span data-ttu-id="b09a4-165">接下來，您可以向 web 主機公司的技術服務人員，或在適當的論壇上張貼您的問題[ASP.NET 論壇](https://forums.asp.net/)。</span><span class="sxs-lookup"><span data-stu-id="b09a4-165">Following that, you can turn to your web host company's helpdesk or post your question to the appropriate forum at the [ASP.NET Forums](https://forums.asp.net/).</span></span>


[![T<span data-ttu-id="b09a4-166">他的書籍評論網站是現在可存取網際網路連線的任何人]</span><span class="sxs-lookup"><span data-stu-id="b09a4-166">he Book Reviews Site is Now Accessible to Anyone with an Internet Connection]</span></span>(deploying-your-site-using-an-ftp-client-cs/_static/image5.png)](deploying-your-site-using-an-ftp-client-cs/_static/image4.png)

<span data-ttu-id="b09a4-167">**圖 2**:書籍評論網站是現在可以存取網際網路連線的任何人 ([按一下以檢視完整大小的影像](deploying-your-site-using-an-ftp-client-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="b09a4-167">**Figure 2**: The Book Reviews Site is Now Accessible to Anyone with an Internet Connection ([Click to view full-size image](deploying-your-site-using-an-ftp-client-cs/_static/image6.png))</span></span>


## <a name="deploying-the-book-review-web-site-project"></a><span data-ttu-id="b09a4-168">部署活頁簿檢閱網站專案</span><span class="sxs-lookup"><span data-stu-id="b09a4-168">Deploying the Book Review Web Site Project</span></span>

<span data-ttu-id="b09a4-169">部署使用 BookReviewsWSP 網站專案中，例如自動編譯的 ASP.NET 應用程式時沒有任何編譯的組件中`Bin`資料夾。</span><span class="sxs-lookup"><span data-stu-id="b09a4-169">When deploying an ASP.NET application that uses automatic compilation, such as the BookReviewsWSP Web Site Project, there is no compiled assembly in the `Bin` folder.</span></span> <span data-ttu-id="b09a4-170">如此一來，web 應用程式的原始程式碼檔必須部署到生產環境。</span><span class="sxs-lookup"><span data-stu-id="b09a4-170">As a result, the web application's source code files must be deployed to the production environment.</span></span> <span data-ttu-id="b09a4-171">讓我們逐步解說這個程序。</span><span class="sxs-lookup"><span data-stu-id="b09a4-171">Let's walk through this process.</span></span>

<span data-ttu-id="b09a4-172">與 Web 應用程式專案是個明智的選擇，以第一次建置應用程式，再將它部署。</span><span class="sxs-lookup"><span data-stu-id="b09a4-172">As with the Web Application Project it's wise to first Build the application before deploying it.</span></span> <span data-ttu-id="b09a4-173">而建置的網站專案時，不會建立組件，它會檢查有任何網頁中的編譯時期錯誤。</span><span class="sxs-lookup"><span data-stu-id="b09a4-173">While building a Web Site Project does not create an assembly, it does check for any compile-time errors in the page.</span></span> <span data-ttu-id="b09a4-174">更好的立即找出這些錯誤，而不是讓您的網站造訪者為您探索 ！</span><span class="sxs-lookup"><span data-stu-id="b09a4-174">Better to find these errors now rather than having a visitor to your site discover them for you!</span></span>

<span data-ttu-id="b09a4-175">一旦您已成功建置專案，請將下列檔案複製到在您的 web 主機服務提供者的根網站資料夾使用您的 FTP 用戶端。</span><span class="sxs-lookup"><span data-stu-id="b09a4-175">Once you've successfully built the project, use your FTP client to copy the following files to the root website folder at your web host provider.</span></span> <span data-ttu-id="b09a4-176">您可能需要在實際執行環境中建立對應的資料夾結構。</span><span class="sxs-lookup"><span data-stu-id="b09a4-176">You may need to create the corresponding folder structure on the production environment.</span></span>

> [!NOTE]
> <span data-ttu-id="b09a4-177">如果您已部署專案，但是仍然想要嘗試部署 BookReviewsWSP 專案的 BookReviewsWAP，先刪除所有網頁伺服器上部署 BookReviewsWAP 時已上傳的檔案，並接著部署 BookReviewsWSP 的檔案。</span><span class="sxs-lookup"><span data-stu-id="b09a4-177">If you already deployed the BookReviewsWAP project but still want to try deploying the BookReviewsWSP project, first delete all of the files on the web server that were uploaded when deploying BookReviewsWAP and then deploy the files for BookReviewsWSP.</span></span>


- `~/Default.aspx`
- `~/Default.aspx.cs`
- `~/About.aspx`
- `~/About.aspx.cs`
- `~/Site.master`
- `~/Site.master.cs`
- `~/Web.config`
- `~/Web.sitemap`
- <span data-ttu-id="b09a4-178">完整內容`Styles`資料夾</span><span class="sxs-lookup"><span data-stu-id="b09a4-178">The complete contents of the `Styles` folder</span></span>
- <span data-ttu-id="b09a4-179">完整內容`Images`資料夾 (及其子資料夾， `BookCovers`)</span><span class="sxs-lookup"><span data-stu-id="b09a4-179">The complete contents of the `Images` folder (and its subfolder, `BookCovers`)</span></span>
- `~/App_Code/BasePage.cs`
- `~/Fiction/Default.aspx`
- `~/Fiction/Default.aspx.cs`
- `~/Fiction/Blaze.aspx`
- `~/Fiction/Blaze.aspx.cs`
- `~/Tech/Default.aspx`
- `~/Tech/Default.aspx.cs`
- `~/Tech/CYOW.aspx`
- `~/Tech/CYOW.aspx.cs`
- `~/Tech/TYASP35.aspx`
- `~/Tech/TYASP35.aspx.cs`

<span data-ttu-id="b09a4-180">圖 3 顯示 FileZilla 之後複製所需的檔案。</span><span class="sxs-lookup"><span data-stu-id="b09a4-180">Figure 3 shows FileZilla after copying up the necessary files.</span></span> <span data-ttu-id="b09a4-181">如您所見，ASP.NET 來源的程式碼檔案，例如`About.aspx.cs`，會出現在本機電腦 （開發環境） 和 web 主機提供者 （生產環境），因為程式碼檔案需要時使用自動部署編譯。</span><span class="sxs-lookup"><span data-stu-id="b09a4-181">As you can see, the ASP.NET source code files, such as `About.aspx.cs`, are present on both the local computer (the development environment) and the web host provider (the production environment) because code files need to be deployed when using automatic compilation.</span></span>


[![U<span data-ttu-id="b09a4-182">se FTP 用戶端所需的檔案複製到 Web 伺服器，在 Web 主機服務提供者的您的桌面]</span><span class="sxs-lookup"><span data-stu-id="b09a4-182">se an FTP Client to Copy the Necessary Files from Your Desktop to the Web Server at the Web Host Provider]</span></span>(deploying-your-site-using-an-ftp-client-cs/_static/image8.png)](deploying-your-site-using-an-ftp-client-cs/_static/image7.png)

<span data-ttu-id="b09a4-183">**圖 3**:若要從您的桌面的必要的檔案複製到 Web 伺服器，在 Web 主機服務提供者使用 FTP 用戶端 ([按一下以檢視完整大小的影像](deploying-your-site-using-an-ftp-client-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="b09a4-183">**Figure 3**: Use an FTP Client to Copy the Necessary Files from Your Desktop to the Web Server at the Web Host Provider ([Click to view full-size image](deploying-your-site-using-an-ftp-client-cs/_static/image9.png))</span></span>


<span data-ttu-id="b09a4-184">使用者體驗不會受到應用程式的編譯模型。</span><span class="sxs-lookup"><span data-stu-id="b09a4-184">The user experience is not affected by the application's compilation model.</span></span> <span data-ttu-id="b09a4-185">相同的 ASP.NET 頁面都可以存取和它們的外觀和是否已建立網站，使用 Web 應用程式專案模型或網站專案模型的行為相同。</span><span class="sxs-lookup"><span data-stu-id="b09a4-185">The same ASP.NET pages are accessible and they look and behave the same whether the website was created using the Web Application Project model or the Web Site Project model.</span></span>

### <a name="updating-a-web-application-on-production"></a><span data-ttu-id="b09a4-186">更新生產環境 Web 應用程式</span><span class="sxs-lookup"><span data-stu-id="b09a4-186">Updating a Web Application on Production</span></span>

<span data-ttu-id="b09a4-187">Web 應用程式開發和部署不是一次性的程序。</span><span class="sxs-lookup"><span data-stu-id="b09a4-187">Web application development and deployment are not a one-time process.</span></span> <span data-ttu-id="b09a4-188">例如，建立書籍評論網站時我建置在各種頁面並在我的個人電腦 （開發環境） 撰寫隨附的程式碼。</span><span class="sxs-lookup"><span data-stu-id="b09a4-188">For example, when creating the Book Review website I built the various pages and wrote the accompanying code on my personal computer (the development environment).</span></span> <span data-ttu-id="b09a4-189">在達到特定穩定的狀態之後, 我部署我的應用程式，以便其他人無法瀏覽網站並閱讀我的評論。</span><span class="sxs-lookup"><span data-stu-id="b09a4-189">After reaching a certain stable state, I deployed my application so that others could visit the site and read my reviews.</span></span> <span data-ttu-id="b09a4-190">但部署沒有標記的結尾我在此站台上進行開發。</span><span class="sxs-lookup"><span data-stu-id="b09a4-190">But deployment does not mark the end of my development on this site.</span></span> <span data-ttu-id="b09a4-191">我可能會新增更多的書籍評論或實作新功能，例如允許速率叢書我訪客或保留他們自己的註解。</span><span class="sxs-lookup"><span data-stu-id="b09a4-191">I may add more book reviews or implement new features, such as allowing my visitors to rate books or leave their own comments.</span></span> <span data-ttu-id="b09a4-192">這類的增強功能會在開發環境上開發，而且完成時，則需要部署。</span><span class="sxs-lookup"><span data-stu-id="b09a4-192">Such enhancements would be developed on the development environment and, when completed, would need to be deployed.</span></span> <span data-ttu-id="b09a4-193">開發及部署，因此，會循環。</span><span class="sxs-lookup"><span data-stu-id="b09a4-193">Development and deployment, therefore, are cyclical.</span></span> <span data-ttu-id="b09a4-194">您開發應用程式，然後再部署它。</span><span class="sxs-lookup"><span data-stu-id="b09a4-194">You develop an application and then deploy it.</span></span> <span data-ttu-id="b09a4-195">即時站台時和在生產環境中，加入新功能，並已修正 bug，經過一段時間，因此需要重新部署應用程式。</span><span class="sxs-lookup"><span data-stu-id="b09a4-195">While the site is live and in production, new features are added and bugs are fixed over time, which necessitates re-deploying the application.</span></span> <span data-ttu-id="b09a4-196">等等，依此類推。</span><span class="sxs-lookup"><span data-stu-id="b09a4-196">And so on and so on.</span></span>

<span data-ttu-id="b09a4-197">如您所料，重新部署您只需要將新的和變更的檔案複製的 web 應用程式時。</span><span class="sxs-lookup"><span data-stu-id="b09a4-197">As you might expect, when re-deploying a web application you only need to copy new and changed files.</span></span> <span data-ttu-id="b09a4-198">不需要重新部署未變更的頁面或伺服器或用戶端支援的檔案 （雖然沒有壞處，在此情況下）。</span><span class="sxs-lookup"><span data-stu-id="b09a4-198">There's no need to re-deploy unchanged pages or server- or client-side support files (although there's no harm in doing so).</span></span>

> [!NOTE]
> <span data-ttu-id="b09a4-199">請記住，當使用明確的編譯時，每當您將新的 ASP.NET 網頁新增至專案，或進行任何程式碼相關的變更，需要重新建置您的專案，更新的組件中的一件事`Bin`資料夾。</span><span class="sxs-lookup"><span data-stu-id="b09a4-199">One thing to keep in mind when using explicit compilation is that anytime you add a new ASP.NET page to the project or make any code-related changes, you need to rebuild your project, which updates the assembly in the `Bin` folder.</span></span> <span data-ttu-id="b09a4-200">因此，您必須更新 （以及其他新的和更新內容） 的生產 web 應用程式時，此更新的組件複製到生產環境。</span><span class="sxs-lookup"><span data-stu-id="b09a4-200">Consequently, you'll need to copy this updated assembly to production when updating a web application on production (along with the other new and updated content).</span></span>


<span data-ttu-id="b09a4-201">也了解任何變為`Web.config`中的檔案或`Bin`目錄會停止並重新啟動網站的應用程式集區。</span><span class="sxs-lookup"><span data-stu-id="b09a4-201">Also understand that any changes to the `Web.config` or the files in the `Bin` directory stops and restarts the website's Application Pool.</span></span> <span data-ttu-id="b09a4-202">如果您的工作階段狀態儲存使用`InProc`模式 （預設值），則您的網站訪客會失去其工作階段狀態時修改這些金鑰的檔案。</span><span class="sxs-lookup"><span data-stu-id="b09a4-202">If your session state is stored using the `InProc` mode (the default) then your site's visitors will lose their session state whenever these key files are modified.</span></span> <span data-ttu-id="b09a4-203">若要避免這個錯誤，請考慮將儲存工作階段使用`StateServer`或`SQLServer`模式。</span><span class="sxs-lookup"><span data-stu-id="b09a4-203">To avoid this pitfall, consider storing session using the `StateServer` or `SQLServer` modes.</span></span> <span data-ttu-id="b09a4-204">如需本主題的詳細資訊，請參閱[工作階段狀態模式](https://msdn.microsoft.com/library/ms178586.aspx)。</span><span class="sxs-lookup"><span data-stu-id="b09a4-204">For more information on this topic read [Session-State Modes](https://msdn.microsoft.com/library/ms178586.aspx).</span></span>

<span data-ttu-id="b09a4-205">最後，請記住，重新部署應用程式可能會花費幾秒鐘的時間從數分鐘的時間，視需要複製到實際執行環境之檔案的大小與數量而定。</span><span class="sxs-lookup"><span data-stu-id="b09a4-205">Finally, keep in mind that re-deploying an application can take anywhere from a few seconds to several minutes, depending on the number and size of files that need to be copied to the production environment.</span></span> <span data-ttu-id="b09a4-206">在這段期間瀏覽您的網站的使用者可能會遇到錯誤或奇怪的行為。</span><span class="sxs-lookup"><span data-stu-id="b09a4-206">During this time users visiting your site may experience errors or odd behavior.</span></span> <span data-ttu-id="b09a4-207">您可以 「 關閉 」 整個應用程式藉由新增名為的頁面`App_Offline.htm`給您的使用者說明您的應用程式根目錄的站台維護 （或任何） 已關閉，並將會備份短時間內。</span><span class="sxs-lookup"><span data-stu-id="b09a4-207">You can "turn off" your entire application by adding a page named `App_Offline.htm` to your application's root directory that explains to your users that the site is down for maintenance (or whatever) and will be back up shortly.</span></span> <span data-ttu-id="b09a4-208">當`App_Offline.htm`檔案存在，則 ASP.NET 執行階段將所有連入要求重新導向至該頁面。</span><span class="sxs-lookup"><span data-stu-id="b09a4-208">When the `App_Offline.htm` file is present, the ASP.NET runtime redirects all incoming requests to that page.</span></span>

## <a name="summary"></a><span data-ttu-id="b09a4-209">總結</span><span class="sxs-lookup"><span data-stu-id="b09a4-209">Summary</span></span>

<span data-ttu-id="b09a4-210">部署 web 應用程式需要必要的檔案複製到生產環境的開發環境。</span><span class="sxs-lookup"><span data-stu-id="b09a4-210">Deploying a web application entails copying the necessary files from the development environment to the production environment.</span></span> <span data-ttu-id="b09a4-211">最常見的方法，檔案透過網路傳輸檔案傳輸通訊協定 (FTP)，而且大部分的 web 主機提供者支援其 web 伺服器的 FTP 存取。</span><span class="sxs-lookup"><span data-stu-id="b09a4-211">The most common means by which files are transferred over a network is the File Transfer Protocol (FTP), and most web host providers support FTP access to their web servers.</span></span> <span data-ttu-id="b09a4-212">在本教學課程中，我們看到如何使用 FTP 用戶端部署至 web 伺服器的所需的檔案。</span><span class="sxs-lookup"><span data-stu-id="b09a4-212">In this tutorial we saw how to use an FTP client to deploy the needed files to the web server.</span></span> <span data-ttu-id="b09a4-213">一旦部署之後，網站可瀏覽的任何人都具有連線到網際網路 ！</span><span class="sxs-lookup"><span data-stu-id="b09a4-213">Once deployed, the website can be visited by anyone with a connection to the Internet!</span></span>

<span data-ttu-id="b09a4-214">快樂地寫程式 ！</span><span class="sxs-lookup"><span data-stu-id="b09a4-214">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="b09a4-215">進一步閱讀</span><span class="sxs-lookup"><span data-stu-id="b09a4-215">Further Reading</span></span>

<span data-ttu-id="b09a4-216">如需有關在本教學課程所討論的主題的詳細資訊，請參閱下列資源：</span><span class="sxs-lookup"><span data-stu-id="b09a4-216">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="b09a4-217">應用程式\_Offline.htm 和解決 「 IE 易記錯誤 」 功能</span><span class="sxs-lookup"><span data-stu-id="b09a4-217">App\_Offline.htm and Working Around the "IE Friendly Errors" Feature</span></span>](https://weblogs.asp.net/scottgu/App_5F00_Offline.htm-and-working-around-the-_2200_IE-Friendly-Errors_2200_-feature)
- [<span data-ttu-id="b09a4-218">工作階段狀態模式</span><span class="sxs-lookup"><span data-stu-id="b09a4-218">Session-State Modes</span></span>](https://msdn.microsoft.com/library/ms178586.aspx)

> [!div class="step-by-step"]
> <span data-ttu-id="b09a4-219">[上一頁](determining-what-files-need-to-be-deployed-cs.md)
> [下一頁](deploying-your-site-using-visual-studio-cs.md)</span><span class="sxs-lookup"><span data-stu-id="b09a4-219">[Previous](determining-what-files-need-to-be-deployed-cs.md)
[Next](deploying-your-site-using-visual-studio-cs.md)</span></span>
