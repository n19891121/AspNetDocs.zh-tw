---
uid: web-forms/overview/older-versions-getting-started/master-pages/creating-a-site-wide-layout-using-master-pages-cs
title: 使用主版頁面建立全網站的版面配置C#（） |Microsoft Docs
author: rick-anderson
description: 本教學課程將顯示主版頁面的基本概念。 也就是說，什麼是主版頁面、如何建立主版頁面、什麼是內容預留位置，還有一個 cr 。
ms.author: riande
ms.date: 05/21/2008
ms.assetid: 78f8d194-03b9-44a5-8255-90e7cd1c2ee1
msc.legacyurl: /web-forms/overview/older-versions-getting-started/master-pages/creating-a-site-wide-layout-using-master-pages-cs
msc.type: authoredcontent
ms.openlocfilehash: 1a5e85c443a2a3642ec185ab1897c43cdb2ab1f7
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/06/2020
ms.locfileid: "78625388"
---
# <a name="creating-a-site-wide-layout-using-master-pages-c"></a><span data-ttu-id="182b1-104">使用主版頁面建立全網站的版面配置 (C#)</span><span class="sxs-lookup"><span data-stu-id="182b1-104">Creating a Site-Wide Layout Using Master Pages (C#)</span></span>

<span data-ttu-id="182b1-105">由[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="182b1-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="182b1-106">[下載程式代碼](https://download.microsoft.com/download/e/e/f/eef369f5-743a-4a52-908f-b6532c4ce0a4/ASPNET_MasterPages_Tutorial_01_CS.zip)或[下載 PDF](https://download.microsoft.com/download/8/f/6/8f6349e4-6554-405a-bcd7-9b094ba5089a/ASPNET_MasterPages_Tutorial_01_CS.pdf)</span><span class="sxs-lookup"><span data-stu-id="182b1-106">[Download Code](https://download.microsoft.com/download/e/e/f/eef369f5-743a-4a52-908f-b6532c4ce0a4/ASPNET_MasterPages_Tutorial_01_CS.zip) or [Download PDF](https://download.microsoft.com/download/8/f/6/8f6349e4-6554-405a-bcd7-9b094ba5089a/ASPNET_MasterPages_Tutorial_01_CS.pdf)</span></span>

> <span data-ttu-id="182b1-107">本教學課程將顯示主版頁面的基本概念。</span><span class="sxs-lookup"><span data-stu-id="182b1-107">This tutorial will show master page basics.</span></span> <span data-ttu-id="182b1-108">也就是說，什麼是主版頁面、如何建立主版頁面、什麼是內容預留位置、如何建立使用主版頁面的 ASP.NET 網頁、修改主版頁面如何自動反映在相關聯的內容頁面等等。</span><span class="sxs-lookup"><span data-stu-id="182b1-108">Namely, what are master pages, how does one create a master page, what are content place holders, how does one create an ASP.NET page that uses a master page, how modifying the master page is automatically reflected in its associated content pages, and so on.</span></span>

## <a name="introduction"></a><span data-ttu-id="182b1-109">簡介</span><span class="sxs-lookup"><span data-stu-id="182b1-109">Introduction</span></span>

<span data-ttu-id="182b1-110">設計良好的網站的其中一個屬性是一致的全網站頁面配置。</span><span class="sxs-lookup"><span data-stu-id="182b1-110">One attribute of a well-designed website is a consistent site-wide page layout.</span></span> <span data-ttu-id="182b1-111">例如，取得 www.asp.net 網站。</span><span class="sxs-lookup"><span data-stu-id="182b1-111">Take the www.asp.net website, for example.</span></span> <span data-ttu-id="182b1-112">在撰寫本文時，每個頁面在頁面的頂端和底部都有相同的內容。</span><span class="sxs-lookup"><span data-stu-id="182b1-112">At the time of this writing, every page has the same content at the top and bottom of the page.</span></span> <span data-ttu-id="182b1-113">如 [圖 1] 所示，每個頁面的最上方會顯示一個含有 Microsoft 社區清單的灰色列。</span><span class="sxs-lookup"><span data-stu-id="182b1-113">As Figure 1 shows, the very top of each page displays a gray bar with a list of Microsoft Communities.</span></span> <span data-ttu-id="182b1-114">其下是網站標誌、網站轉譯的語言清單，以及核心區段：首頁、開始使用、學習、下載等等。</span><span class="sxs-lookup"><span data-stu-id="182b1-114">Beneath that is the site logo, the list of languages into which the site has been translated, and the core sections: Home, Get Started, Learn, Downloads, and so forth.</span></span> <span data-ttu-id="182b1-115">同樣地，頁面底部也會包含有關 www.asp.net 廣告、著作權聲明和隱私權聲明連結的資訊。</span><span class="sxs-lookup"><span data-stu-id="182b1-115">Likewise, the bottom of the page includes information about advertising on www.asp.net, a copyright statement, and a link to the privacy statement.</span></span>

<span data-ttu-id="182b1-116">[![www.asp.net 網站在所有頁面上都採用一致的外觀與風格](creating-a-site-wide-layout-using-master-pages-cs/_static/image2.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="182b1-116">[![The www.asp.net Website Employs a Consistent Look and Feel Across All Pages](creating-a-site-wide-layout-using-master-pages-cs/_static/image2.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image1.png)</span></span>

<span data-ttu-id="182b1-117"><strong>圖 01</strong>： www.asp.net 網站在所有頁面上都採用一致的外觀與風格（[按一下以觀看完整大小的影像](creating-a-site-wide-layout-using-master-pages-cs/_static/image3.png)）</span><span class="sxs-lookup"><span data-stu-id="182b1-117"><strong>Figure 01</strong>: The www.asp.net Website Employs a Consistent Look and Feel Across All Pages ([Click to view full-size image](creating-a-site-wide-layout-using-master-pages-cs/_static/image3.png))</span></span>

<span data-ttu-id="182b1-118">設計良好的網站的另一個屬性，就是網站外觀可以變更的便利性。</span><span class="sxs-lookup"><span data-stu-id="182b1-118">Another attribute of a well-designed site is the ease with which the site's appearance can be changed.</span></span> <span data-ttu-id="182b1-119">[圖 1] 顯示從2008年3月起的 www.asp.net 首頁，但現在和本教學課程的發行版本之間，外觀與風格可能已變更。</span><span class="sxs-lookup"><span data-stu-id="182b1-119">Figure 1 shows the www.asp.net homepage as of March 2008, but between now and this tutorial's publication, the look and feel may have changed.</span></span> <span data-ttu-id="182b1-120">或許頂端的功能表項目會展開以包含 MVC 架構的新區段。</span><span class="sxs-lookup"><span data-stu-id="182b1-120">Perhaps the menu items along the top will expand to include a new section for the MVC framework.</span></span> <span data-ttu-id="182b1-121">或者，可能會揭曉具有不同色彩、字型和版面配置的全新設計。</span><span class="sxs-lookup"><span data-stu-id="182b1-121">Or maybe a radically new design with different colors, fonts, and layout will be unveiled.</span></span> <span data-ttu-id="182b1-122">將這類變更套用到整個網站應該是快速且簡單的程式，而不需要修改組成網站的數千個網頁。</span><span class="sxs-lookup"><span data-stu-id="182b1-122">Applying such changes to the entire site should be a fast and simple process that does not require modifying the thousands of web pages that make up the site.</span></span>

<span data-ttu-id="182b1-123">透過使用*主版頁面*，即可在 ASP.NET 中建立全網站的頁面範本。</span><span class="sxs-lookup"><span data-stu-id="182b1-123">Creating a site-wide page template in ASP.NET is possible through the use of *master pages*.</span></span> <span data-ttu-id="182b1-124">簡單來說，主版頁面是一種特殊的 ASP.NET 網頁，它會定義所有*內容頁面*中通用的標記，以及每個內容頁面上可自訂的區域。</span><span class="sxs-lookup"><span data-stu-id="182b1-124">In a nutshell, a master page is a special type of ASP.NET page that defines the markup that is common among all *content pages* as well as regions that are customizable on a content page-by-content page basis.</span></span> <span data-ttu-id="182b1-125">（內容頁面是系結至主版頁面的 ASP.NET 網頁。）每當主版頁面的版面配置或格式變更時，其所有內容頁的輸出同樣都會立即更新，因此套用全網站外觀變更的方式，就像更新和部署單一檔案（也就是主版頁面）一樣簡單。</span><span class="sxs-lookup"><span data-stu-id="182b1-125">(A content page is an ASP.NET page that is bound to the master page.) Whenever a master page's layout or formatting is changed, all of its content pages' output is likewise immediately updated, which makes applying site-wide appearance changes as easy as updating and deploying a single file (namely, the master page).</span></span>

<span data-ttu-id="182b1-126">這是一系列教學課程中的第一個教學課程，可使用主版頁面進行探索。</span><span class="sxs-lookup"><span data-stu-id="182b1-126">This is the first tutorial in a series of tutorials that explore using master pages.</span></span> <span data-ttu-id="182b1-127">在本教學課程系列中，我們將：</span><span class="sxs-lookup"><span data-stu-id="182b1-127">Over the course of this tutorial series we:</span></span>

- <span data-ttu-id="182b1-128">檢查建立主版頁面及其相關聯的內容頁面，</span><span class="sxs-lookup"><span data-stu-id="182b1-128">Examine creating master pages and their associated content pages,</span></span>
- <span data-ttu-id="182b1-129">討論各種秘訣、訣竅和陷阱，</span><span class="sxs-lookup"><span data-stu-id="182b1-129">Discuss a variety of tips, tricks, and traps,</span></span>
- <span data-ttu-id="182b1-130">找出常見的主版頁面陷阱並探索因應措施，</span><span class="sxs-lookup"><span data-stu-id="182b1-130">Identify common master page pitfalls and explore workarounds,</span></span>
- <span data-ttu-id="182b1-131">請參閱如何從內容頁面存取主版頁面，反之亦然。</span><span class="sxs-lookup"><span data-stu-id="182b1-131">See how to access the master page from a content page and vice-a-versa,</span></span>
- <span data-ttu-id="182b1-132">瞭解如何在執行時間指定內容頁面的主版頁面，以及</span><span class="sxs-lookup"><span data-stu-id="182b1-132">Learn how to specify a content page's master page at runtime, and</span></span>
- <span data-ttu-id="182b1-133">其他先進的主版頁面主題。</span><span class="sxs-lookup"><span data-stu-id="182b1-133">Other advanced master page topics.</span></span>

<span data-ttu-id="182b1-134">這些教學課程的目的是要精簡，並提供逐步指示，讓您能以視覺化方式逐步完成整個流程。</span><span class="sxs-lookup"><span data-stu-id="182b1-134">These tutorials are geared to be concise and provide step-by-step instructions with plenty of screen shots to walk you through the process visually.</span></span> <span data-ttu-id="182b1-135">每個教學課程都C#可在和 Visual Basic 版本中取得，並包含下載所使用的完整程式碼。</span><span class="sxs-lookup"><span data-stu-id="182b1-135">Each tutorial is available in C# and Visual Basic versions and includes a download of the complete code used.</span></span>

<span data-ttu-id="182b1-136">本執筆教學課程一開始會介紹主版頁面的基本概念。</span><span class="sxs-lookup"><span data-stu-id="182b1-136">This inaugural tutorial starts with a look at master page basics.</span></span> <span data-ttu-id="182b1-137">我們會討論主版頁面的使用方式、查看使用 Visual Web Developer 建立主版頁面和相關聯的內容頁面，以及查看主版頁面的變更會如何立即反映在其內容頁面中。</span><span class="sxs-lookup"><span data-stu-id="182b1-137">We discuss how master pages work, look at creating a master page and associated content pages using Visual Web Developer, and see how changes to a master page are immediately reflected in its content pages.</span></span> <span data-ttu-id="182b1-138">現在就開始吧！</span><span class="sxs-lookup"><span data-stu-id="182b1-138">Let's get started!</span></span>

## <a name="understanding-how-master-pages-work"></a><span data-ttu-id="182b1-139">瞭解主版頁面的工作方式</span><span class="sxs-lookup"><span data-stu-id="182b1-139">Understanding How Master Pages Work</span></span>

<span data-ttu-id="182b1-140">建立具有一致全網站頁面配置的網站，會要求每個網頁除了其自訂內容之外，也會發出一般格式標記。</span><span class="sxs-lookup"><span data-stu-id="182b1-140">Building a website with a consistent site-wide page layout requires that each web page emit common formatting markup in addition to its custom content.</span></span> <span data-ttu-id="182b1-141">例如，雖然 www.asp.net 上的每個教學課程或論壇文章都有自己的獨特內容，但每個頁面也會轉譯一系列常見的 `<div>` 專案，這些專案會顯示最上層的區段連結：首頁、入門、學習等等。</span><span class="sxs-lookup"><span data-stu-id="182b1-141">For example, while each tutorial or forum post on www.asp.net have their own unique content, each of these pages also render a series of common `<div>` elements that display the top-level section links: Home, Get Started, Learn, and so on.</span></span>

<span data-ttu-id="182b1-142">有各種技術可讓您以一致的外觀和風格來建立網頁。</span><span class="sxs-lookup"><span data-stu-id="182b1-142">There are a variety of techniques for creating web pages with a consistent look and feel.</span></span> <span data-ttu-id="182b1-143">簡單的方法是直接將一般版面配置標記複製並貼到所有網頁中，但這種方法有許多缺點。</span><span class="sxs-lookup"><span data-stu-id="182b1-143">A naive approach is to simply copy and paste the common layout markup into all web pages, but this approach has a number of downsides.</span></span> <span data-ttu-id="182b1-144">針對初學者，每次建立新的頁面時，您都必須記得將共用內容複寫並貼到頁面中。</span><span class="sxs-lookup"><span data-stu-id="182b1-144">For starters, every time a new page is created, you must remember to copy and paste the shared content into the page.</span></span> <span data-ttu-id="182b1-145">這類複製和貼上作業會 ripe 錯誤，因為您可能會不小心將共用標記的子集複製到新的頁面。</span><span class="sxs-lookup"><span data-stu-id="182b1-145">Such copying and pasting operations are ripe for error as you may accidentally copy only a subset of the shared markup into a new page.</span></span> <span data-ttu-id="182b1-146">因此，這種方法會將現有全網站的外觀取代為新的樣子，因為網站中的每一頁都必須經過編輯，才能使用新的外觀與風格。</span><span class="sxs-lookup"><span data-stu-id="182b1-146">And to top it off, this approach makes replacing the existing site-wide appearance with a new one a real pain because every single page in the site must be edited in order to use the new look and feel.</span></span>

<span data-ttu-id="182b1-147">在 ASP.NET 2.0 版之前，頁面開發人員通常會在[使用者控制項](https://msdn.microsoft.com/library/y6wb1a0e.aspx)中放置常見的標記，然後將這些使用者控制項新增至每個頁面。</span><span class="sxs-lookup"><span data-stu-id="182b1-147">Prior to ASP.NET version 2.0, page developers often placed common markup in [User Controls](https://msdn.microsoft.com/library/y6wb1a0e.aspx) and then added these User Controls to each and every page.</span></span> <span data-ttu-id="182b1-148">這種方法需要網頁程式開發人員務必要手動將使用者控制項加入至每個新的頁面，但可讓您更輕鬆地修改整個網站，因為在更新一般標記時，只需要修改使用者控制項。</span><span class="sxs-lookup"><span data-stu-id="182b1-148">This approach required that the page developer remember to manually add the User Controls to every new page, but allowed for easier site-wide modifications because when updating the common markup only the User Controls needed to be modified.</span></span> <span data-ttu-id="182b1-149">可惜的是，Visual Studio .NET 2002 和 2003-用來在設計檢視中建立 ASP.NET 1.x 應用程式轉譯的使用者控制項做為灰色方塊的 Visual Studio 版本。</span><span class="sxs-lookup"><span data-stu-id="182b1-149">Unfortunately, Visual Studio .NET 2002 and 2003 - the versions of Visual Studio used to create ASP.NET 1.x applications - rendered User Controls in the Design view as gray boxes.</span></span> <span data-ttu-id="182b1-150">因此，使用這種方法的網頁開發人員不會享用 WYSIWYG 設計階段環境。</span><span class="sxs-lookup"><span data-stu-id="182b1-150">Consequently, page developers using this approach did not enjoy a WYSIWYG design-time environment.</span></span>

<span data-ttu-id="182b1-151">使用使用者控制項的缺點是在 ASP.NET 版本2.0 和 Visual Studio 2005 中，透過*主版頁面*的引進來解決。</span><span class="sxs-lookup"><span data-stu-id="182b1-151">The shortcomings of using User Controls were addressed in ASP.NET version 2.0 and Visual Studio 2005 with the introduction of *master pages*.</span></span> <span data-ttu-id="182b1-152">主版頁面是一種特殊的 ASP.NET 網頁，可定義網站範圍的標記和*區域*，其中相關聯的*內容頁面*會定義其自訂標記。</span><span class="sxs-lookup"><span data-stu-id="182b1-152">A master page is a special type of ASP.NET page that defines both the site-wide markup and the *regions* where associated *content pages* define their custom markup.</span></span> <span data-ttu-id="182b1-153">如我們在步驟1中所見，這些區域是由 ContentPlaceHolder 控制項所定義。</span><span class="sxs-lookup"><span data-stu-id="182b1-153">As we will see in Step 1, these regions are defined by ContentPlaceHolder controls.</span></span> <span data-ttu-id="182b1-154">ContentPlaceHolder 控制項只是代表主版頁面控制項階層中的一個位置，其中的自訂內容可以由內容頁面插入。</span><span class="sxs-lookup"><span data-stu-id="182b1-154">The ContentPlaceHolder control simply denotes a position in the master page's control hierarchy where custom content can be injected by a content page.</span></span>

> [!NOTE]
> <span data-ttu-id="182b1-155">ASP.NET 版本2.0 之後，主版頁面的核心概念和功能並未變更。</span><span class="sxs-lookup"><span data-stu-id="182b1-155">The core concepts and functionality of master pages has not changed since ASP.NET version 2.0.</span></span> <span data-ttu-id="182b1-156">不過，Visual Studio 2008 針對嵌套主版頁面提供設計階段支援，這是在 Visual Studio 2005 中缺少的功能。</span><span class="sxs-lookup"><span data-stu-id="182b1-156">However, Visual Studio 2008 offers design-time support for nested master pages, a feature that was lacking in Visual Studio 2005.</span></span> <span data-ttu-id="182b1-157">在未來的教學課程中，我們將探討如何使用嵌套的主版頁面。</span><span class="sxs-lookup"><span data-stu-id="182b1-157">We will look at using nested master pages in a future tutorial.</span></span>

<span data-ttu-id="182b1-158">[圖 2] 顯示 www.asp.net 的主版頁面看起來可能像這樣。</span><span class="sxs-lookup"><span data-stu-id="182b1-158">Figure 2 shows what the master page for www.asp.net might look like.</span></span> <span data-ttu-id="182b1-159">請注意，主版頁面會定義一般全網站的版面配置-每個頁面頂端、底部和右邊的標記，以及位於中間左側的 ContentPlaceHolder，其中每個個別網頁的唯一內容。</span><span class="sxs-lookup"><span data-stu-id="182b1-159">Note that the master page defines the common site-wide layout - the markup at the top, bottom, and right of every page - as well as a ContentPlaceHolder in the middle-left, where the unique content for each individual web page is located.</span></span>

![主版頁面會以內容頁面為基礎，定義網站範圍的版面配置和區域可編輯的地區](creating-a-site-wide-layout-using-master-pages-cs/_static/image4.png)

<span data-ttu-id="182b1-161">**圖 02**：主版頁面會定義網站範圍的版面配置，以及每個內容頁面上可編輯的區域</span><span class="sxs-lookup"><span data-stu-id="182b1-161">**Figure 02**: A Master Page Defines the Site-Wide Layout and the Regions Editable on a Content Page-by-Content Page Basis</span></span>

<span data-ttu-id="182b1-162">定義主版頁面之後，即可透過核取方塊的滴答來系結至新的 ASP.NET 網頁。</span><span class="sxs-lookup"><span data-stu-id="182b1-162">Once a master page has been defined it can be bound to new ASP.NET pages through the tick of a checkbox.</span></span> <span data-ttu-id="182b1-163">這些 ASP.NET 網頁（稱為內容頁）-包含每個主版頁面 ContentPlaceHolder 控制項的內容控制項。</span><span class="sxs-lookup"><span data-stu-id="182b1-163">These ASP.NET pages - called content pages - include a Content control for each of the master page's ContentPlaceHolder controls.</span></span> <span data-ttu-id="182b1-164">透過瀏覽器造訪內容頁面時，ASP.NET 引擎會建立主版頁面的控制項階層，並將內容頁面的控制階層插入適當的位置。</span><span class="sxs-lookup"><span data-stu-id="182b1-164">When the content page is visited through a browser the ASP.NET engine creates the master page's control hierarchy and injects the content page's control hierarchy into the appropriate places.</span></span> <span data-ttu-id="182b1-165">這個合併的控制項階層會轉譯，而產生的 HTML 會傳回給使用者的瀏覽器。</span><span class="sxs-lookup"><span data-stu-id="182b1-165">This combined control hierarchy is rendered and the resulting HTML is returned to the end user's browser.</span></span> <span data-ttu-id="182b1-166">因此，[內容] 頁面會在 ContentPlaceHolder 控制項以外的主版頁面中，以及在其本身內容控制項內定義的頁面特定標記，發出一般的標記。</span><span class="sxs-lookup"><span data-stu-id="182b1-166">Consequently, the content page emits both the common markup defined in its master page outside of the ContentPlaceHolder controls and the page-specific markup defined within its own Content controls.</span></span> <span data-ttu-id="182b1-167">[圖 3] 說明此概念。</span><span class="sxs-lookup"><span data-stu-id="182b1-167">Figure 3 illustrates this concept.</span></span>

<span data-ttu-id="182b1-168">[![要求的頁面標記已融合至主版頁面](creating-a-site-wide-layout-using-master-pages-cs/_static/image6.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="182b1-168">[![The Requested Page's Markup is Fused into the Master Page](creating-a-site-wide-layout-using-master-pages-cs/_static/image6.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image5.png)</span></span>

<span data-ttu-id="182b1-169">**圖 03**：要求的頁面標記已融合至主版頁面（[按一下以觀看完整大小的影像](creating-a-site-wide-layout-using-master-pages-cs/_static/image7.png)）</span><span class="sxs-lookup"><span data-stu-id="182b1-169">**Figure 03**: The Requested Page's Markup is Fused into the Master Page ([Click to view full-size image](creating-a-site-wide-layout-using-master-pages-cs/_static/image7.png))</span></span>

<span data-ttu-id="182b1-170">既然我們已經討論過主版頁面的工作方式，讓我們來看一下如何使用 Visual Web Developer 建立主版頁面和相關聯的內容頁面。</span><span class="sxs-lookup"><span data-stu-id="182b1-170">Now that we have discussed how master pages work, let's take a look at creating a master page and associated content pages using Visual Web Developer.</span></span>

> [!NOTE]
> <span data-ttu-id="182b1-171">為了達到最廣泛的可能物件，我們在本教學課程系列中建立的 ASP.NET 網站將使用 ASP.NET 3.5 搭配 Microsoft 的免費版 Visual Studio 2008、 [Visual Web Developer 2008](https://www.microsoft.com/express/vwd/)來建立。</span><span class="sxs-lookup"><span data-stu-id="182b1-171">In order to reach the widest possible audience, the ASP.NET website we build throughout this tutorial series will be created using ASP.NET 3.5 with Microsoft's free version of Visual Studio 2008, [Visual Web Developer 2008](https://www.microsoft.com/express/vwd/).</span></span> <span data-ttu-id="182b1-172">如果您尚未升級至 ASP.NET 3.5，別擔心，這些教學課程中所討論的概念同樣適用于 ASP.NET 2.0 和 Visual Studio 2005。</span><span class="sxs-lookup"><span data-stu-id="182b1-172">If you have not yet upgraded to ASP.NET 3.5, don't worry - the concepts discussed in these tutorials work equally well with ASP.NET 2.0 and Visual Studio 2005.</span></span> <span data-ttu-id="182b1-173">不過，某些示範應用程式可能會使用 .NET Framework 版本3.5 的新功能;當使用3.5 特有的功能時，我會包含一個附注，討論如何在2.0 版中執行類似的功能。</span><span class="sxs-lookup"><span data-stu-id="182b1-173">However, some demo applications may use features new to the .NET Framework version 3.5; when 3.5-specific features are used, I include a note that discusses how to implement similar functionality in version 2.0.</span></span> <span data-ttu-id="182b1-174">請記住，您可以從每個教學課程中下載的示範應用程式會以 .NET Framework 版本3.5 為目標，這會產生 `Web.config` 檔案，其中包含3.5 特定的設定元素，以及對 ASP.NET 網頁程式碼後置類別中 `using` 語句的3.5 特定命名空間的參考。</span><span class="sxs-lookup"><span data-stu-id="182b1-174">Do keep in mind that the demo applications available for download from each tutorial target the .NET Framework version 3.5, which results in a `Web.config` file that includes 3.5-specific configuration elements and references to 3.5-specific namespaces in the `using` statements in ASP.NET pages' code-behind classes.</span></span> <span data-ttu-id="182b1-175">簡短故事說，如果您還沒有在電腦上安裝 .NET 3.5，下載的 web 應用程式將無法使用，而不需要先從 `Web.config`移除3.5 特定的標記。</span><span class="sxs-lookup"><span data-stu-id="182b1-175">Long story short, if you have yet to install .NET 3.5 on your computer then the downloadable web application will not work without first removing the 3.5-specific markup from `Web.config`.</span></span> <span data-ttu-id="182b1-176">如需本主題的詳細資訊，請參閱[剖析 ASP.NET 3.5 版的 `Web.config`](http://www.4guysfromrolla.com/articles/121207-1.aspx)檔案。</span><span class="sxs-lookup"><span data-stu-id="182b1-176">See [Dissecting ASP.NET Version 3.5's `Web.config` File](http://www.4guysfromrolla.com/articles/121207-1.aspx) for more information on this topic.</span></span> <span data-ttu-id="182b1-177">您也必須移除參考3.5 特定命名空間的 `using` 語句。</span><span class="sxs-lookup"><span data-stu-id="182b1-177">You will also need to remove the `using` statements that reference 3.5-specific namespaces.</span></span>

## <a name="step-1-creating-a-master-page"></a><span data-ttu-id="182b1-178">步驟1：建立主版頁面</span><span class="sxs-lookup"><span data-stu-id="182b1-178">Step 1: Creating a Master Page</span></span>

<span data-ttu-id="182b1-179">在探索如何建立和使用主要和內容頁面之前，我們先需要 ASP.NET 網站。</span><span class="sxs-lookup"><span data-stu-id="182b1-179">Before we can explore creating and using master and content pages, we first need an ASP.NET website.</span></span> <span data-ttu-id="182b1-180">一開始請先建立新的以檔案系統為基礎的 ASP.NET 網站。</span><span class="sxs-lookup"><span data-stu-id="182b1-180">Start by creating a new file system-based ASP.NET website.</span></span> <span data-ttu-id="182b1-181">若要完成此動作，請啟動 Visual Web Developer，然後移至 [檔案] 功能表，並選擇 [新網站]，並顯示 [新網站] 對話方塊（請參閱 [圖 4]）。</span><span class="sxs-lookup"><span data-stu-id="182b1-181">To accomplish this, launch Visual Web Developer and then go to the File menu and choose New Web Site, displaying the New Web Site dialog box (see Figure 4).</span></span> <span data-ttu-id="182b1-182">選擇 [ASP.NET 網站] 範本，將 [位置] 下拉式清單設定為 [檔案系統]，選擇要放置網站的資料夾，然後將語言設定為C#。</span><span class="sxs-lookup"><span data-stu-id="182b1-182">Choose the ASP.NET Web Site template, set the Location drop-down list to File System, choose a folder to place the web site, and set the language to C#.</span></span> <span data-ttu-id="182b1-183">這會建立新的網站，其中包含 `Default.aspx` ASP.NET 頁面、`App_Data` 資料夾和 `Web.config` 檔案。</span><span class="sxs-lookup"><span data-stu-id="182b1-183">This will create a new web site with a `Default.aspx` ASP.NET page, an `App_Data` folder, and a `Web.config` file.</span></span>

> [!NOTE]
> <span data-ttu-id="182b1-184">Visual Studio 支援兩種專案管理模式：網站專案和 Web 應用程式專案。</span><span class="sxs-lookup"><span data-stu-id="182b1-184">Visual Studio supports two modes of project management: Web Site Projects and Web Application Projects.</span></span> <span data-ttu-id="182b1-185">網站專案缺少專案檔，而 Web 應用程式專案在 Visual Studio .NET 2002/2003 中模擬專案架構-它們包括專案檔，並將專案的原始程式碼編譯成單一元件，並放在 [`/bin`] 資料夾中。</span><span class="sxs-lookup"><span data-stu-id="182b1-185">Web Site Projects lack a project file, whereas Web Application Projects mimic the project architecture in Visual Studio .NET 2002/2003 - they include a project file and compile the project's source code into a single assembly, which is placed in the `/bin` folder.</span></span> <span data-ttu-id="182b1-186">Visual Studio 2005 一開始只有支援的網站專案，雖然[Web 應用程式專案模型](https://msdn.microsoft.com/library/aa730880(vs.80).aspx)已與 Service Pack 1 一併重新引入，Visual Studio 2008 提供這兩個專案模型。</span><span class="sxs-lookup"><span data-stu-id="182b1-186">Visual Studio 2005 initially only supported Web Site Projects, although the [Web Application Project model](https://msdn.microsoft.com/library/aa730880(vs.80).aspx) was reintroduced with Service Pack 1; Visual Studio 2008 offers both project models.</span></span> <span data-ttu-id="182b1-187">不過，Visual Web Developer 2005 和2008版本只支援網站專案。</span><span class="sxs-lookup"><span data-stu-id="182b1-187">The Visual Web Developer 2005 and 2008 editions, however, only support Web Site Projects.</span></span> <span data-ttu-id="182b1-188">在本教學課程系列中，我使用網站專案模型來進行示範。</span><span class="sxs-lookup"><span data-stu-id="182b1-188">I use the Web Site Project model for my demos in this tutorial series.</span></span> <span data-ttu-id="182b1-189">如果您使用非 Express edition，而且想要改為使用 Web 應用程式專案模型，請隨意執行此動作，但請注意，您在畫面上看到的內容，以及您必須採取的步驟與顯示和 instructio 的螢幕擷取畫面之間可能會有一些差異這些教學課程中提供的 ns。</span><span class="sxs-lookup"><span data-stu-id="182b1-189">If you are using a non-Express edition and want to use the Web Application Project model instead, feel free to do so but be aware that there may be some discrepancies between what you see on your screen and the steps you must take versus the screen shots shown and instructions provided in these tutorials.</span></span>

<span data-ttu-id="182b1-190">[![建立以檔案系統為基礎的新網站](creating-a-site-wide-layout-using-master-pages-cs/_static/image9.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image8.png)</span><span class="sxs-lookup"><span data-stu-id="182b1-190">[![Create a New File System-Based Web Site](creating-a-site-wide-layout-using-master-pages-cs/_static/image9.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image8.png)</span></span>

<span data-ttu-id="182b1-191">**圖 04**：建立以檔案系統為基礎的新網站（[按一下以觀看完整大小的影像](creating-a-site-wide-layout-using-master-pages-cs/_static/image10.png)）</span><span class="sxs-lookup"><span data-stu-id="182b1-191">**Figure 04**: Create a New File System-Based Web Site  ([Click to view full-size image](creating-a-site-wide-layout-using-master-pages-cs/_static/image10.png))</span></span>

<span data-ttu-id="182b1-192">接下來，以滑鼠右鍵按一下 [專案名稱]，選擇 [加入新專案]，然後選取 [主版頁面] 範本，將主版頁面新增到根目錄中的網站。</span><span class="sxs-lookup"><span data-stu-id="182b1-192">Next, add a master page to the site in the root directory by right-clicking on the Project name, choosing Add New Item, and selecting the Master Page template.</span></span> <span data-ttu-id="182b1-193">請注意，主版頁面的結尾是 `.master`的延伸模組。</span><span class="sxs-lookup"><span data-stu-id="182b1-193">Note that master pages end with the extension `.master`.</span></span> <span data-ttu-id="182b1-194">將此新主版頁面命名為 `Site.master`，然後按一下 [新增]。</span><span class="sxs-lookup"><span data-stu-id="182b1-194">Name this new master page `Site.master` and click Add.</span></span>

<span data-ttu-id="182b1-195">[![將名為網站的主版頁面新增至網站](creating-a-site-wide-layout-using-master-pages-cs/_static/image12.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="182b1-195">[![Add a Master Page Named Site.master to the Website](creating-a-site-wide-layout-using-master-pages-cs/_static/image12.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image11.png)</span></span>

<span data-ttu-id="182b1-196">**圖 05**：將名為 `Site.master` 的主版頁面新增至網站（[按一下以觀看完整大小的影像](creating-a-site-wide-layout-using-master-pages-cs/_static/image13.png)）</span><span class="sxs-lookup"><span data-stu-id="182b1-196">**Figure 05**: Add a Master Page Named `Site.master` to the Website ([Click to view full-size image](creating-a-site-wide-layout-using-master-pages-cs/_static/image13.png))</span></span>

<span data-ttu-id="182b1-197">透過 Visual Web Developer 加入新的主版頁面檔案時，會建立含有下列宣告式標記的主版頁面：</span><span class="sxs-lookup"><span data-stu-id="182b1-197">Adding a new master page file through Visual Web Developer creates a master page with the following declarative markup:</span></span>

[!code-aspx[Main](creating-a-site-wide-layout-using-master-pages-cs/samples/sample1.aspx)]

<span data-ttu-id="182b1-198">宣告式標記中的第一行是[`@Master`](https://msdn.microsoft.com/library/ms228176.aspx)指示詞。</span><span class="sxs-lookup"><span data-stu-id="182b1-198">The first line in the declarative markup is the [`@Master` directive](https://msdn.microsoft.com/library/ms228176.aspx).</span></span> <span data-ttu-id="182b1-199">`@Master` 指示詞類似于出現在 ASP.NET 網頁中的[`@Page`](https://msdn.microsoft.com/library/ydy4x04a.aspx)指示詞。</span><span class="sxs-lookup"><span data-stu-id="182b1-199">The `@Master` directive is similar to the [`@Page` directive](https://msdn.microsoft.com/library/ydy4x04a.aspx) that appears in ASP.NET pages.</span></span> <span data-ttu-id="182b1-200">它會定義伺服器端語言（C#）和主版頁面程式碼後置類別的位置和繼承相關資訊。</span><span class="sxs-lookup"><span data-stu-id="182b1-200">It defines the server-side language (C#) and information about the location and inheritance of the master page's code-behind class.</span></span>

<span data-ttu-id="182b1-201">`DOCTYPE` 和頁面的宣告式標記會出現在 `@Master` 指示詞之下。</span><span class="sxs-lookup"><span data-stu-id="182b1-201">The `DOCTYPE` and the page's declarative markup appears beneath the `@Master` directive.</span></span> <span data-ttu-id="182b1-202">此頁面包含靜態 HTML 和四個伺服器端控制項：</span><span class="sxs-lookup"><span data-stu-id="182b1-202">The page includes static HTML along with four server-side controls:</span></span>

- <span data-ttu-id="182b1-203">**Web form （`<form runat="server">`）** -因為所有 ASP.NET 網頁通常都有 Web 表單，而且主版頁面可能包含必須出現在 Web 表單中的 web 控制項-請務必將 web form 新增至主版頁面（而不是將 web form 新增至每個內容頁面）。</span><span class="sxs-lookup"><span data-stu-id="182b1-203">**A Web Form (the `<form runat="server">`)** - because all ASP.NET pages typically have a Web Form - and because the master page may include Web controls that must appear within a Web Form - be sure to add the Web Form to your master page (rather than adding a Web Form to each content page).</span></span>
- <span data-ttu-id="182b1-204">**名為 `ContentPlaceHolder1`的 ContentPlaceHolder 控制項**-此 ContentPlaceHolder 控制項會出現在 Web 表單中，並作為內容頁面使用者介面的區域。</span><span class="sxs-lookup"><span data-stu-id="182b1-204">**A ContentPlaceHolder control named `ContentPlaceHolder1`** - this ContentPlaceHolder control appears within the Web Form and serves as the region for the content page's user interface.</span></span>
- <span data-ttu-id="182b1-205">**伺服器端 `<head>` 元素**-`<head>` 元素具有 `runat="server"` 屬性，讓它可透過伺服器端程式碼存取。</span><span class="sxs-lookup"><span data-stu-id="182b1-205">**A server-side `<head>` element** - the `<head>` element has the `runat="server"` attribute, making it accessible through server-side code.</span></span> <span data-ttu-id="182b1-206">`<head>` 專案會以這種方式執行，以便以程式設計方式新增或調整頁面的標題和其他 `<head>`相關的標記。</span><span class="sxs-lookup"><span data-stu-id="182b1-206">The `<head>` element is implemented this way so that the page's title and other `<head>`-related markup may be added or adjusted programmatically.</span></span> <span data-ttu-id="182b1-207">例如，設定 ASP.NET 網頁的 `Title` 屬性會變更 `<head>` 伺服器控制項所呈現的 `<title>` 元素。</span><span class="sxs-lookup"><span data-stu-id="182b1-207">For example, setting an ASP.NET page's `Title` property changes the `<title>` element rendered by the `<head>` server control.</span></span>
- <span data-ttu-id="182b1-208">**名為 `head`的 ContentPlaceHolder 控制項**-此 ContentPlaceHolder 控制項會出現在 `<head>` 伺服器控制項內，而且可用來以宣告方式將內容新增至 `<head>` 元素。</span><span class="sxs-lookup"><span data-stu-id="182b1-208">**A ContentPlaceHolder control named `head`** - this ContentPlaceHolder control appears within the `<head>` server control and can be used to declaratively add content to the `<head>` element.</span></span>

<span data-ttu-id="182b1-209">這個預設的主版頁面宣告式標記可做為設計您自己主版頁面的起點。</span><span class="sxs-lookup"><span data-stu-id="182b1-209">This default master page declarative markup serves as a starting point for designing your own master pages.</span></span> <span data-ttu-id="182b1-210">您可以隨意編輯 HTML，或將其他 Web 控制項或 ContentPlaceHolders 加入主版頁面。</span><span class="sxs-lookup"><span data-stu-id="182b1-210">Feel free to edit the HTML or to add additional Web controls or ContentPlaceHolders to the master page.</span></span>

> [!NOTE]
> <span data-ttu-id="182b1-211">設計主版頁面時，請確定主版頁面包含 Web 表單，且此 Web 表單中至少出現一個 ContentPlaceHolder 控制項。</span><span class="sxs-lookup"><span data-stu-id="182b1-211">When designing a master page make sure that the master page contains a Web Form and that at least one ContentPlaceHolder control appears within this Web Form.</span></span>

### <a name="creating-a-simple-site-layout"></a><span data-ttu-id="182b1-212">建立簡單的網站版面配置</span><span class="sxs-lookup"><span data-stu-id="182b1-212">Creating a Simple Site Layout</span></span>

<span data-ttu-id="182b1-213">讓我們展開 `Site.master`的預設宣告式標記，以建立所有頁面共用的網站版面配置：通用標頭;含有導覽、新聞和其他網站範圍內容的左欄;顯示「由 Microsoft ASP.NET 提供技術支援」圖示的頁尾。</span><span class="sxs-lookup"><span data-stu-id="182b1-213">Let's expand `Site.master`'s default declarative markup to create a site layout where all pages share: a common header; a left column with navigation, news and other site-wide content; and a footer that displays the "Powered by Microsoft ASP.NET" icon.</span></span> <span data-ttu-id="182b1-214">[圖 6] 顯示透過瀏覽器觀看其其中一個內容頁面時，主版頁面的最終結果。</span><span class="sxs-lookup"><span data-stu-id="182b1-214">Figure 6 shows the end result of the master page when one of its content pages is viewed through a browser.</span></span> <span data-ttu-id="182b1-215">[圖 6] 中的紅色圓圈區域專屬於所造訪的頁面（`Default.aspx`）;其他內容則定義于主版頁面中，因此在所有內容頁面上都是一致的。</span><span class="sxs-lookup"><span data-stu-id="182b1-215">The red circled region in Figure 6 is specific to the page being visited (`Default.aspx`); the other content is defined in the master page and therefore consistent across all content pages.</span></span>

<span data-ttu-id="182b1-216">[![主版頁面定義頂端、左側和底部部分的標記](creating-a-site-wide-layout-using-master-pages-cs/_static/image15.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image14.png)</span><span class="sxs-lookup"><span data-stu-id="182b1-216">[![The Master Page Defines the Markup for the Top, Left, and Bottom Portions](creating-a-site-wide-layout-using-master-pages-cs/_static/image15.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image14.png)</span></span>

<span data-ttu-id="182b1-217">**圖 06**：主版頁面定義頂端、左邊和下半部的標記（[按一下以查看完整大小的影像](creating-a-site-wide-layout-using-master-pages-cs/_static/image16.png)）</span><span class="sxs-lookup"><span data-stu-id="182b1-217">**Figure 06**: The Master Page Defines the Markup for the Top, Left, and Bottom Portions ([Click to view full-size image](creating-a-site-wide-layout-using-master-pages-cs/_static/image16.png))</span></span>

<span data-ttu-id="182b1-218">若要達到 [圖 6] 所示的網站版面配置，請從更新 `Site.master` 主版頁面開始，使其包含下列宣告式標記：</span><span class="sxs-lookup"><span data-stu-id="182b1-218">To achieve the site layout shown in Figure 6, start by updating the `Site.master` master page so that it contains the following declarative markup:</span></span>

[!code-aspx[Main](creating-a-site-wide-layout-using-master-pages-cs/samples/sample2.aspx)]

<span data-ttu-id="182b1-219">主版頁面的版面配置是使用一系列的 `<div>` HTML 元素來定義。</span><span class="sxs-lookup"><span data-stu-id="182b1-219">The master page's layout is defined using a series of `<div>` HTML elements.</span></span> <span data-ttu-id="182b1-220">`topContent` `<div>` 包含出現在每個頁面頂端的標記，而 `mainContent`、`leftContent`和 `footerContent` `<div>` 會分別用來顯示頁面的內容、左邊的資料行和「由 Microsoft ASP.NET 提供技術支援」圖示。</span><span class="sxs-lookup"><span data-stu-id="182b1-220">The `topContent` `<div>` contains the markup that appears at the top of each page, while the `mainContent`, `leftContent`, and `footerContent` `<div>` s are used to display the page's content, the left column, and the "Powered by Microsoft ASP.NET" icon, respectively.</span></span> <span data-ttu-id="182b1-221">除了加入這些 `<div>` 元素之外，我也將主要 ContentPlaceHolder 控制項的 `ID` 屬性從 `ContentPlaceHolder1` 重新命名為 `MainContent`。</span><span class="sxs-lookup"><span data-stu-id="182b1-221">In addition to adding these `<div>` elements, I also renamed the `ID` property of the primary ContentPlaceHolder control from `ContentPlaceHolder1` to `MainContent`.</span></span>

<span data-ttu-id="182b1-222">這些分類 `<div>` 專案的格式設定和配置規則會在[級聯樣式表單（CSS）](http://en.wikipedia.org/wiki/Cascading_Style_Sheets)檔案 `Styles.css`中拼出，這是透過主版頁面的 &lt;標頭&gt; 元素中的 &lt;連結&gt; 專案所指定。</span><span class="sxs-lookup"><span data-stu-id="182b1-222">The formatting and layout rules for these assorted `<div>` elements is spelled out in the [Cascading Stylesheet (CSS)](http://en.wikipedia.org/wiki/Cascading_Style_Sheets) file `Styles.css`, which is specified via a &lt;link&gt; element in the master page's &lt;head&gt; element.</span></span> <span data-ttu-id="182b1-223">這些不同的規則會定義上述每個 `<div>` 元素的外觀與風格。</span><span class="sxs-lookup"><span data-stu-id="182b1-223">These various rules define the look and feel of each `<div>` element noted above.</span></span> <span data-ttu-id="182b1-224">例如，顯示「主版頁面教學課程」文字和連結的 `topContent` `<div>` 元素，在 `Styles.css` 中指定其格式規則，如下所示：</span><span class="sxs-lookup"><span data-stu-id="182b1-224">For example, the `topContent` `<div>` element, which displays the "Master Pages Tutorials" text and link, has its formatting rules specified in `Styles.css` as follows:</span></span>

[!code-css[Main](creating-a-site-wide-layout-using-master-pages-cs/samples/sample3.css)]

<span data-ttu-id="182b1-225">如果您在電腦上進行下列動作，您將需要下載本教學課程隨附的程式碼，並將 `Styles.css` 檔案新增至您的專案。</span><span class="sxs-lookup"><span data-stu-id="182b1-225">If you are following along at your computer, you will need to download this tutorial's accompanying code and add the `Styles.css` file to your project.</span></span> <span data-ttu-id="182b1-226">同樣地，您也必須建立名為 Images 的資料夾，並將從下載的示範網站複製的「提供 Microsoft ASP.NET」圖示複製到您的專案。</span><span class="sxs-lookup"><span data-stu-id="182b1-226">Similarly, you will also need to create a folder named Images and copy the "Powered by Microsoft ASP.NET" icon from the downloaded demo website to your project.</span></span>

> [!NOTE]
> <span data-ttu-id="182b1-227">CSS 和網頁格式的討論已超出本文的範圍。</span><span class="sxs-lookup"><span data-stu-id="182b1-227">A discussion of CSS and web page formatting is beyond the scope of this article.</span></span> <span data-ttu-id="182b1-228">如需 CSS 的詳細資訊，請參閱[Css 教學](http://www.w3schools.com/css/default.asp)課程，網址為[W3Schools.com](http://www.w3schools.com/)。</span><span class="sxs-lookup"><span data-stu-id="182b1-228">For more on CSS, check out the [CSS Tutorials](http://www.w3schools.com/css/default.asp) at [W3Schools.com](http://www.w3schools.com/).</span></span> <span data-ttu-id="182b1-229">我也建議您下載本教學課程隨附的程式碼，並在 `Styles.css` 中使用 CSS 設定來查看不同格式規則的效果。</span><span class="sxs-lookup"><span data-stu-id="182b1-229">I also encourage you to download this tutorial's accompanying code and play with the CSS settings in `Styles.css` to see the effects of different formatting rules.</span></span>

### <a name="creating-a-master-page-using-an-existing-design-template"></a><span data-ttu-id="182b1-230">使用現有的設計範本建立主版頁面</span><span class="sxs-lookup"><span data-stu-id="182b1-230">Creating a Master Page Using an Existing Design Template</span></span>

<span data-ttu-id="182b1-231">多年來，我為中小型公司打造了一些 ASP.NET 的 web 應用程式。</span><span class="sxs-lookup"><span data-stu-id="182b1-231">Over the years I've built a number of ASP.NET web applications for small- to medium-sized companies.</span></span> <span data-ttu-id="182b1-232">我的一些用戶端有他們想要使用的現有網站版面配置;其他人雇用了有能力的圖形設計工具。</span><span class="sxs-lookup"><span data-stu-id="182b1-232">Some of my clients had an existing site layout they wanted to use; others hired a competent graphics designer.</span></span> <span data-ttu-id="182b1-233">我有幾個信賴我設計網站版面配置。</span><span class="sxs-lookup"><span data-stu-id="182b1-233">A few entrusted me to design the website layout.</span></span> <span data-ttu-id="182b1-234">如 [圖 6] 所示，負責設計網站版面配置的程式設計師，通常是讓您的會計師執行開放式的外科，同時醫生會進行您的稅金。</span><span class="sxs-lookup"><span data-stu-id="182b1-234">As you can tell by Figure 6, tasking a programmer to design a website's layout is usually as wise as having your accountant perform open-heart surgery while your doctor does your taxes.</span></span>

<span data-ttu-id="182b1-235">幸運的是，有 innumerous 網站提供免費的 HTML 設計範本-Google 針對搜尋詞彙「免費網站範本」傳回6000000以上的結果。</span><span class="sxs-lookup"><span data-stu-id="182b1-235">Fortunately, there are innumerous websites that offer free HTML design templates - Google returned more than six million results for the search term "free website templates."</span></span> <span data-ttu-id="182b1-236">我最愛的一個就是[OpenDesigns.org](http://opendesigns.org/)。一旦找到您喜歡的網站範本之後，請將 CSS 檔案和影像新增至您的網站專案，並將範本的 HTML 整合到主版頁面。</span><span class="sxs-lookup"><span data-stu-id="182b1-236">One of my favorite ones is [OpenDesigns.org](http://opendesigns.org/). Once you find a website template you like, add the CSS files and images to your website project and integrate the template's HTML into your master page.</span></span>

> [!NOTE]
> <span data-ttu-id="182b1-237">Microsoft 也提供了一些[免費的 ASP.NET Design 啟動套件範本](https://msdn.microsoft.com/asp.net/aa336613.aspx)，可整合到 Visual Studio 的 [新網站] 對話方塊中。</span><span class="sxs-lookup"><span data-stu-id="182b1-237">Microsoft also offers a number of [free ASP.NET Design Start Kit Templates](https://msdn.microsoft.com/asp.net/aa336613.aspx) that integrate into the New Web Site dialog box in Visual Studio.</span></span>

## <a name="step-2-creating-associated-content-pages"></a><span data-ttu-id="182b1-238">步驟2：建立相關聯的內容頁面</span><span class="sxs-lookup"><span data-stu-id="182b1-238">Step 2: Creating Associated Content Pages</span></span>

<span data-ttu-id="182b1-239">建立主版頁面之後，我們就可以開始建立系結至主版頁面的 ASP.NET 網頁。</span><span class="sxs-lookup"><span data-stu-id="182b1-239">With the master page created, we are ready to start creating ASP.NET pages that are bound to the master page.</span></span> <span data-ttu-id="182b1-240">這類頁面稱為*內容頁面*。</span><span class="sxs-lookup"><span data-stu-id="182b1-240">Such pages are referred to as *content pages*.</span></span>

<span data-ttu-id="182b1-241">讓我們將新的 ASP.NET 網頁新增至專案，並將它系結至 `Site.master` 主版頁面。</span><span class="sxs-lookup"><span data-stu-id="182b1-241">Let's add a new ASP.NET page to the project and bind it to the `Site.master` master page.</span></span> <span data-ttu-id="182b1-242">以滑鼠右鍵按一下方案總管中的專案名稱，然後選擇 [加入新專案] 選項。</span><span class="sxs-lookup"><span data-stu-id="182b1-242">Right-click on the project name in Solution Explorer and choose the Add New Item option.</span></span> <span data-ttu-id="182b1-243">選取 [Web 表單] 範本，輸入 `About.aspx`的名稱，然後選取 [選取主版頁面] 核取方塊，如 [圖 7] 所示。</span><span class="sxs-lookup"><span data-stu-id="182b1-243">Select the Web Form template, enter the name `About.aspx`, and then check the "Select master page" checkbox as shown in Figure 7.</span></span> <span data-ttu-id="182b1-244">這麼做會顯示 [選取主版頁面] 對話方塊（請參閱 [圖 8]），您可以從這裡選擇要使用的主版頁面。</span><span class="sxs-lookup"><span data-stu-id="182b1-244">Doing so will display the Select a Master Page dialog box (see Figure 8) from where you can choose the master page to use.</span></span>

> [!NOTE]
> <span data-ttu-id="182b1-245">如果您使用 Web 應用程式專案模型（而不是網站專案模型）來建立 ASP.NET 網站，您將不會在 [圖 7] 所示的 [加入新專案] 對話方塊中看到 [選取主版頁面] 核取方塊。</span><span class="sxs-lookup"><span data-stu-id="182b1-245">If you created your ASP.NET website using the Web Application Project model instead of the Web Site Project model you will not see the "Select master page" checkbox in the Add New Item dialog box shown in Figure 7.</span></span> <span data-ttu-id="182b1-246">若要在使用 Web 應用程式專案模型時建立內容頁面，您必須選擇 [Web 內容表單] 範本，而不是 [Web 表單] 範本。</span><span class="sxs-lookup"><span data-stu-id="182b1-246">To create a content page when using the Web Application Project model you must choose the Web Content Form template instead of the Web Form template.</span></span> <span data-ttu-id="182b1-247">選取 [Web 內容表單] 範本並按一下 [新增] 之後，就會出現 [圖 8] 中所示的相同 [選取主版頁面] 對話方塊。</span><span class="sxs-lookup"><span data-stu-id="182b1-247">After selecting the Web Content Form template and clicking Add, the same Select a Master Page dialog box shown in Figure 8 will appear.</span></span>

<span data-ttu-id="182b1-248">[![新增內容頁面](creating-a-site-wide-layout-using-master-pages-cs/_static/image18.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="182b1-248">[![Add a New Content Page](creating-a-site-wide-layout-using-master-pages-cs/_static/image18.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image17.png)</span></span>

<span data-ttu-id="182b1-249">**圖 07**：新增內容頁面（[按一下以觀看完整大小的影像](creating-a-site-wide-layout-using-master-pages-cs/_static/image19.png)）</span><span class="sxs-lookup"><span data-stu-id="182b1-249">**Figure 07**: Add a New Content Page ([Click to view full-size image](creating-a-site-wide-layout-using-master-pages-cs/_static/image19.png))</span></span>

<span data-ttu-id="182b1-250">[![選取 [網站] 主版頁面](creating-a-site-wide-layout-using-master-pages-cs/_static/image21.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image20.png)</span><span class="sxs-lookup"><span data-stu-id="182b1-250">[![Select the Site.master Master Page](creating-a-site-wide-layout-using-master-pages-cs/_static/image21.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image20.png)</span></span>

<span data-ttu-id="182b1-251">**圖 08**：選取 `Site.master` 主版頁面（[按一下以查看完整大小的影像](creating-a-site-wide-layout-using-master-pages-cs/_static/image22.png)）</span><span class="sxs-lookup"><span data-stu-id="182b1-251">**Figure 08**: Select the `Site.master` Master Page ([Click to view full-size image](creating-a-site-wide-layout-using-master-pages-cs/_static/image22.png))</span></span>

<span data-ttu-id="182b1-252">如下列宣告式標記所示，新的內容頁面會包含一個 `@Page` 指示詞，它會指向其主版頁面，以及每個主版頁面 ContentPlaceHolder 控制項的內容控制項。</span><span class="sxs-lookup"><span data-stu-id="182b1-252">As the following declarative markup shows, a new content page contains a `@Page` directive that points back to its master page and a Content control for each of the master page's ContentPlaceHolder controls.</span></span>

[!code-aspx[Main](creating-a-site-wide-layout-using-master-pages-cs/samples/sample4.aspx)]

> [!NOTE]
> <span data-ttu-id="182b1-253">在步驟1中的「建立簡單的網站配置」一節中，我將 `ContentPlaceHolder1` 重新命名為 `MainContent`。</span><span class="sxs-lookup"><span data-stu-id="182b1-253">In the "Creating a Simple Site Layout" section in Step 1 I renamed `ContentPlaceHolder1` to `MainContent`.</span></span> <span data-ttu-id="182b1-254">如果您未以相同方式重新命名此 ContentPlaceHolder 控制項的 `ID`，則內容頁面的宣告式標記會與上面所示的標記稍有不同。</span><span class="sxs-lookup"><span data-stu-id="182b1-254">If you did not rename this ContentPlaceHolder control's `ID` in the same way, your content page's declarative markup will differ slightly from the markup shown above.</span></span> <span data-ttu-id="182b1-255">亦即，第二個內容控制項的 `ContentPlaceHolderID` 將會反映主版頁面中對應 ContentPlaceHolder 控制項的 `ID`。</span><span class="sxs-lookup"><span data-stu-id="182b1-255">Namely, the second Content control's `ContentPlaceHolderID` will reflect the `ID` of the corresponding ContentPlaceHolder control in your master page.</span></span>

<span data-ttu-id="182b1-256">轉譯內容頁時，ASP.NET 引擎必須在頁面的內容控制項中加上其主版頁面的 ContentPlaceHolder 控制項。</span><span class="sxs-lookup"><span data-stu-id="182b1-256">When rendering a content page, the ASP.NET engine must fuse the page's Content controls with its master page's ContentPlaceHolder controls.</span></span> <span data-ttu-id="182b1-257">ASP.NET 引擎會從 `@Page` 指示詞的 `MasterPageFile` 屬性判斷內容頁面的主版頁面。</span><span class="sxs-lookup"><span data-stu-id="182b1-257">The ASP.NET engine determines the content page's master page from the `@Page` directive's `MasterPageFile` attribute.</span></span> <span data-ttu-id="182b1-258">如上述標記所示，此內容頁面會系結至 `~/Site.master`。</span><span class="sxs-lookup"><span data-stu-id="182b1-258">As the above markup shows, this content page is bound to `~/Site.master`.</span></span>

<span data-ttu-id="182b1-259">因為主版頁面有兩個 ContentPlaceHolder 控制項，`head` 和 `MainContent`-Visual Web Developer 產生了兩個內容控制項。</span><span class="sxs-lookup"><span data-stu-id="182b1-259">Because the master page has two ContentPlaceHolder controls - `head` and `MainContent` - Visual Web Developer generated two Content controls.</span></span> <span data-ttu-id="182b1-260">每個內容控制項都會透過其 `ContentPlaceHolderID` 屬性來參考特定的 ContentPlaceHolder。</span><span class="sxs-lookup"><span data-stu-id="182b1-260">Each Content control references a particular ContentPlaceHolder via its `ContentPlaceHolderID` property.</span></span>

<span data-ttu-id="182b1-261">主版頁面會在其設計階段支援的情況下，與先前全網站的範本技術相比。</span><span class="sxs-lookup"><span data-stu-id="182b1-261">Where master pages shine over previous site-wide template techniques is with their design-time support.</span></span> <span data-ttu-id="182b1-262">[圖 9] 顯示透過 Visual Web Developer 的設計檢視觀看時的 `About.aspx` 內容頁面。</span><span class="sxs-lookup"><span data-stu-id="182b1-262">Figure 9 shows the `About.aspx` content page when viewed through Visual Web Developer's Design view.</span></span> <span data-ttu-id="182b1-263">請注意，主版頁面內容會顯示為灰色，而且無法修改。</span><span class="sxs-lookup"><span data-stu-id="182b1-263">Note that while the master page content is visible, it is grayed out and cannot be modified.</span></span> <span data-ttu-id="182b1-264">不過，與主版頁面的 ContentPlaceHolders 對應的內容控制項是可編輯的。</span><span class="sxs-lookup"><span data-stu-id="182b1-264">The Content controls corresponding to the master page's ContentPlaceHolders are, however, editable.</span></span> <span data-ttu-id="182b1-265">就像任何其他 ASP.NET 網頁，您可以透過來源或設計檢視加入 Web 控制項，來建立內容頁面的介面。</span><span class="sxs-lookup"><span data-stu-id="182b1-265">And just like with any other ASP.NET page, you can create the content page's interface by adding Web controls through the Source or Design views.</span></span>

<span data-ttu-id="182b1-266">[![[內容] 頁面的設計檢視會同時顯示頁面特定和主版頁面的內容](creating-a-site-wide-layout-using-master-pages-cs/_static/image24.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="182b1-266">[![The Content Page's Design View Displays Both the Page-Specific and Master Page Contents](creating-a-site-wide-layout-using-master-pages-cs/_static/image24.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image23.png)</span></span>

<span data-ttu-id="182b1-267">**圖 09**： [內容] 頁面的設計檢視會同時顯示頁面特定和主版頁面的內容（[按一下以查看完整大小的影像](creating-a-site-wide-layout-using-master-pages-cs/_static/image25.png)）</span><span class="sxs-lookup"><span data-stu-id="182b1-267">**Figure 09**: The Content Page's Design View Displays Both the Page-Specific and Master Page Contents ([Click to view full-size image](creating-a-site-wide-layout-using-master-pages-cs/_static/image25.png))</span></span>

### <a name="adding-markup-and-web-controls-to-the-content-page"></a><span data-ttu-id="182b1-268">將標記和 Web 控制項新增至內容頁面</span><span class="sxs-lookup"><span data-stu-id="182b1-268">Adding Markup and Web Controls to the Content Page</span></span>

<span data-ttu-id="182b1-269">請花一些時間建立 `About.aspx` 頁面的一些內容。</span><span class="sxs-lookup"><span data-stu-id="182b1-269">Take a moment to create some content for the `About.aspx` page.</span></span> <span data-ttu-id="182b1-270">如 [圖 10] 所示，我輸入了「關於作者」標題和幾段文字，但您也可以隨意加入 Web 控制項。</span><span class="sxs-lookup"><span data-stu-id="182b1-270">As you can see in Figure 10, I entered an "About the Author" heading and a couple of paragraphs of text, but feel free to add Web controls, too.</span></span> <span data-ttu-id="182b1-271">建立此介面之後，請透過瀏覽器造訪 [`About.aspx`] 頁面。</span><span class="sxs-lookup"><span data-stu-id="182b1-271">After creating this interface, visit the `About.aspx` page through a browser.</span></span>

<span data-ttu-id="182b1-272">[![透過瀏覽器造訪 About .aspx 頁面](creating-a-site-wide-layout-using-master-pages-cs/_static/image27.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image26.png)</span><span class="sxs-lookup"><span data-stu-id="182b1-272">[![Visit the About.aspx Page Through a Browser](creating-a-site-wide-layout-using-master-pages-cs/_static/image27.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image26.png)</span></span>

<span data-ttu-id="182b1-273">**圖 10**：透過瀏覽器造訪 `About.aspx` 頁面（[按一下以觀看完整大小的影像](creating-a-site-wide-layout-using-master-pages-cs/_static/image28.png)）</span><span class="sxs-lookup"><span data-stu-id="182b1-273">**Figure 10**: Visit the `About.aspx` Page Through a Browser ([Click to view full-size image](creating-a-site-wide-layout-using-master-pages-cs/_static/image28.png))</span></span>

<span data-ttu-id="182b1-274">請務必瞭解，要求的內容頁面和其相關聯的主版頁面都已融合在 web 伺服器上，並全部呈現為整體。</span><span class="sxs-lookup"><span data-stu-id="182b1-274">It is important to understand that the requested content page and its associated master page are fused and rendered as a whole entirely on the web server.</span></span> <span data-ttu-id="182b1-275">然後，終端使用者的瀏覽器會傳送產生的已融合 HTML。</span><span class="sxs-lookup"><span data-stu-id="182b1-275">The end user's browser is then sent the resulting, fused HTML.</span></span> <span data-ttu-id="182b1-276">若要確認這一點，請前往 [View] 功能表並選擇 [Source]，以查看瀏覽器收到的 HTML。</span><span class="sxs-lookup"><span data-stu-id="182b1-276">To verify this, view the HTML received by the browser by going to the View menu and choosing Source.</span></span> <span data-ttu-id="182b1-277">請注意，在單一視窗中，沒有任何框架或任何其他特定的技術可顯示兩個不同的網頁。</span><span class="sxs-lookup"><span data-stu-id="182b1-277">Note that there are no frames or any other specialized techniques for displaying two different web pages in a single window.</span></span>

### <a name="binding-a-master-page-to-an-existing-aspnet-page"></a><span data-ttu-id="182b1-278">將主版頁面系結至現有的 ASP.NET 網頁</span><span class="sxs-lookup"><span data-stu-id="182b1-278">Binding a Master Page to an Existing ASP.NET Page</span></span>

<span data-ttu-id="182b1-279">如我們在這個步驟中所見，將新的內容頁新增至 ASP.NET web 應用程式，就像勾選 [選取主版頁面] 核取方塊並挑選主版頁面一樣簡單。</span><span class="sxs-lookup"><span data-stu-id="182b1-279">As we saw in this step, adding a new content page to an ASP.NET web application is as easy as checking the "Select master page" checkbox and picking the master page.</span></span> <span data-ttu-id="182b1-280">可惜的是，將現有的 ASP.NET 頁轉換成主版頁面並不容易。</span><span class="sxs-lookup"><span data-stu-id="182b1-280">Unfortunately, converting an existing ASP.NET page to a master page is not as easy.</span></span>

<span data-ttu-id="182b1-281">若要將主版頁面系結至現有的 ASP.NET 網頁，您需要執行下列步驟：</span><span class="sxs-lookup"><span data-stu-id="182b1-281">To bind a master page to an existing ASP.NET page you need to perform the following steps:</span></span>

1. <span data-ttu-id="182b1-282">將 `MasterPageFile` 屬性加入至 ASP.NET 網頁的 `@Page` 指示詞，並將其指向適當的主版頁面。</span><span class="sxs-lookup"><span data-stu-id="182b1-282">Add the `MasterPageFile` attribute to the ASP.NET page's `@Page` directive, pointing it to the appropriate master page.</span></span>
2. <span data-ttu-id="182b1-283">在主版頁面中新增每個 ContentPlaceHolders 的內容控制項。</span><span class="sxs-lookup"><span data-stu-id="182b1-283">Add Content controls for each of the ContentPlaceHolders in the master page.</span></span>
3. <span data-ttu-id="182b1-284">選擇性地將 ASP.NET 網頁的現有內容剪下並貼到適當的內容控制項中。</span><span class="sxs-lookup"><span data-stu-id="182b1-284">Selectively cut and paste the ASP.NET page's existing content into the appropriate Content controls.</span></span> <span data-ttu-id="182b1-285">我在此說「選擇性」，因為 ASP.NET 網頁可能包含主版頁面已經表示的標記，例如 `DOCTYPE`、`<html>` 元素和 Web 表單。</span><span class="sxs-lookup"><span data-stu-id="182b1-285">I say "selectively" here because the ASP.NET page likely contains markup that's already expressed by the master page, such as the `DOCTYPE`, the `<html>` element, and the Web Form.</span></span>

<span data-ttu-id="182b1-286">如需此程式的逐步指示以及螢幕擷取畫面，請參閱[Scott Guthrie](https://weblogs.asp.net/scottgu/)的[使用主版頁面和網站導覽](http://webproject.scottgu.com/CSharp/MasterPages/MasterPages.aspx)教學課程。</span><span class="sxs-lookup"><span data-stu-id="182b1-286">For step-by-step instructions on this process along with screen shots, check out [Scott Guthrie](https://weblogs.asp.net/scottgu/)'s [Using Master Pages and Site Navigation](http://webproject.scottgu.com/CSharp/MasterPages/MasterPages.aspx) tutorial.</span></span> <span data-ttu-id="182b1-287">「更新 `Default.aspx` 和 `DataSample.aspx` 使用主版頁面」一節會詳細說明這些步驟。</span><span class="sxs-lookup"><span data-stu-id="182b1-287">The "Update `Default.aspx` and `DataSample.aspx` to use the Master Page" section details these steps.</span></span>

<span data-ttu-id="182b1-288">由於建立新的內容頁面比將現有的 ASP.NET 網頁轉換成內容頁更容易，因此建議您在建立新的 ASP.NET 網站時，將主版頁面新增至網站。</span><span class="sxs-lookup"><span data-stu-id="182b1-288">Because it is much easier to create new content pages than it is to convert existing ASP.NET pages into content pages, I recommend that whenever you create a new ASP.NET website add a master page to the site.</span></span> <span data-ttu-id="182b1-289">將所有新的 ASP.NET 網頁系結至此主版頁面。</span><span class="sxs-lookup"><span data-stu-id="182b1-289">Bind all new ASP.NET pages to this master page.</span></span> <span data-ttu-id="182b1-290">如果初始主版頁面非常簡單或純文字，別擔心，您稍後可以更新主版頁面。</span><span class="sxs-lookup"><span data-stu-id="182b1-290">Don't worry if the initial master page is very simple or plain; you can update the master page later.</span></span>

> [!NOTE]
> <span data-ttu-id="182b1-291">當您建立新的 ASP.NET 應用程式時，Visual Web Developer 會加入未系結至主版頁面的 `Default.aspx` 頁面。</span><span class="sxs-lookup"><span data-stu-id="182b1-291">When creating a new ASP.NET application, Visual Web Developer adds a `Default.aspx` page that isn't bound to a master page.</span></span> <span data-ttu-id="182b1-292">如果您想要練習將現有的 ASP.NET 網頁轉換成內容頁面，請繼續進行，並使用 `Default.aspx`。</span><span class="sxs-lookup"><span data-stu-id="182b1-292">If you want to practice converting an existing ASP.NET page into a content page, go ahead and do so with `Default.aspx`.</span></span> <span data-ttu-id="182b1-293">或者，您可以刪除 `Default.aspx` 然後重新加入它，但這次請勾選 [選取主版頁面] 核取方塊。</span><span class="sxs-lookup"><span data-stu-id="182b1-293">Alternatively, you can delete `Default.aspx` and then re-add it, but this time checking the "Select master page" checkbox.</span></span>

## <a name="step-3-updating-the-master-pages-markup"></a><span data-ttu-id="182b1-294">步驟3：更新主版頁面的標記</span><span class="sxs-lookup"><span data-stu-id="182b1-294">Step 3: Updating the Master Page's Markup</span></span>

<span data-ttu-id="182b1-295">主版頁面的主要優點之一，是可以使用單一主版頁面來定義網站上多頁的整體版面配置。</span><span class="sxs-lookup"><span data-stu-id="182b1-295">One of the primary benefits of master pages is that a single master page may be used to define the overall layout for numerous pages on the site.</span></span> <span data-ttu-id="182b1-296">因此，更新網站的外觀和風格需要更新單一檔案，也就是主版頁面。</span><span class="sxs-lookup"><span data-stu-id="182b1-296">Therefore, updating the site's look and feel requires updating a single file - the master page.</span></span>

<span data-ttu-id="182b1-297">為了說明這種行為，讓我們更新主版頁面，將目前的日期包含在左側資料行的頂端。</span><span class="sxs-lookup"><span data-stu-id="182b1-297">To illustrate this behavior, let's update our master page to include the current date in at the top of the left column.</span></span> <span data-ttu-id="182b1-298">將名為 `DateDisplay` 的標籤新增至 `leftContent` `<div>`。</span><span class="sxs-lookup"><span data-stu-id="182b1-298">Add a Label named `DateDisplay` to the `leftContent` `<div>`.</span></span>

[!code-aspx[Main](creating-a-site-wide-layout-using-master-pages-cs/samples/sample5.aspx)]

<span data-ttu-id="182b1-299">接下來，建立主版頁面的 `Page_Load` 事件處理常式，並加入下列程式碼：</span><span class="sxs-lookup"><span data-stu-id="182b1-299">Next, create a `Page_Load` event handler for the master page and add the following code:</span></span>

[!code-csharp[Main](creating-a-site-wide-layout-using-master-pages-cs/samples/sample6.cs)]

<span data-ttu-id="182b1-300">上述程式碼會將標籤的 `Text` 屬性設定為目前的日期和時間，格式為一周中的日期、月份的名稱和兩位數的日期（請參閱 [圖 11]）。</span><span class="sxs-lookup"><span data-stu-id="182b1-300">The above code sets the Label's `Text` property to the current date and time formatted as the day of the week, the name of the month, and the two-digit day (see Figure 11).</span></span> <span data-ttu-id="182b1-301">進行這項變更後，請重新流覽您的其中一個內容頁面。</span><span class="sxs-lookup"><span data-stu-id="182b1-301">With this change, revisit one of your content pages.</span></span> <span data-ttu-id="182b1-302">如 [圖 11] 所示，產生的標記會立即更新以包含主版頁面的變更。</span><span class="sxs-lookup"><span data-stu-id="182b1-302">As Figure 11 shows, the resulting markup is immediately updated to include the change to the master page.</span></span>

<span data-ttu-id="182b1-303">[在觀看內容頁面時，會反映主版頁面的變更 ![](creating-a-site-wide-layout-using-master-pages-cs/_static/image30.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="182b1-303">[![The Changes to the Master Page are Reflected When Viewing the a Content Page](creating-a-site-wide-layout-using-master-pages-cs/_static/image30.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image29.png)</span></span>

<span data-ttu-id="182b1-304">**圖 11**：主版頁面的變更會在觀看內容頁面時反映（[按一下以觀看完整大小的影像](creating-a-site-wide-layout-using-master-pages-cs/_static/image31.png)）</span><span class="sxs-lookup"><span data-stu-id="182b1-304">**Figure 11**: The Changes to the Master Page are Reflected When Viewing the a Content Page ([Click to view full-size image](creating-a-site-wide-layout-using-master-pages-cs/_static/image31.png))</span></span>

> [!NOTE]
> <span data-ttu-id="182b1-305">如下列範例所示，主版頁面可能包含伺服器端 Web 控制項、程式碼和事件處理常式。</span><span class="sxs-lookup"><span data-stu-id="182b1-305">As this example illustrates, master pages may contain server-side Web controls, code, and event handlers.</span></span>

## <a name="summary"></a><span data-ttu-id="182b1-306">總結</span><span class="sxs-lookup"><span data-stu-id="182b1-306">Summary</span></span>

<span data-ttu-id="182b1-307">主版頁面可讓 ASP.NET 開發人員設計一致的全網站版面配置，輕鬆地進行更新。</span><span class="sxs-lookup"><span data-stu-id="182b1-307">Master pages enable ASP.NET developers to design a consistent site-wide layout that is easily updateable.</span></span> <span data-ttu-id="182b1-308">建立主版頁面和其相關聯的內容頁面與建立標準 ASP.NET 網頁一樣簡單，因為 Visual Web Developer 提供豐富的設計階段支援。</span><span class="sxs-lookup"><span data-stu-id="182b1-308">Creating master pages and their associated content pages is as simple as creating standard ASP.NET pages, as Visual Web Developer offers rich design-time support.</span></span>

<span data-ttu-id="182b1-309">我們在本教學課程中建立的主版頁面範例有兩個 ContentPlaceHolder 控制項，`head` 和 `MainContent`。</span><span class="sxs-lookup"><span data-stu-id="182b1-309">The master page example we created in this tutorial had two ContentPlaceHolder controls, `head` and `MainContent`.</span></span> <span data-ttu-id="182b1-310">不過，我們只在內容頁面中指定了 `MainContent` ContentPlaceHolder 控制項的標記。</span><span class="sxs-lookup"><span data-stu-id="182b1-310">We only specified markup for the `MainContent` ContentPlaceHolder control in our content page, however.</span></span> <span data-ttu-id="182b1-311">在下一個教學課程中，我們將探討如何在 [內容] 頁面中使用多個內容控制項。</span><span class="sxs-lookup"><span data-stu-id="182b1-311">In the next tutorial we look at using multiple Content controls in the content page.</span></span> <span data-ttu-id="182b1-312">我們也會瞭解如何在主版頁面中定義內容控制項的預設標記，以及如何在使用主版頁面中定義的預設標記，以及從 [內容] 頁面提供自訂標記之間切換。</span><span class="sxs-lookup"><span data-stu-id="182b1-312">We also see how to define default markup for Content controls within the master page, as well as how to toggle between using the default markup defined in the master page and providing custom markup from the content page.</span></span>

<span data-ttu-id="182b1-313">快樂的程式設計！</span><span class="sxs-lookup"><span data-stu-id="182b1-313">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="182b1-314">進一步閱讀</span><span class="sxs-lookup"><span data-stu-id="182b1-314">Further Reading</span></span>

<span data-ttu-id="182b1-315">如需本教學課程中所討論之主題的詳細資訊，請參閱下列資源：</span><span class="sxs-lookup"><span data-stu-id="182b1-315">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="182b1-316">適用于設計人員的 ASP.NET：免費的設計範本，以及使用 Web 標準建立 ASP.NET 網站的指引</span><span class="sxs-lookup"><span data-stu-id="182b1-316">ASP.NET for Designers: Free Design Templates and Guidance on Building ASP.NET Websites Using Web Standards</span></span>](https://msdn.microsoft.com/asp.net/aa336602.aspx)
- [<span data-ttu-id="182b1-317">ASP.NET 主版頁面總覽</span><span class="sxs-lookup"><span data-stu-id="182b1-317">ASP.NET Master Pages Overview</span></span>](https://msdn.microsoft.com/library/wtxbf3hh.aspx)
- [<span data-ttu-id="182b1-318">級聯樣式表單（CSS）教學課程</span><span class="sxs-lookup"><span data-stu-id="182b1-318">Cascading Stylesheets (CSS) Tutorials</span></span>](http://www.w3schools.com/css/default.asp)
- [<span data-ttu-id="182b1-319">動態設定頁面的標題</span><span class="sxs-lookup"><span data-stu-id="182b1-319">Dynamically Setting the Page's Title</span></span>](http://aspnet.4guysfromrolla.com/articles/051006-1.aspx)
- [<span data-ttu-id="182b1-320">ASP.NET 中的主版頁面</span><span class="sxs-lookup"><span data-stu-id="182b1-320">Master Pages in ASP.NET</span></span>](http://www.odetocode.com/articles/419.aspx)
- [<span data-ttu-id="182b1-321">主版頁面快速入門教學課程</span><span class="sxs-lookup"><span data-stu-id="182b1-321">Master Pages QuickStart Tutorials</span></span>](https://quickstarts.asp.net/QuickStartv20/aspnet/doc/masterpages/default.aspx)

### <a name="about-the-author"></a><span data-ttu-id="182b1-322">關於作者</span><span class="sxs-lookup"><span data-stu-id="182b1-322">About the Author</span></span>

<span data-ttu-id="182b1-323">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml)，自1998起，有多個 ASP/ASP. NET 書籍和創辦人的4GuysFromRolla.com。</span><span class="sxs-lookup"><span data-stu-id="182b1-323">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of multiple ASP/ASP.NET books and founder of 4GuysFromRolla.com, has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="182b1-324">Scott 以獨立的顧問、訓練員和作者的身分運作。</span><span class="sxs-lookup"><span data-stu-id="182b1-324">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="182b1-325">他的最新著作是[*在24小時內讓自己的 ASP.NET 3.5*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)。</span><span class="sxs-lookup"><span data-stu-id="182b1-325">His latest book is [*Sams Teach Yourself ASP.NET 3.5 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="182b1-326">Scott 可以在[mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com)或透過他在[http://ScottOnWriting.NET](http://scottonwriting.net/)的 blog。</span><span class="sxs-lookup"><span data-stu-id="182b1-326">Scott can be reached at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com) or via his blog at [http://ScottOnWriting.NET](http://scottonwriting.net/).</span></span>

### <a name="special-thanks-to"></a><span data-ttu-id="182b1-327">特別感謝</span><span class="sxs-lookup"><span data-stu-id="182b1-327">Special Thanks To</span></span>

<span data-ttu-id="182b1-328">有興趣複習我即將發行的 MSDN 文章嗎？</span><span class="sxs-lookup"><span data-stu-id="182b1-328">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="182b1-329">若是如此，請在[mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com)的那一行下拉式。</span><span class="sxs-lookup"><span data-stu-id="182b1-329">If so, drop me a line at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com).</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="182b1-330">下一個</span><span class="sxs-lookup"><span data-stu-id="182b1-330">Next</span></span>](multiple-contentplaceholders-and-default-content-cs.md)
