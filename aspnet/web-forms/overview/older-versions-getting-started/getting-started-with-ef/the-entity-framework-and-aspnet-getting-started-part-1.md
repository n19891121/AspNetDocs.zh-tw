---
uid: web-forms/overview/older-versions-getting-started/getting-started-with-ef/the-entity-framework-and-aspnet-getting-started-part-1
title: Entity Framework 4.0 Database First 和 ASP.NET 4 Web Forms 的消費者入門 |Microsoft Docs
author: tdykstra
description: Contoso 大學範例 web 應用程式示範如何使用 Entity Framework 4.0 和 Visual Studio 2010 來建立 ASP.NET Web Forms 應用程式 。
ms.author: riande
ms.date: 12/03/2010
ms.assetid: 5cb00916-8f46-491f-be25-4739a615d619
msc.legacyurl: /web-forms/overview/older-versions-getting-started/getting-started-with-ef/the-entity-framework-and-aspnet-getting-started-part-1
msc.type: authoredcontent
ms.openlocfilehash: fd88b32ad2a65e5b4c7ead15f0d6dc5dc6e97e75
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/06/2020
ms.locfileid: "78630456"
---
# <a name="getting-started-with-entity-framework-40-database-first-and-aspnet-4-web-forms"></a><span data-ttu-id="63c81-103">Entity Framework 4.0 Database First 和 ASP.NET 4 Web form 的消費者入門</span><span class="sxs-lookup"><span data-stu-id="63c81-103">Getting Started with Entity Framework 4.0 Database First and ASP.NET 4 Web Forms</span></span>

<span data-ttu-id="63c81-104">由[Tom 作者: dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="63c81-104">by [Tom Dykstra](https://github.com/tdykstra)</span></span>

> <span data-ttu-id="63c81-105">Contoso 大學範例 web 應用程式示範如何使用 Entity Framework 4.0 和 Visual Studio 2010 來建立 ASP.NET Web Forms 應用程式。</span><span class="sxs-lookup"><span data-stu-id="63c81-105">The Contoso University sample web application demonstrates how to create ASP.NET Web Forms applications using the Entity Framework 4.0 and Visual Studio 2010.</span></span> <span data-ttu-id="63c81-106">範例應用程式是虛構 Contoso 大學的網站。</span><span class="sxs-lookup"><span data-stu-id="63c81-106">The sample application is a website for a fictional Contoso University.</span></span> <span data-ttu-id="63c81-107">其中包括的功能有學生入學許可、課程建立、教師指派。</span><span class="sxs-lookup"><span data-stu-id="63c81-107">It includes functionality such as student admission, course creation, and instructor assignments.</span></span>
> 
> <span data-ttu-id="63c81-108">本教學課程會顯示C#中的範例。</span><span class="sxs-lookup"><span data-stu-id="63c81-108">The tutorial shows examples in C#.</span></span> <span data-ttu-id="63c81-109">[可下載的範例](https://code.msdn.microsoft.com/ASPNET-Web-Forms-97f8ee9a)包含C#和 Visual Basic 中的程式碼。</span><span class="sxs-lookup"><span data-stu-id="63c81-109">The [downloadable sample](https://code.msdn.microsoft.com/ASPNET-Web-Forms-97f8ee9a) contains code in both C# and Visual Basic.</span></span>
> 
> ## <a name="database-first"></a><span data-ttu-id="63c81-110">Database First</span><span class="sxs-lookup"><span data-stu-id="63c81-110">Database First</span></span>
> 
> <span data-ttu-id="63c81-111">有三種方式可以使用 Entity Framework 中的資料： *Database First*、 *Model First*和*Code First*。</span><span class="sxs-lookup"><span data-stu-id="63c81-111">There are three ways you can work with data in the Entity Framework: *Database First*, *Model First*, and *Code First*.</span></span> <span data-ttu-id="63c81-112">本教學課程適用于 Database First。</span><span class="sxs-lookup"><span data-stu-id="63c81-112">This tutorial is for Database First.</span></span> <span data-ttu-id="63c81-113">如需這些工作流程之間的差異，以及如何為您的案例選擇最適合的指引的詳細資訊，請參閱[Entity Framework 開發工作流程](https://msdn.microsoft.com/library/ms178359.aspx#dbfmfcf)。</span><span class="sxs-lookup"><span data-stu-id="63c81-113">For information about the differences between these workflows and guidance on how to choose the best one for your scenario, see [Entity Framework Development Workflows](https://msdn.microsoft.com/library/ms178359.aspx#dbfmfcf).</span></span>
> 
> ## <a name="web-forms"></a><span data-ttu-id="63c81-114">Web Form</span><span class="sxs-lookup"><span data-stu-id="63c81-114">Web Forms</span></span>
> 
> <span data-ttu-id="63c81-115">本教學課程系列使用 ASP.NET Web form 模型，並假設您知道如何在 Visual Studio 中使用 ASP.NET Web Forms。</span><span class="sxs-lookup"><span data-stu-id="63c81-115">This tutorial series uses the ASP.NET Web Forms model and assumes you know how to work with ASP.NET Web Forms in Visual Studio.</span></span> <span data-ttu-id="63c81-116">如果您沒有，請參閱[使用 ASP.NET 4.5 Web Forms 消費者入門](../../getting-started/getting-started-with-aspnet-45-web-forms/introduction-and-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="63c81-116">If you don't, see [Getting Started with ASP.NET 4.5 Web Forms](../../getting-started/getting-started-with-aspnet-45-web-forms/introduction-and-overview.md).</span></span> <span data-ttu-id="63c81-117">如果您想要使用 ASP.NET MVC 架構，請參閱[使用 ASP.NET MVC 的 Entity Framework 消費者入門](../../../../mvc/overview/getting-started/getting-started-with-ef-using-mvc/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application.md)。</span><span class="sxs-lookup"><span data-stu-id="63c81-117">If you prefer to work with the ASP.NET MVC framework, see [Getting Started with the Entity Framework using ASP.NET MVC](../../../../mvc/overview/getting-started/getting-started-with-ef-using-mvc/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application.md).</span></span>
> 
> ## <a name="software-versions"></a><span data-ttu-id="63c81-118">軟體版本</span><span class="sxs-lookup"><span data-stu-id="63c81-118">Software versions</span></span>
> 
> | <span data-ttu-id="63c81-119">**教學課程中所示**</span><span class="sxs-lookup"><span data-stu-id="63c81-119">**Shown in the tutorial**</span></span> | <span data-ttu-id="63c81-120">**也適用于**</span><span class="sxs-lookup"><span data-stu-id="63c81-120">**Also works with**</span></span> |
> | --- | --- |
> | <span data-ttu-id="63c81-121">Windows 7</span><span class="sxs-lookup"><span data-stu-id="63c81-121">Windows 7</span></span> | <span data-ttu-id="63c81-122">Windows 8</span><span class="sxs-lookup"><span data-stu-id="63c81-122">Windows 8</span></span> |
> | <span data-ttu-id="63c81-123">Visual Studio 2010</span><span class="sxs-lookup"><span data-stu-id="63c81-123">Visual Studio 2010</span></span> | <span data-ttu-id="63c81-124">適用于 Web 的 Visual Studio 2010 Express。</span><span class="sxs-lookup"><span data-stu-id="63c81-124">Visual Studio 2010 Express for Web.</span></span> <span data-ttu-id="63c81-125">本教學課程尚未使用較新版本的 Visual Studio 進行測試。</span><span class="sxs-lookup"><span data-stu-id="63c81-125">The tutorial has not been tested with later versions of Visual Studio.</span></span> <span data-ttu-id="63c81-126">功能表選項、對話方塊和範本有許多差異。</span><span class="sxs-lookup"><span data-stu-id="63c81-126">There are many differences in menu selections, dialog boxes, and templates.</span></span> |
> | <span data-ttu-id="63c81-127">.NET 4</span><span class="sxs-lookup"><span data-stu-id="63c81-127">.NET 4</span></span> | <span data-ttu-id="63c81-128">.NET 4.5 與 .NET 4 回溯相容，但本教學課程尚未使用 .NET 4.5 進行測試。</span><span class="sxs-lookup"><span data-stu-id="63c81-128">.NET 4.5 is backward compatible with .NET 4, but the tutorial has not been tested with .NET 4.5.</span></span> |
> | <span data-ttu-id="63c81-129">Entity Framework 4</span><span class="sxs-lookup"><span data-stu-id="63c81-129">Entity Framework 4</span></span> | <span data-ttu-id="63c81-130">本教學課程尚未使用較新版本的 Entity Framework 進行測試。</span><span class="sxs-lookup"><span data-stu-id="63c81-130">The tutorial has not been tested with later versions of Entity Framework.</span></span> <span data-ttu-id="63c81-131">從 Entity Framework 5 開始，EF 預設會使用 EF 4.1 引進的 `DbContext API`。</span><span class="sxs-lookup"><span data-stu-id="63c81-131">Starting with Entity Framework 5, EF uses by default the `DbContext API` that was introduced with EF 4.1.</span></span> <span data-ttu-id="63c81-132">EntityDataSource 控制項的設計目的是要使用 `ObjectContext` API。</span><span class="sxs-lookup"><span data-stu-id="63c81-132">The EntityDataSource control was designed to use the `ObjectContext` API.</span></span> <span data-ttu-id="63c81-133">如需如何搭配 `DbContext` API 使用 EntityDataSource 控制項的相關資訊，請參閱[這篇 blog 文章](https://blogs.msdn.com/b/webdev/archive/2012/09/13/how-to-use-the-entitydatasource-control-with-entity-framework-code-first.aspx)。</span><span class="sxs-lookup"><span data-stu-id="63c81-133">For information about how to use the EntityDataSource control with the `DbContext` API, see [this blog post](https://blogs.msdn.com/b/webdev/archive/2012/09/13/how-to-use-the-entitydatasource-control-with-entity-framework-code-first.aspx).</span></span> |
> 
> ## <a name="questions"></a><span data-ttu-id="63c81-134">問題</span><span class="sxs-lookup"><span data-stu-id="63c81-134">Questions</span></span>
> 
> <span data-ttu-id="63c81-135">如果您有與本教學課程不直接相關的問題，您可以將其張貼到[ASP.NET Entity Framework 論壇](https://forums.asp.net/1227.aspx)、 [Entity Framework 和 LINQ to Entities 論壇](https://social.msdn.microsoft.com/forums/adodotnetentityframework/threads/)，或[StackOverflow.com](http://stackoverflow.com/)。</span><span class="sxs-lookup"><span data-stu-id="63c81-135">If you have questions that are not directly related to the tutorial, you can post them to the [ASP.NET Entity Framework forum](https://forums.asp.net/1227.aspx), the [Entity Framework and LINQ to Entities forum](https://social.msdn.microsoft.com/forums/adodotnetentityframework/threads/), or [StackOverflow.com](http://stackoverflow.com/).</span></span>

## <a name="overview"></a><span data-ttu-id="63c81-136">概觀</span><span class="sxs-lookup"><span data-stu-id="63c81-136">Overview</span></span>

<span data-ttu-id="63c81-137">您將在這些教學課程中建立的應用程式是一個簡單的大學網站。</span><span class="sxs-lookup"><span data-stu-id="63c81-137">The application you'll be building in these tutorials is a simple university website.</span></span>

<span data-ttu-id="63c81-138">[![Image03](the-entity-framework-and-aspnet-getting-started-part-1/_static/image2.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="63c81-138">[![Image03](the-entity-framework-and-aspnet-getting-started-part-1/_static/image2.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image1.png)</span></span>

<span data-ttu-id="63c81-139">使用者可以檢視和更新學生、課程和教師資訊。</span><span class="sxs-lookup"><span data-stu-id="63c81-139">Users can view and update student, course, and instructor information.</span></span> <span data-ttu-id="63c81-140">您將會建立幾個畫面，如下所示。</span><span class="sxs-lookup"><span data-stu-id="63c81-140">A few of the screens you'll create are shown below.</span></span>

<span data-ttu-id="63c81-141">[![Image30](the-entity-framework-and-aspnet-getting-started-part-1/_static/image4.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="63c81-141">[![Image30](the-entity-framework-and-aspnet-getting-started-part-1/_static/image4.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image3.png)</span></span>

<span data-ttu-id="63c81-142">[![Image37](the-entity-framework-and-aspnet-getting-started-part-1/_static/image6.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="63c81-142">[![Image37](the-entity-framework-and-aspnet-getting-started-part-1/_static/image6.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image5.png)</span></span>

<span data-ttu-id="63c81-143">[![Image31](the-entity-framework-and-aspnet-getting-started-part-1/_static/image8.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="63c81-143">[![Image31](the-entity-framework-and-aspnet-getting-started-part-1/_static/image8.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image7.png)</span></span>

<span data-ttu-id="63c81-144">[![Image32](the-entity-framework-and-aspnet-getting-started-part-1/_static/image10.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="63c81-144">[![Image32](the-entity-framework-and-aspnet-getting-started-part-1/_static/image10.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image9.png)</span></span>

## <a name="creating-the-web-application"></a><span data-ttu-id="63c81-145">建立 Web 應用程式</span><span class="sxs-lookup"><span data-stu-id="63c81-145">Creating the Web Application</span></span>

<span data-ttu-id="63c81-146">若要開始本教學課程，請開啟 Visual Studio，然後使用**ASP.NET Web 應用程式**範本建立新的 ASP.NET Web 應用程式專案：</span><span class="sxs-lookup"><span data-stu-id="63c81-146">To start the tutorial, open Visual Studio and then create a new ASP.NET Web Application Project using the **ASP.NET Web Application** template:</span></span>

<span data-ttu-id="63c81-147">[![Image01](the-entity-framework-and-aspnet-getting-started-part-1/_static/image12.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="63c81-147">[![Image01](the-entity-framework-and-aspnet-getting-started-part-1/_static/image12.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image11.png)</span></span>

<span data-ttu-id="63c81-148">此範本會建立一個已包含樣式表單和主版頁面的 web 應用程式專案：</span><span class="sxs-lookup"><span data-stu-id="63c81-148">This template creates a web application project that already includes a style sheet and master pages:</span></span>

<span data-ttu-id="63c81-149">[![Image02](the-entity-framework-and-aspnet-getting-started-part-1/_static/image14.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="63c81-149">[![Image02](the-entity-framework-and-aspnet-getting-started-part-1/_static/image14.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image13.png)</span></span>

<span data-ttu-id="63c81-150">開啟*網站*檔案，然後將「我的 ASP.NET 應用程式」變更為「Contoso 大學」。</span><span class="sxs-lookup"><span data-stu-id="63c81-150">Open the *Site.Master* file and change "My ASP.NET Application" to "Contoso University".</span></span>

[!code-html[Main](the-entity-framework-and-aspnet-getting-started-part-1/samples/sample1.html)]

<span data-ttu-id="63c81-151">尋找名為 `NavigationMenu` 的*功能表*控制項，並以下列標記取代它，這會為您要建立的頁面新增功能表項目。</span><span class="sxs-lookup"><span data-stu-id="63c81-151">Find the *Menu* control named `NavigationMenu` and replace it with the following markup, which adds menu items for the pages you'll be creating.</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-1/samples/sample2.aspx)]

<span data-ttu-id="63c81-152">開啟 default.aspx 頁面，並將名為 `BodyContent` 的 `Content` 控制項變更為此*值*：</span><span class="sxs-lookup"><span data-stu-id="63c81-152">Open the *Default.aspx* page and change the `Content` control named `BodyContent` to this:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-1/samples/sample3.aspx)]

<span data-ttu-id="63c81-153">您現在有一個簡單的首頁，其中包含您將建立之各種頁面的連結：</span><span class="sxs-lookup"><span data-stu-id="63c81-153">You now have a simple home page with links to the various pages that you'll be creating:</span></span>

<span data-ttu-id="63c81-154">[![Image03](the-entity-framework-and-aspnet-getting-started-part-1/_static/image16.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="63c81-154">[![Image03](the-entity-framework-and-aspnet-getting-started-part-1/_static/image16.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image15.png)</span></span>

## <a name="creating-the-database"></a><span data-ttu-id="63c81-155">建立資料庫</span><span class="sxs-lookup"><span data-stu-id="63c81-155">Creating the Database</span></span>

<span data-ttu-id="63c81-156">在這些教學課程中，您將使用 Entity Framework 資料模型設計師，根據現有的資料庫（通常稱為「*資料庫優先*」方法）來自動建立資料模型。</span><span class="sxs-lookup"><span data-stu-id="63c81-156">For these tutorials, you'll use the Entity Framework data model designer to automatically create the data model based on an existing database (often called the *database-first* approach).</span></span> <span data-ttu-id="63c81-157">本教學課程系列未涵蓋的替代方案是手動建立資料模型，然後讓設計工具產生腳本來建立資料庫（*模型優先*方法）。</span><span class="sxs-lookup"><span data-stu-id="63c81-157">An alternative that's not covered in this tutorial series is to create the data model manually and then have the designer generate scripts that create the database (the *model-first* approach).</span></span>

<span data-ttu-id="63c81-158">針對本教學課程中使用的資料庫優先方法，下一步就是將資料庫新增至網站。</span><span class="sxs-lookup"><span data-stu-id="63c81-158">For the database-first method used in this tutorial, the next step is to add a database to the site.</span></span> <span data-ttu-id="63c81-159">最簡單的方式是先下載本教學課程所提供的專案。</span><span class="sxs-lookup"><span data-stu-id="63c81-159">The easiest way is to first download the project that goes with this tutorial.</span></span> <span data-ttu-id="63c81-160">然後以滑鼠右鍵按一下*應用程式\_[資料*] 資料夾，選取 [**加入現有專案**]，然後從已下載的專案中選取*School*資料庫檔案。</span><span class="sxs-lookup"><span data-stu-id="63c81-160">Then right-click the *App\_Data* folder, select **Add Existing Item**, and select the *School.mdf* database file from the downloaded project.</span></span>

<span data-ttu-id="63c81-161">另一個替代方式是依照[建立 School 範例資料庫](https://msdn.microsoft.com/library/bb399731.aspx)中的指示進行。</span><span class="sxs-lookup"><span data-stu-id="63c81-161">An alternative is to follow the instructions at [Creating the School Sample Database](https://msdn.microsoft.com/library/bb399731.aspx).</span></span> <span data-ttu-id="63c81-162">無論您是下載或建立資料庫，請將下列資料夾中的*School .mdf*檔案複製到應用程式 *\_* 資料夾：</span><span class="sxs-lookup"><span data-stu-id="63c81-162">Whether you download the database or create it, copy the *School.mdf* file from the following folder to your application's *App\_Data* folder:</span></span>

`%PROGRAMFILES%\Microsoft SQL Server\MSSQL10.SQLEXPRESS\MSSQL\DATA`

<span data-ttu-id="63c81-163">（ *.Mdf*檔案的這個位置會假設您使用的是 SQL Server 2008 Express）。</span><span class="sxs-lookup"><span data-stu-id="63c81-163">(This location of the *.mdf* file assumes you're using SQL Server 2008 Express.)</span></span>

<span data-ttu-id="63c81-164">如果您從腳本建立資料庫，請執行下列步驟來建立資料庫關係圖：</span><span class="sxs-lookup"><span data-stu-id="63c81-164">If you create the database from a script, perform the following steps to create a database diagram:</span></span>

1. <span data-ttu-id="63c81-165">在**伺服器總管**中，依序展開 [**資料連線**]、[ *School .Mdf*]、[**資料庫關係圖**]，然後選取 [**加入新的圖表**]。</span><span class="sxs-lookup"><span data-stu-id="63c81-165">In **Server Explorer**, expand **Data Connections**, expand *School.mdf*, right-click **Database Diagrams**, and select **Add New Diagram**.</span></span>

    <span data-ttu-id="63c81-166">[![Image35](the-entity-framework-and-aspnet-getting-started-part-1/_static/image18.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="63c81-166">[![Image35](the-entity-framework-and-aspnet-getting-started-part-1/_static/image18.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image17.png)</span></span>
2. <span data-ttu-id="63c81-167">選取所有資料表，然後按一下 [**新增**]。</span><span class="sxs-lookup"><span data-stu-id="63c81-167">Select all of the tables and then click **Add**.</span></span>

    <span data-ttu-id="63c81-168">[![Image36](the-entity-framework-and-aspnet-getting-started-part-1/_static/image20.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="63c81-168">[![Image36](the-entity-framework-and-aspnet-getting-started-part-1/_static/image20.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image19.png)</span></span>

    <span data-ttu-id="63c81-169">SQL Server 會建立一個資料庫關係圖，其中顯示資料表、資料表中的資料行，以及資料表之間的關聯性。</span><span class="sxs-lookup"><span data-stu-id="63c81-169">SQL Server creates a database diagram that shows tables, columns in the tables, and relationships between the tables.</span></span> <span data-ttu-id="63c81-170">您可以隨意移動資料表來組織它們。</span><span class="sxs-lookup"><span data-stu-id="63c81-170">You can move the tables around to organize them however you like.</span></span>
3. <span data-ttu-id="63c81-171">將圖表儲存為 "SchoolDiagram"，並將它關閉。</span><span class="sxs-lookup"><span data-stu-id="63c81-171">Save the diagram as "SchoolDiagram" and close it.</span></span>

<span data-ttu-id="63c81-172">如果您下載本教學課程所採用的*School .mdf*檔案，可以在**伺服器總管**的 [**資料庫關係圖**] 底下，按兩下 [ **SchoolDiagram** ] 來查看資料庫關係圖。</span><span class="sxs-lookup"><span data-stu-id="63c81-172">If you download the *School.mdf* file that goes with this tutorial, you can view the database diagram by double-clicking **SchoolDiagram** under **Database Diagrams** in **Server Explorer**.</span></span>

<span data-ttu-id="63c81-173">[![Image38](the-entity-framework-and-aspnet-getting-started-part-1/_static/image22.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="63c81-173">[![Image38](the-entity-framework-and-aspnet-getting-started-part-1/_static/image22.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image21.png)</span></span>

<span data-ttu-id="63c81-174">圖表看起來像這樣（資料表可能位於這裡所示的不同位置）：</span><span class="sxs-lookup"><span data-stu-id="63c81-174">The diagram looks something like this (the tables might be in different locations from what's shown here):</span></span>

<span data-ttu-id="63c81-175">[![Image04](the-entity-framework-and-aspnet-getting-started-part-1/_static/image24.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="63c81-175">[![Image04](the-entity-framework-and-aspnet-getting-started-part-1/_static/image24.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image23.png)</span></span>

## <a name="creating-the-entity-framework-data-model"></a><span data-ttu-id="63c81-176">建立 Entity Framework 資料模型</span><span class="sxs-lookup"><span data-stu-id="63c81-176">Creating the Entity Framework Data Model</span></span>

<span data-ttu-id="63c81-177">現在您可以從這個資料庫建立 Entity Framework 資料模型。</span><span class="sxs-lookup"><span data-stu-id="63c81-177">Now you can create an Entity Framework data model from this database.</span></span> <span data-ttu-id="63c81-178">您可以在應用程式的根資料夾中建立資料模型，但在本教學課程中，您會將它放在名為*DAL*的資料夾中（適用于資料存取層）。</span><span class="sxs-lookup"><span data-stu-id="63c81-178">You could create the data model in the root folder of the application, but for this tutorial you'll place it in a folder named *DAL* (for Data Access Layer).</span></span>

<span data-ttu-id="63c81-179">在**方案總管**中，新增名為*DAL*的專案資料夾（請確定它是在專案底下，而不是在方案底下）。</span><span class="sxs-lookup"><span data-stu-id="63c81-179">In **Solution Explorer**, add a project folder named *DAL* (make sure it's under the project, not under the solution).</span></span>

<span data-ttu-id="63c81-180">在*DAL*資料夾上按一下滑鼠右鍵，然後選取 [**加入**] 和 [**新增專案**]。</span><span class="sxs-lookup"><span data-stu-id="63c81-180">Right-click the *DAL* folder and then select **Add** and **New Item**.</span></span> <span data-ttu-id="63c81-181">在 [**已安裝的範本**] 底下選取 [**資料**]，選取 [ **ADO.NET 實體資料模型**] 範本，將它命名為*SchoolModel*，然後按一下 [**新增**]。</span><span class="sxs-lookup"><span data-stu-id="63c81-181">Under **Installed Templates**, select **Data**, select the **ADO.NET Entity Data Model** template, name it *SchoolModel.edmx*, and then click **Add**.</span></span>

<span data-ttu-id="63c81-182">[![Image05](the-entity-framework-and-aspnet-getting-started-part-1/_static/image26.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="63c81-182">[![Image05](the-entity-framework-and-aspnet-getting-started-part-1/_static/image26.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image25.png)</span></span>

<span data-ttu-id="63c81-183">這會啟動實體資料模型 Wizard。</span><span class="sxs-lookup"><span data-stu-id="63c81-183">This starts the Entity Data Model Wizard.</span></span> <span data-ttu-id="63c81-184">在第一個 wizard 步驟中，預設會選取 [**從資料庫產生**] 選項。</span><span class="sxs-lookup"><span data-stu-id="63c81-184">In the first wizard step, the **Generate from database** option is selected by default.</span></span> <span data-ttu-id="63c81-185">按 [下一步]。</span><span class="sxs-lookup"><span data-stu-id="63c81-185">Click **Next**.</span></span>

<span data-ttu-id="63c81-186">[![Image06](the-entity-framework-and-aspnet-getting-started-part-1/_static/image28.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="63c81-186">[![Image06](the-entity-framework-and-aspnet-getting-started-part-1/_static/image28.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image27.png)</span></span>

<span data-ttu-id="63c81-187">在 [**選擇您的資料連線**] 步驟中，保留預設值，然後按 **[下一步]** 。</span><span class="sxs-lookup"><span data-stu-id="63c81-187">In the **Choose Your Data Connection** step, leave the default values and click **Next**.</span></span> <span data-ttu-id="63c81-188">預設會選取 School 資料庫，而且連線設定會以**SchoolEntities**的形式儲存*在 web.config 檔案*中。</span><span class="sxs-lookup"><span data-stu-id="63c81-188">The School database is selected by default and the connection setting is saved in the *Web.config* file as **SchoolEntities**.</span></span>

<span data-ttu-id="63c81-189">[![Image07](the-entity-framework-and-aspnet-getting-started-part-1/_static/image30.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="63c81-189">[![Image07](the-entity-framework-and-aspnet-getting-started-part-1/_static/image30.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image29.png)</span></span>

<span data-ttu-id="63c81-190">在 [**選擇您的資料庫物件**] wizard 步驟中，選取除了 `sysdiagrams` （為您稍早產生的圖表所建立）以外的所有資料表，然後按一下 **[完成]** 。</span><span class="sxs-lookup"><span data-stu-id="63c81-190">In the **Choose Your Database Objects** wizard step, select all of the tables except `sysdiagrams` (which was created for the diagram you generated earlier) and then click **Finish**.</span></span>

<span data-ttu-id="63c81-191">[![Image08](the-entity-framework-and-aspnet-getting-started-part-1/_static/image32.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="63c81-191">[![Image08](the-entity-framework-and-aspnet-getting-started-part-1/_static/image32.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image31.png)</span></span>

<span data-ttu-id="63c81-192">完成模型建立之後，Visual Studio 會顯示對應至資料庫資料表之 Entity Framework 物件（實體）的圖形表示。</span><span class="sxs-lookup"><span data-stu-id="63c81-192">After it's finished creating the model, Visual Studio shows you a graphical representation of the Entity Framework objects (entities) that correspond to your database tables.</span></span> <span data-ttu-id="63c81-193">（如同資料庫關係圖，個別元素的位置可能會與您在下圖中看到的不同。</span><span class="sxs-lookup"><span data-stu-id="63c81-193">(As with the database diagram, the location of individual elements might be different from what you see in this illustration.</span></span> <span data-ttu-id="63c81-194">您可以視需要拖曳專案，以符合圖例。）</span><span class="sxs-lookup"><span data-stu-id="63c81-194">You can drag the elements around to match the illustration if you want.)</span></span>

<span data-ttu-id="63c81-195">[![Image09](the-entity-framework-and-aspnet-getting-started-part-1/_static/image34.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image33.png)</span><span class="sxs-lookup"><span data-stu-id="63c81-195">[![Image09](the-entity-framework-and-aspnet-getting-started-part-1/_static/image34.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image33.png)</span></span>

## <a name="exploring-the-entity-framework-data-model"></a><span data-ttu-id="63c81-196">探索 Entity Framework 資料模型</span><span class="sxs-lookup"><span data-stu-id="63c81-196">Exploring the Entity Framework Data Model</span></span>

<span data-ttu-id="63c81-197">您可以看到，實體圖表看起來非常類似資料庫關係圖，但有幾項差異。</span><span class="sxs-lookup"><span data-stu-id="63c81-197">You can see that the entity diagram looks very similar to the database diagram, with a couple of differences.</span></span> <span data-ttu-id="63c81-198">其中一個差異是在每個關聯的結尾加上符號，以指出關聯的類型（資料表關聯性在資料模型中稱為「實體關聯」）：</span><span class="sxs-lookup"><span data-stu-id="63c81-198">One difference is the addition of symbols at the end of each association that indicate the type of association (table relationships are called entity associations in the data model):</span></span>

- <span data-ttu-id="63c81-199">一對零或一關聯是以 "1" 和 "0 .1" 表示。</span><span class="sxs-lookup"><span data-stu-id="63c81-199">A one-to-zero-or-one association is represented by "1" and "0..1".</span></span>

    <span data-ttu-id="63c81-200">[![Image39](the-entity-framework-and-aspnet-getting-started-part-1/_static/image36.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image35.png)</span><span class="sxs-lookup"><span data-stu-id="63c81-200">[![Image39](the-entity-framework-and-aspnet-getting-started-part-1/_static/image36.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image35.png)</span></span>

    <span data-ttu-id="63c81-201">在此情況下，`Person` 實體不一定會與 `OfficeAssignment` 實體相關聯。</span><span class="sxs-lookup"><span data-stu-id="63c81-201">In this case, a `Person` entity may or may not be associated with an `OfficeAssignment` entity.</span></span> <span data-ttu-id="63c81-202">`OfficeAssignment` 的實體必須與 `Person` 實體相關聯。</span><span class="sxs-lookup"><span data-stu-id="63c81-202">An `OfficeAssignment` entity must be associated with a `Person` entity.</span></span> <span data-ttu-id="63c81-203">換句話說，講師不一定會指派給辦公室，而且任何辦公室都只能指派給一個講師。</span><span class="sxs-lookup"><span data-stu-id="63c81-203">In other words, an instructor may or may not be assigned to an office, and any office can be assigned to only one instructor.</span></span>
- <span data-ttu-id="63c81-204">一對多關聯是以 "1" 和 "\*" 表示。</span><span class="sxs-lookup"><span data-stu-id="63c81-204">A one-to-many association is represented by "1" and "\*".</span></span>

    <span data-ttu-id="63c81-205">[![Image40](the-entity-framework-and-aspnet-getting-started-part-1/_static/image38.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="63c81-205">[![Image40](the-entity-framework-and-aspnet-getting-started-part-1/_static/image38.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image37.png)</span></span>

    <span data-ttu-id="63c81-206">在此情況下，`Person` 實體不一定會有相關聯的 `StudentGrade` 實體。</span><span class="sxs-lookup"><span data-stu-id="63c81-206">In this case, a `Person` entity may or may not have associated `StudentGrade` entities.</span></span> <span data-ttu-id="63c81-207">`StudentGrade` 的實體必須與一個 `Person` 實體相關聯。</span><span class="sxs-lookup"><span data-stu-id="63c81-207">A `StudentGrade` entity must be associated with one `Person` entity.</span></span> <span data-ttu-id="63c81-208">`StudentGrade` 實體代表這個資料庫中已註冊的課程;如果學生在課程中註冊，而且尚未進行任何評分，則 `Grade` 屬性為 null。</span><span class="sxs-lookup"><span data-stu-id="63c81-208">`StudentGrade` entities actually represent enrolled courses in this database; if a student is enrolled in a course and there's no grade yet, the `Grade` property is null.</span></span> <span data-ttu-id="63c81-209">換句話說，學生可能尚未在任何課程中註冊，可能是在一個課程中註冊，也可能在多個課程中註冊。</span><span class="sxs-lookup"><span data-stu-id="63c81-209">In other words, a student may not be enrolled in any courses yet, may be enrolled in one course, or may be enrolled in multiple courses.</span></span> <span data-ttu-id="63c81-210">註冊課程中的每個成績僅適用于一名學生。</span><span class="sxs-lookup"><span data-stu-id="63c81-210">Each grade in an enrolled course applies to only one student.</span></span>
- <span data-ttu-id="63c81-211">「多對多關聯」是以「\*」和「\*」來表示。</span><span class="sxs-lookup"><span data-stu-id="63c81-211">A many-to-many association is represented by "\*" and "\*".</span></span>

    <span data-ttu-id="63c81-212">[![Image41](the-entity-framework-and-aspnet-getting-started-part-1/_static/image40.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image39.png)</span><span class="sxs-lookup"><span data-stu-id="63c81-212">[![Image41](the-entity-framework-and-aspnet-getting-started-part-1/_static/image40.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image39.png)</span></span>

    <span data-ttu-id="63c81-213">在此情況下，`Person` 實體不一定會有相關聯的 `Course` 實體，而相反的情況也是如此： `Course` 實體不一定有相關聯的 `Person` 實體。</span><span class="sxs-lookup"><span data-stu-id="63c81-213">In this case, a `Person` entity may or may not have associated `Course` entities, and the reverse is also true: a `Course` entity may or may not have associated `Person` entities.</span></span> <span data-ttu-id="63c81-214">換句話說，講師可以教授多個課程，而課程可能會由多個講師教授。</span><span class="sxs-lookup"><span data-stu-id="63c81-214">In other words, an instructor may teach multiple courses, and a course may be taught by multiple instructors.</span></span> <span data-ttu-id="63c81-215">（在此資料庫中，此關聯性僅適用于講師，而不會將學生連結到課程。</span><span class="sxs-lookup"><span data-stu-id="63c81-215">(In this database, this relationship applies only to instructors; it does not link students to courses.</span></span> <span data-ttu-id="63c81-216">學生會透過 StudentGrades 資料表連結到課程）。</span><span class="sxs-lookup"><span data-stu-id="63c81-216">Students are linked to courses by the StudentGrades table.)</span></span>

<span data-ttu-id="63c81-217">資料庫關係圖和資料模型之間的另一個差異是每個實體的其他**導覽屬性**區段。</span><span class="sxs-lookup"><span data-stu-id="63c81-217">Another difference between the database diagram and the data model is the additional **Navigation Properties** section for each entity.</span></span> <span data-ttu-id="63c81-218">實體的導覽屬性會參考相關的實體。</span><span class="sxs-lookup"><span data-stu-id="63c81-218">A navigation property of an entity references related entities.</span></span> <span data-ttu-id="63c81-219">例如，`Person` 實體中的 `Courses` 屬性包含與該 `Person` 實體相關之所有 `Course` 實體的集合。</span><span class="sxs-lookup"><span data-stu-id="63c81-219">For example, the `Courses` property in a `Person` entity contains a collection of all the `Course` entities that are related to that `Person` entity.</span></span>

<span data-ttu-id="63c81-220">[![Image12](the-entity-framework-and-aspnet-getting-started-part-1/_static/image42.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image41.png)</span><span class="sxs-lookup"><span data-stu-id="63c81-220">[![Image12](the-entity-framework-and-aspnet-getting-started-part-1/_static/image42.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image41.png)</span></span>

<span data-ttu-id="63c81-221">但是，資料庫和資料模型之間的另一個差異是，沒有資料庫中所使用的 `CourseInstructor` 關聯資料表來連結 `Person`，並 `Course` 多對多關聯性中的資料表。</span><span class="sxs-lookup"><span data-stu-id="63c81-221">Yet another difference between the database and data model is the absence of the `CourseInstructor` association table that's used in the database to link the `Person` and `Course` tables in a many-to-many relationship.</span></span> <span data-ttu-id="63c81-222">導覽屬性可讓您從 `Course` 實體的 `Person` 實體和相關的 `Person` 實體取得相關的 `Course` 實體，因此不需要在資料模型中代表關聯資料表。</span><span class="sxs-lookup"><span data-stu-id="63c81-222">The navigation properties enable you to get related `Course` entities from the `Person` entity and related `Person` entities from the `Course` entity, so there's no need to represent the association table in the data model.</span></span>

<span data-ttu-id="63c81-223">[![Image11](the-entity-framework-and-aspnet-getting-started-part-1/_static/image44.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image43.png)</span><span class="sxs-lookup"><span data-stu-id="63c81-223">[![Image11](the-entity-framework-and-aspnet-getting-started-part-1/_static/image44.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image43.png)</span></span>

<span data-ttu-id="63c81-224">基於本教學課程的目的，假設 `Person` 資料表的 `FirstName` 資料行，實際上同時包含一個人的名字和中間名。</span><span class="sxs-lookup"><span data-stu-id="63c81-224">For purposes of this tutorial, suppose the `FirstName` column of the `Person` table actually contains both a person's first name and middle name.</span></span> <span data-ttu-id="63c81-225">您想要變更欄位的名稱以反映這種情況，但資料庫管理員（DBA）可能不會想要變更資料庫。</span><span class="sxs-lookup"><span data-stu-id="63c81-225">You want to change the name of the field to reflect this, but the database administrator (DBA) might not want to change the database.</span></span> <span data-ttu-id="63c81-226">您可以變更資料模型中 `FirstName` 屬性的名稱，同時讓它的資料庫對等項保持不變。</span><span class="sxs-lookup"><span data-stu-id="63c81-226">You can change the name of the `FirstName` property in the data model, while leaving its database equivalent unchanged.</span></span>

<span data-ttu-id="63c81-227">在設計工具中，以滑鼠右鍵按一下 [`Person`] 實體中的 [ **FirstName** ]，然後選取 [**重新命名**]。</span><span class="sxs-lookup"><span data-stu-id="63c81-227">In the designer, right-click **FirstName** in the `Person` entity, and then select **Rename**.</span></span>

<span data-ttu-id="63c81-228">[![Image13](the-entity-framework-and-aspnet-getting-started-part-1/_static/image46.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image45.png)</span><span class="sxs-lookup"><span data-stu-id="63c81-228">[![Image13](the-entity-framework-and-aspnet-getting-started-part-1/_static/image46.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image45.png)</span></span>

<span data-ttu-id="63c81-229">輸入新名稱 "Firstmidname 變更"。</span><span class="sxs-lookup"><span data-stu-id="63c81-229">Type in the new name "FirstMidName".</span></span> <span data-ttu-id="63c81-230">這會變更您在程式碼中參考資料行的方式，而不需要變更資料庫。</span><span class="sxs-lookup"><span data-stu-id="63c81-230">This changes the way you refer to the column in code without changing the database.</span></span>

<span data-ttu-id="63c81-231">[![Image29](the-entity-framework-and-aspnet-getting-started-part-1/_static/image48.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image47.png)</span><span class="sxs-lookup"><span data-stu-id="63c81-231">[![Image29](the-entity-framework-and-aspnet-getting-started-part-1/_static/image48.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image47.png)</span></span>

<span data-ttu-id="63c81-232">[模型瀏覽器] 提供另一種方式來查看資料庫結構、資料模型結構和兩者之間的對應。</span><span class="sxs-lookup"><span data-stu-id="63c81-232">The model browser provides another way to view the database structure, the data model structure, and the mapping between them.</span></span> <span data-ttu-id="63c81-233">若要查看此專案，請以滑鼠右鍵按一下實體設計工具中的空白區域，然後按一下 [**模型瀏覽器**]。</span><span class="sxs-lookup"><span data-stu-id="63c81-233">To see it, right-click a blank area in the entity designer and then click **Model Browser**.</span></span>

<span data-ttu-id="63c81-234">[![Image18](the-entity-framework-and-aspnet-getting-started-part-1/_static/image50.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image49.png)</span><span class="sxs-lookup"><span data-stu-id="63c81-234">[![Image18](the-entity-framework-and-aspnet-getting-started-part-1/_static/image50.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image49.png)</span></span>

<span data-ttu-id="63c81-235">[**模型瀏覽器**] 窗格會顯示樹狀檢視。</span><span class="sxs-lookup"><span data-stu-id="63c81-235">The **Model Browser** pane displays a tree view.</span></span> <span data-ttu-id="63c81-236">（[**模型瀏覽器**] 窗格可能會停駐于 [**方案總管**] 窗格）。[ **SchoolModel** ] 節點代表資料模型結構，而 [ **SchoolModel** ] 節點代表資料庫結構。</span><span class="sxs-lookup"><span data-stu-id="63c81-236">(The **Model Browser** pane might be docked with the **Solution Explorer** pane.) The **SchoolModel** node represents the data model structure, and the **SchoolModel.Store** node represents the database structure.</span></span>

<span data-ttu-id="63c81-237">[![Image26](the-entity-framework-and-aspnet-getting-started-part-1/_static/image52.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image51.png)</span><span class="sxs-lookup"><span data-stu-id="63c81-237">[![Image26](the-entity-framework-and-aspnet-getting-started-part-1/_static/image52.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image51.png)</span></span>

<span data-ttu-id="63c81-238">展開 [ **SchoolModel** ] 以查看資料表，並展開 [**資料表/視圖**] 以查看資料表，然後展開 [**課程**] 以查看資料表中的資料行。</span><span class="sxs-lookup"><span data-stu-id="63c81-238">Expand **SchoolModel.Store** to see the tables, expand **Tables / Views** to see tables, and then expand **Course** to see the columns within a table.</span></span>

<span data-ttu-id="63c81-239">[![Image19](the-entity-framework-and-aspnet-getting-started-part-1/_static/image54.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image53.png)</span><span class="sxs-lookup"><span data-stu-id="63c81-239">[![Image19](the-entity-framework-and-aspnet-getting-started-part-1/_static/image54.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image53.png)</span></span>

<span data-ttu-id="63c81-240">依序展開 [ **SchoolModel**]、[**實體類型**]，然後展開 [**課程**] 節點以查看實體中的實體和屬性。</span><span class="sxs-lookup"><span data-stu-id="63c81-240">Expand **SchoolModel**, expand **Entity Types**, and then expand the **Course** node to see the entities and the properties within the entities.</span></span>

<span data-ttu-id="63c81-241">[![Image20](the-entity-framework-and-aspnet-getting-started-part-1/_static/image56.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image55.png)</span><span class="sxs-lookup"><span data-stu-id="63c81-241">[![Image20](the-entity-framework-and-aspnet-getting-started-part-1/_static/image56.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image55.png)</span></span>

<span data-ttu-id="63c81-242">在 [設計師] 或 [**模型瀏覽器**] 窗格中，您可以看到 Entity Framework 如何關聯這兩個模型的物件。</span><span class="sxs-lookup"><span data-stu-id="63c81-242">In either the designer or the **Model Browser** pane you can see how the Entity Framework relates the objects of the two models.</span></span> <span data-ttu-id="63c81-243">以滑鼠右鍵按一下 [`Person`] 實體，然後選取 [**資料表對應**]。</span><span class="sxs-lookup"><span data-stu-id="63c81-243">Right-click the `Person` entity and select **Table Mapping**.</span></span>

<span data-ttu-id="63c81-244">[![Image21](the-entity-framework-and-aspnet-getting-started-part-1/_static/image58.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image57.png)</span><span class="sxs-lookup"><span data-stu-id="63c81-244">[![Image21](the-entity-framework-and-aspnet-getting-started-part-1/_static/image58.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image57.png)</span></span>

<span data-ttu-id="63c81-245">這會開啟 [**對應詳細資料**] 視窗。</span><span class="sxs-lookup"><span data-stu-id="63c81-245">This opens the **Mapping Details** window.</span></span> <span data-ttu-id="63c81-246">請注意，此視窗可讓您看到 `FirstName` 的資料庫資料行對應至 `FirstMidName`，這就是您在資料模型中將它重新命名的內容。</span><span class="sxs-lookup"><span data-stu-id="63c81-246">Notice that this window lets you see that the database column `FirstName` is mapped to `FirstMidName`, which is what you renamed it to in the data model.</span></span>

<span data-ttu-id="63c81-247">[![Image22](the-entity-framework-and-aspnet-getting-started-part-1/_static/image60.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image59.png)</span><span class="sxs-lookup"><span data-stu-id="63c81-247">[![Image22](the-entity-framework-and-aspnet-getting-started-part-1/_static/image60.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image59.png)</span></span>

<span data-ttu-id="63c81-248">Entity Framework 使用 XML 來儲存資料庫的相關資訊、資料模型，以及它們之間的對應。</span><span class="sxs-lookup"><span data-stu-id="63c81-248">The Entity Framework uses XML to store information about the database, the data model, and the mappings between them.</span></span> <span data-ttu-id="63c81-249">*SchoolModel .edmx*檔案實際上是包含此資訊的 XML 檔案。</span><span class="sxs-lookup"><span data-stu-id="63c81-249">The *SchoolModel.edmx* file is actually an XML file that contains this information.</span></span> <span data-ttu-id="63c81-250">設計工具會以圖形格式呈現資訊，但您也可以用滑鼠右鍵按一下**方案總管**中的 *.edmx*檔案，按一下 [**開啟方式**]，然後選取 **[xml （文字）編輯器**]，將檔案當做 XML 來查看。</span><span class="sxs-lookup"><span data-stu-id="63c81-250">The designer renders the information in a graphical format, but you can also view the file as XML by right-clicking the *.edmx* file in **Solution Explorer**, clicking **Open With**, and selecting **XML (Text) Editor**.</span></span> <span data-ttu-id="63c81-251">（資料模型設計工具和 XML 編輯器只是開啟和使用相同檔案的兩種不同方式，因此您無法開啟設計工具，並在 XML 編輯器中開啟檔案）。</span><span class="sxs-lookup"><span data-stu-id="63c81-251">(The data model designer and an XML editor are just two different ways of opening and working with the same file, so you cannot have the designer open and open the file in an XML editor at the same time.)</span></span>

<span data-ttu-id="63c81-252">您現在已建立網站、資料庫和資料模型。</span><span class="sxs-lookup"><span data-stu-id="63c81-252">You've now created a website, a database, and a data model.</span></span> <span data-ttu-id="63c81-253">在下一個逐步解說中，您將開始使用資料模型和 ASP.NET `EntityDataSource` 控制項來處理資料。</span><span class="sxs-lookup"><span data-stu-id="63c81-253">In the next walkthrough you'll begin working with data using the data model and the ASP.NET `EntityDataSource` control.</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="63c81-254">下一個</span><span class="sxs-lookup"><span data-stu-id="63c81-254">Next</span></span>](the-entity-framework-and-aspnet-getting-started-part-2.md)
