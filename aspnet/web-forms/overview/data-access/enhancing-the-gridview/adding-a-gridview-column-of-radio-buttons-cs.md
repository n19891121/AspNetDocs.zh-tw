---
uid: web-forms/overview/data-access/enhancing-the-gridview/adding-a-gridview-column-of-radio-buttons-cs
title: 新增 GridView 的選項按鈕資料行（C#） |Microsoft Docs
author: rick-anderson
description: 本教學課程探討如何將選項按鈕的資料行新增至 GridView 控制項，以提供使用者更直覺的方式來選取單一資料列 。
ms.author: riande
ms.date: 03/06/2007
ms.assetid: 32377145-ec25-4715-8370-a1c590a331d5
msc.legacyurl: /web-forms/overview/data-access/enhancing-the-gridview/adding-a-gridview-column-of-radio-buttons-cs
msc.type: authoredcontent
ms.openlocfilehash: b59cc64b14c6414e6558fdb8a281644db8386701
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/06/2020
ms.locfileid: "78591095"
---
# <a name="adding-a-gridview-column-of-radio-buttons-c"></a><span data-ttu-id="aec53-103">新增 GridView 的選項按鈕欄 (C#)</span><span class="sxs-lookup"><span data-stu-id="aec53-103">Adding a GridView Column of Radio Buttons (C#)</span></span>

<span data-ttu-id="aec53-104">由[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="aec53-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="aec53-105">[下載範例應用程式](https://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_51_CS.exe)或[下載 PDF](adding-a-gridview-column-of-radio-buttons-cs/_static/datatutorial51cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="aec53-105">[Download Sample App](https://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_51_CS.exe) or [Download PDF](adding-a-gridview-column-of-radio-buttons-cs/_static/datatutorial51cs1.pdf)</span></span>

> <span data-ttu-id="aec53-106">本教學課程探討如何將選項按鈕的資料行新增至 GridView 控制項，以提供使用者更直覺的方式來選取 GridView 的單一資料列。</span><span class="sxs-lookup"><span data-stu-id="aec53-106">This tutorial looks at how to add a column of radio buttons to a GridView control to provide the user with a more intuitive way of selecting a single row of the GridView.</span></span>

## <a name="introduction"></a><span data-ttu-id="aec53-107">簡介</span><span class="sxs-lookup"><span data-stu-id="aec53-107">Introduction</span></span>

<span data-ttu-id="aec53-108">GridView 控制項提供大量的內建功能。</span><span class="sxs-lookup"><span data-stu-id="aec53-108">The GridView control offers a great deal of built-in functionality.</span></span> <span data-ttu-id="aec53-109">其中包含一些不同的欄位，可顯示文字、影像、超連結和按鈕。</span><span class="sxs-lookup"><span data-stu-id="aec53-109">It includes a number of different fields for displaying text, images, hyperlinks, and buttons.</span></span> <span data-ttu-id="aec53-110">它支援進一步自訂的範本。</span><span class="sxs-lookup"><span data-stu-id="aec53-110">It supports templates for further customization.</span></span> <span data-ttu-id="aec53-111">只要按幾下滑鼠，就能建立 GridView，其中每個資料列都可以透過按鈕來選取，或是啟用編輯或刪除功能。</span><span class="sxs-lookup"><span data-stu-id="aec53-111">With a few clicks of the mouse, it s possible to make a GridView where each row can be selected via a button, or to enable editing or deleting capabilities.</span></span> <span data-ttu-id="aec53-112">儘管眾多提供的功能，通常還是需要新增額外、不支援的功能。</span><span class="sxs-lookup"><span data-stu-id="aec53-112">Despite the plethora of provided features, there will often be situations in which additional, non-supported features will need to be added.</span></span> <span data-ttu-id="aec53-113">在本教學課程和接下來的兩個中，我們將探討如何增強 GridView 的功能，以包含額外的功能。</span><span class="sxs-lookup"><span data-stu-id="aec53-113">In this tutorial and the next two we'll examine how to enhance the GridView s functionality to include additional features.</span></span>

<span data-ttu-id="aec53-114">本教學課程和下一個重點著重于增強資料列選取程式。</span><span class="sxs-lookup"><span data-stu-id="aec53-114">This tutorial and the next one focus on enhancing the row-selection process.</span></span> <span data-ttu-id="aec53-115">如[使用可選取的主要 GridView 和詳細資料 detailview 之中所述的主要/詳細資料](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md)，我們可以將 CommandField 新增至包含 [選取] 按鈕的 GridView。</span><span class="sxs-lookup"><span data-stu-id="aec53-115">As examined in the [Master/Detail Using a Selectable Master GridView with a Details DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md), we can add a CommandField to the GridView that includes a Select button.</span></span> <span data-ttu-id="aec53-116">當您按一下時，回傳接踵而來和 GridView 的 `SelectedIndex` 屬性會更新為已按下 [選取] 按鈕之資料列的索引。</span><span class="sxs-lookup"><span data-stu-id="aec53-116">When clicked, a postback ensues and the GridView s `SelectedIndex` property is updated to the index of the row whose Select button was clicked.</span></span> <span data-ttu-id="aec53-117">在[主要/詳細資料中，透過詳細資料 detailview 之教學課程使用可選取的主要 GridView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) ，我們已瞭解如何使用這項功能來顯示所選 GridView 資料列的詳細資訊。</span><span class="sxs-lookup"><span data-stu-id="aec53-117">In the [Master/Detail Using a Selectable Master GridView with a Details DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) tutorial, we saw how to use this feature to display details for the selected GridView row.</span></span>

<span data-ttu-id="aec53-118">雖然 [選取] 按鈕在許多情況下都可運作，但對其他人而言可能也無法運作。</span><span class="sxs-lookup"><span data-stu-id="aec53-118">While the Select button works in many situations, it may not work as well for others.</span></span> <span data-ttu-id="aec53-119">除了使用按鈕以外，還有其他兩個使用者介面元素常用於選取範圍：選項按鈕和核取方塊。</span><span class="sxs-lookup"><span data-stu-id="aec53-119">Rather than using a button, two other user interface elements are commonly used for selection: the radio button and checkbox.</span></span> <span data-ttu-id="aec53-120">我們可以擴充 GridView，使其不使用 [選取] 按鈕，而是每個資料列都包含一個選項按鈕或核取方塊。</span><span class="sxs-lookup"><span data-stu-id="aec53-120">We can augment the GridView so that instead of a Select button, each row contains a radio button or checkbox.</span></span> <span data-ttu-id="aec53-121">在使用者只能選取其中一個 GridView 記錄的案例中，選項按鈕可能會優先于 [選取] 按鈕。</span><span class="sxs-lookup"><span data-stu-id="aec53-121">In scenarios where the user can only select one of the GridView records, the radio button might be preferred over the Select button.</span></span> <span data-ttu-id="aec53-122">在使用者可能會在網頁型電子郵件應用程式中選取多筆記錄（例如）時，使用者可能會想要選取多個訊息來刪除核取方塊提供無法從 [選取] 按鈕或選項按鈕取得的功能使用者介面。</span><span class="sxs-lookup"><span data-stu-id="aec53-122">In situations where the user can potentially select multiple records such as in a web-based email application, where a user might want to select multiple messages to delete the checkbox offers functionality that is not available from the Select button or radio button user interfaces.</span></span>

<span data-ttu-id="aec53-123">本教學課程探討如何將選項按鈕的資料行新增至 GridView。</span><span class="sxs-lookup"><span data-stu-id="aec53-123">This tutorial looks at how to add a column of radio buttons to the GridView.</span></span> <span data-ttu-id="aec53-124">繼續進行的教學課程會探索使用核取方塊。</span><span class="sxs-lookup"><span data-stu-id="aec53-124">The proceeding tutorial explores using checkboxes.</span></span>

## <a name="step-1-creating-the-enhancing-the-gridview-web-pages"></a><span data-ttu-id="aec53-125">步驟1：建立增強 GridView Web Pages</span><span class="sxs-lookup"><span data-stu-id="aec53-125">Step 1: Creating the Enhancing the GridView Web Pages</span></span>

<span data-ttu-id="aec53-126">在我們開始增強 GridView 以包含選項按鈕的資料行之前，先花點時間在我們的網站專案中建立 ASP.NET 網頁，我們將在本教學課程和接下來的兩頁中使用。</span><span class="sxs-lookup"><span data-stu-id="aec53-126">Before we start enhancing the GridView to include a column of radio buttons, let s first take a moment to create the ASP.NET pages in our website project that we'll need for this tutorial and the next two.</span></span> <span data-ttu-id="aec53-127">從新增名為 `EnhancedGridView`的資料夾開始。</span><span class="sxs-lookup"><span data-stu-id="aec53-127">Start by adding a new folder named `EnhancedGridView`.</span></span> <span data-ttu-id="aec53-128">接下來，將下列 ASP.NET 網頁新增至該資料夾，並確定每個頁面都與 `Site.master` 主版頁面相關聯：</span><span class="sxs-lookup"><span data-stu-id="aec53-128">Next, add the following ASP.NET pages to that folder, making sure to associate each page with the `Site.master` master page:</span></span>

- `Default.aspx`
- `RadioButtonField.aspx`
- `CheckBoxField.aspx`
- `InsertThroughFooter.aspx`

![新增 SqlDataSource 相關教學課程的 ASP.NET 網頁](adding-a-gridview-column-of-radio-buttons-cs/_static/image1.gif)

<span data-ttu-id="aec53-130">**圖 1**：新增 SqlDataSource 相關教學課程的 ASP.NET 網頁</span><span class="sxs-lookup"><span data-stu-id="aec53-130">**Figure 1**: Add the ASP.NET Pages for the SqlDataSource-Related Tutorials</span></span>

<span data-ttu-id="aec53-131">如同在其他資料夾中，[`EnhancedGridView`] 資料夾中的 `Default.aspx` 會在其區段中列出教學課程。</span><span class="sxs-lookup"><span data-stu-id="aec53-131">Like in the other folders, `Default.aspx` in the `EnhancedGridView` folder will list the tutorials in its section.</span></span> <span data-ttu-id="aec53-132">回想一下，`SectionLevelTutorialListing.ascx` 的使用者控制項會提供這種功能。</span><span class="sxs-lookup"><span data-stu-id="aec53-132">Recall that the `SectionLevelTutorialListing.ascx` User Control provides this functionality.</span></span> <span data-ttu-id="aec53-133">因此，請將這個使用者控制項加入至 `Default.aspx`，方法是將它從方案總管拖曳至頁面 s 設計檢視。</span><span class="sxs-lookup"><span data-stu-id="aec53-133">Therefore, add this User Control to `Default.aspx` by dragging it from the Solution Explorer onto the page s Design view.</span></span>

<span data-ttu-id="aec53-134">[![將 SectionLevelTutorialListing 的 .ascx 使用者控制項新增至 default.aspx](adding-a-gridview-column-of-radio-buttons-cs/_static/image2.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="aec53-134">[![Add the SectionLevelTutorialListing.ascx User Control to Default.aspx](adding-a-gridview-column-of-radio-buttons-cs/_static/image2.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image1.png)</span></span>

<span data-ttu-id="aec53-135">**圖 2**：將 `SectionLevelTutorialListing.ascx` 使用者控制項加入 `Default.aspx` （[按一下以查看完整大小的影像](adding-a-gridview-column-of-radio-buttons-cs/_static/image2.png)）</span><span class="sxs-lookup"><span data-stu-id="aec53-135">**Figure 2**: Add the `SectionLevelTutorialListing.ascx` User Control to `Default.aspx` ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image2.png))</span></span>

<span data-ttu-id="aec53-136">最後，將這四個頁面新增為 `Web.sitemap` 檔案的專案。</span><span class="sxs-lookup"><span data-stu-id="aec53-136">Lastly, add these four pages as entries to the `Web.sitemap` file.</span></span> <span data-ttu-id="aec53-137">具體而言，請使用 SqlDataSource 控制項 `<siteMapNode>`，在之後新增下列標記：</span><span class="sxs-lookup"><span data-stu-id="aec53-137">Specifically, add the following markup after the Using the SqlDataSource Control `<siteMapNode>`:</span></span>

[!code-xml[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample1.xml)]

<span data-ttu-id="aec53-138">更新 `Web.sitemap`之後，請花一點時間透過瀏覽器來觀看教學課程網站。</span><span class="sxs-lookup"><span data-stu-id="aec53-138">After updating `Web.sitemap`, take a moment to view the tutorials website through a browser.</span></span> <span data-ttu-id="aec53-139">左側功能表現在包含用於編輯、插入及刪除教學課程的專案。</span><span class="sxs-lookup"><span data-stu-id="aec53-139">The menu on the left now includes items for the editing, inserting, and deleting tutorials.</span></span>

![網站地圖現在包含增強 GridView 教學課程的專案](adding-a-gridview-column-of-radio-buttons-cs/_static/image3.gif)

<span data-ttu-id="aec53-141">[**圖 3**]：網站地圖現在包含增強 GridView 教學課程的專案</span><span class="sxs-lookup"><span data-stu-id="aec53-141">**Figure 3**: The Site Map Now Includes Entries for the Enhancing the GridView Tutorials</span></span>

## <a name="step-2-displaying-the-suppliers-in-a-gridview"></a><span data-ttu-id="aec53-142">步驟2：在 GridView 中顯示供應商</span><span class="sxs-lookup"><span data-stu-id="aec53-142">Step 2: Displaying the Suppliers in a GridView</span></span>

<span data-ttu-id="aec53-143">在本教學課程中，我們將建立一個 GridView，其中列出美國供應商，每個 GridView 資料列提供一個選項按鈕。</span><span class="sxs-lookup"><span data-stu-id="aec53-143">For this tutorial let s build a GridView that lists the suppliers from the USA, with each GridView row providing a radio button.</span></span> <span data-ttu-id="aec53-144">透過選項按鈕選取供應商之後，使用者可以按一下按鈕來查看供應商的產品。</span><span class="sxs-lookup"><span data-stu-id="aec53-144">After selecting a supplier via the radio button, the user can view the supplier s products by clicking a button.</span></span> <span data-ttu-id="aec53-145">雖然這項工作聽起來很簡單，但還是有一些微妙差異讓它特別棘手。</span><span class="sxs-lookup"><span data-stu-id="aec53-145">While this task may sound trivial, there are a number of subtleties that make it particularly tricky.</span></span> <span data-ttu-id="aec53-146">在深入探討這些微妙差異之前，先讓先取得一個 GridView 來列出供應商。</span><span class="sxs-lookup"><span data-stu-id="aec53-146">Before we delve into these subtleties, let s first get a GridView listing the suppliers.</span></span>

<span data-ttu-id="aec53-147">首先，從 [工具箱] 將 GridView 拖曳至設計工具上，以開啟 [`EnhancedGridView`] 資料夾中的 [`RadioButtonField.aspx`] 頁面。</span><span class="sxs-lookup"><span data-stu-id="aec53-147">Start by opening the `RadioButtonField.aspx` page in the `EnhancedGridView` folder by dragging a GridView from the Toolbox onto the Designer.</span></span> <span data-ttu-id="aec53-148">將 GridView 的 `ID` 設定為 `Suppliers` 並從其智慧標籤，選擇建立新的資料來源。</span><span class="sxs-lookup"><span data-stu-id="aec53-148">Set the GridView s `ID` to `Suppliers` and, from its smart tag, choose to create a new data source.</span></span> <span data-ttu-id="aec53-149">具體而言，請建立名為 `SuppliersDataSource` 的 ObjectDataSource，從 `SuppliersBLL` 物件提取其資料。</span><span class="sxs-lookup"><span data-stu-id="aec53-149">Specifically, create an ObjectDataSource named `SuppliersDataSource` that pulls its data from the `SuppliersBLL` object.</span></span>

<span data-ttu-id="aec53-150">[![建立名為 SuppliersDataSource 的新 ObjectDataSource](adding-a-gridview-column-of-radio-buttons-cs/_static/image4.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="aec53-150">[![Create a New ObjectDataSource Named SuppliersDataSource](adding-a-gridview-column-of-radio-buttons-cs/_static/image4.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image3.png)</span></span>

<span data-ttu-id="aec53-151">**圖 4**：建立名為 `SuppliersDataSource` 的新 ObjectDataSource （[按一下以查看完整大小的影像](adding-a-gridview-column-of-radio-buttons-cs/_static/image4.png)）</span><span class="sxs-lookup"><span data-stu-id="aec53-151">**Figure 4**: Create a New ObjectDataSource Named `SuppliersDataSource` ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image4.png))</span></span>

<span data-ttu-id="aec53-152">[![將 ObjectDataSource 設定為使用 SuppliersBLL 類別](adding-a-gridview-column-of-radio-buttons-cs/_static/image5.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="aec53-152">[![Configure the ObjectDataSource to Use the SuppliersBLL Class](adding-a-gridview-column-of-radio-buttons-cs/_static/image5.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image5.png)</span></span>

<span data-ttu-id="aec53-153">**圖 5**：設定 ObjectDataSource 使用 `SuppliersBLL` 類別（[按一下以查看完整大小的影像](adding-a-gridview-column-of-radio-buttons-cs/_static/image6.png)）</span><span class="sxs-lookup"><span data-stu-id="aec53-153">**Figure 5**: Configure the ObjectDataSource to Use the `SuppliersBLL` Class ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image6.png))</span></span>

<span data-ttu-id="aec53-154">因為我們只想要列出美國供應商，請從 [選取] 索引標籤的下拉式清單中選擇 [`GetSuppliersByCountry(country)`] 方法。</span><span class="sxs-lookup"><span data-stu-id="aec53-154">Since we only want to list those suppliers in the USA, choose the `GetSuppliersByCountry(country)` method from the drop-down list in the SELECT tab.</span></span>

<span data-ttu-id="aec53-155">[![將 ObjectDataSource 設定為使用 SuppliersBLL 類別](adding-a-gridview-column-of-radio-buttons-cs/_static/image6.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="aec53-155">[![Configure the ObjectDataSource to Use the SuppliersBLL Class](adding-a-gridview-column-of-radio-buttons-cs/_static/image6.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image7.png)</span></span>

<span data-ttu-id="aec53-156">**圖 6**：設定 ObjectDataSource 使用 `SuppliersBLL` 類別（[按一下以查看完整大小的影像](adding-a-gridview-column-of-radio-buttons-cs/_static/image8.png)）</span><span class="sxs-lookup"><span data-stu-id="aec53-156">**Figure 6**: Configure the ObjectDataSource to Use the `SuppliersBLL` Class ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image8.png))</span></span>

<span data-ttu-id="aec53-157">從 [更新] 索引標籤選取 [（無）] 選項，然後按 [下一步]。</span><span class="sxs-lookup"><span data-stu-id="aec53-157">From the UPDATE tab, select the (None) option and click Next.</span></span>

<span data-ttu-id="aec53-158">[![將 ObjectDataSource 設定為使用 SuppliersBLL 類別](adding-a-gridview-column-of-radio-buttons-cs/_static/image7.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="aec53-158">[![Configure the ObjectDataSource to Use the SuppliersBLL Class](adding-a-gridview-column-of-radio-buttons-cs/_static/image7.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image9.png)</span></span>

<span data-ttu-id="aec53-159">**圖 7**：設定 ObjectDataSource 使用 `SuppliersBLL` 類別（[按一下以查看完整大小的影像](adding-a-gridview-column-of-radio-buttons-cs/_static/image10.png)）</span><span class="sxs-lookup"><span data-stu-id="aec53-159">**Figure 7**: Configure the ObjectDataSource to Use the `SuppliersBLL` Class ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image10.png))</span></span>

<span data-ttu-id="aec53-160">由於 `GetSuppliersByCountry(country)` 方法會接受參數，因此 [設定資料來源] wizard 會提示我們輸入該參數的來源。</span><span class="sxs-lookup"><span data-stu-id="aec53-160">Since the `GetSuppliersByCountry(country)` method accepts a parameter, the Configure Data Source wizard prompts us for the source of that parameter.</span></span> <span data-ttu-id="aec53-161">若要指定硬式編碼值（在此範例中為美國），請將 [參數來源] 下拉式清單設定為 [無]，並在文字方塊中輸入預設值。</span><span class="sxs-lookup"><span data-stu-id="aec53-161">To specify a hard coded value ( USA, in this example), leave the Parameter source drop-down list set to None and enter the default value in the textbox.</span></span> <span data-ttu-id="aec53-162">按一下 [完成] 完成精靈。</span><span class="sxs-lookup"><span data-stu-id="aec53-162">Click Finish to complete the wizard.</span></span>

<span data-ttu-id="aec53-163">[![使用 USA 作為 country 參數的預設值](adding-a-gridview-column-of-radio-buttons-cs/_static/image8.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="aec53-163">[![Use USA as the Default Value for the country Parameter](adding-a-gridview-column-of-radio-buttons-cs/_static/image8.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image11.png)</span></span>

<span data-ttu-id="aec53-164">**圖 8**：使用 USA 做為 `country` 參數的預設值（[按一下以查看完整大小的影像](adding-a-gridview-column-of-radio-buttons-cs/_static/image12.png)）</span><span class="sxs-lookup"><span data-stu-id="aec53-164">**Figure 8**: Use USA as the Default Value for the `country` Parameter ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image12.png))</span></span>

<span data-ttu-id="aec53-165">完成 wizard 之後，GridView 會針對每個供應商資料欄位包含一個 BoundField。</span><span class="sxs-lookup"><span data-stu-id="aec53-165">After completing the wizard, the GridView will include a BoundField for each of the supplier data fields.</span></span> <span data-ttu-id="aec53-166">移除除了 `CompanyName`、`City`和 `Country` BoundFields 的所有內容，並將 `CompanyName` BoundFields `HeaderText` 屬性重新命名為供應商。</span><span class="sxs-lookup"><span data-stu-id="aec53-166">Remove all but the `CompanyName`, `City`, and `Country` BoundFields, and rename the `CompanyName` BoundFields `HeaderText` property to Supplier.</span></span> <span data-ttu-id="aec53-167">這麼做之後，GridView 和 ObjectDataSource 宣告式語法看起來應該如下所示。</span><span class="sxs-lookup"><span data-stu-id="aec53-167">After doing so, the GridView and ObjectDataSource declarative syntax should look similar to the following.</span></span>

[!code-aspx[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample2.aspx)]

<span data-ttu-id="aec53-168">在本教學課程中，讓使用者可以在與供應商清單相同的頁面上，或在不同的頁面上，查看選取的供應商產品。</span><span class="sxs-lookup"><span data-stu-id="aec53-168">For this tutorial, let s allow the user to view the selected supplier s products on the same page as the supplier list, or on a different page.</span></span> <span data-ttu-id="aec53-169">為了配合此，請將兩個按鈕 Web 控制項新增至頁面。</span><span class="sxs-lookup"><span data-stu-id="aec53-169">To accommodate this, add two Button Web controls to the page.</span></span> <span data-ttu-id="aec53-170">我將這兩個按鈕的 `ID` 設定為 `ListProducts` 和 `SendToProducts`，並瞭解當按下 [`ListProducts`] 時，將會發生回傳，而選取的供應商產品將會列在相同的頁面上，但是按一下 [`SendToProducts`] 時，使用者將會即可檢視至另一個列出產品的頁面。</span><span class="sxs-lookup"><span data-stu-id="aec53-170">I ve set the `ID` s of these two Buttons to `ListProducts` and `SendToProducts`, with the idea that when `ListProducts` is clicked a postback will occur and the selected supplier s products will be listed on the same page, but when `SendToProducts` is clicked, the user will be whisked to a another page that lists the products.</span></span>

<span data-ttu-id="aec53-171">[圖 9] 顯示透過瀏覽器觀看時的 `Suppliers` GridView 和兩個按鈕 Web 控制項。</span><span class="sxs-lookup"><span data-stu-id="aec53-171">Figure 9 shows the `Suppliers` GridView and the two Button Web controls when viewed through a browser.</span></span>

<span data-ttu-id="aec53-172">[![美國供應商列出其姓名、城市和國家/地區資訊](adding-a-gridview-column-of-radio-buttons-cs/_static/image9.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="aec53-172">[![Those Suppliers from the USA Have Their Name, City, and Country Information Listed](adding-a-gridview-column-of-radio-buttons-cs/_static/image9.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image13.png)</span></span>

<span data-ttu-id="aec53-173">**圖 9**：美國的供應商列出其姓名、城市和國家/地區資訊（[按一下以觀看完整大小的影像](adding-a-gridview-column-of-radio-buttons-cs/_static/image14.png)）</span><span class="sxs-lookup"><span data-stu-id="aec53-173">**Figure 9**: Those Suppliers from the USA Have Their Name, City, and Country Information Listed ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image14.png))</span></span>

## <a name="step-3-adding-a-column-of-radio-buttons"></a><span data-ttu-id="aec53-174">步驟3：加入選項按鈕的資料行</span><span class="sxs-lookup"><span data-stu-id="aec53-174">Step 3: Adding a Column of Radio Buttons</span></span>

<span data-ttu-id="aec53-175">此時，`Suppliers` GridView 有三個 BoundFields，顯示美國每位供應商的公司名稱、城市和國家/地區。</span><span class="sxs-lookup"><span data-stu-id="aec53-175">At this point the `Suppliers` GridView has three BoundFields displaying the company name, city, and country of each supplier in the USA.</span></span> <span data-ttu-id="aec53-176">不過，它仍然缺少選項按鈕的資料行。</span><span class="sxs-lookup"><span data-stu-id="aec53-176">It is still lacking a column of radio buttons, however.</span></span> <span data-ttu-id="aec53-177">可惜的是，GridView 不會包含內建的 RadioButtonField，否則我們可以直接將其加入至方格，然後完成。</span><span class="sxs-lookup"><span data-stu-id="aec53-177">Unfortunately, the GridView doesn t include a built-in RadioButtonField, otherwise we could just add that to the grid and be done.</span></span> <span data-ttu-id="aec53-178">相反地，我們可以新增 TemplateField 並設定其 `ItemTemplate` 來轉譯選項按鈕，產生每個 GridView 資料列的選項按鈕。</span><span class="sxs-lookup"><span data-stu-id="aec53-178">Instead, we can add a TemplateField and configure its `ItemTemplate` to render a radio button, resulting in a radio button for each GridView row.</span></span>

<span data-ttu-id="aec53-179">一開始，我們可能會假設所需的使用者介面可以藉由將選項按鈕 Web 控制項新增至 TemplateField 的 `ItemTemplate` 來執行。</span><span class="sxs-lookup"><span data-stu-id="aec53-179">Initially, we might assume that the desired user interface can be implemented by adding a RadioButton Web control to the `ItemTemplate` of a TemplateField.</span></span> <span data-ttu-id="aec53-180">雖然這確實會在 GridView 的每個資料列中加入一個選項按鈕，但無法將選項按鈕分組，因此不會互斥。</span><span class="sxs-lookup"><span data-stu-id="aec53-180">While this will indeed add a single radio button to each row of the GridView, the radio buttons cannot be grouped and therefore are not mutually exclusive.</span></span> <span data-ttu-id="aec53-181">也就是說，使用者可以同時從 GridView 中選取多個選項按鈕。</span><span class="sxs-lookup"><span data-stu-id="aec53-181">That is, an end user is able to select multiple radio buttons simultaneously from the GridView.</span></span>

<span data-ttu-id="aec53-182">雖然使用選項按鈕 Web 控制項的 TemplateField 不提供我們所需的功能，但讓我們來實行這種方法，因為它很值得檢查產生的選項按鈕為何不會分組。</span><span class="sxs-lookup"><span data-stu-id="aec53-182">Even though using a TemplateField of RadioButton Web controls does not offer the functionality we need, let s implement this approach, as it s worthwhile to examine why the resulting radio buttons are not grouped.</span></span> <span data-ttu-id="aec53-183">首先，將 TemplateField 新增至供應商 GridView，使其成為最左邊的欄位。</span><span class="sxs-lookup"><span data-stu-id="aec53-183">Start by adding a TemplateField to the Suppliers GridView, making it the leftmost field.</span></span> <span data-ttu-id="aec53-184">接下來，從 GridView 的智慧標籤中，按一下 [編輯範本] 連結，並將選項按鈕 Web 控制項從 [工具箱] 拖曳至 TemplateField s `ItemTemplate` （請參閱 [圖 10]）。</span><span class="sxs-lookup"><span data-stu-id="aec53-184">Next, from the GridView s smart tag, click the Edit Templates link and drag a RadioButton Web control from the Toolbox into the TemplateField s `ItemTemplate` (see Figure 10).</span></span> <span data-ttu-id="aec53-185">將 [選項按鈕] `ID` 屬性設定為 [`RowSelector`]，並將 `GroupName` 屬性設為 [`SuppliersGroup`]。</span><span class="sxs-lookup"><span data-stu-id="aec53-185">Set the RadioButton s `ID` property to `RowSelector` and the `GroupName` property to `SuppliersGroup`.</span></span>

<span data-ttu-id="aec53-186">[![將選項按鈕 Web 控制項加入至 ItemTemplate](adding-a-gridview-column-of-radio-buttons-cs/_static/image10.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="aec53-186">[![Add a RadioButton Web Control to the ItemTemplate](adding-a-gridview-column-of-radio-buttons-cs/_static/image10.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image15.png)</span></span>

<span data-ttu-id="aec53-187">**圖 10**：將選項按鈕 Web 控制項新增至 `ItemTemplate` （[按一下以查看完整大小的影像](adding-a-gridview-column-of-radio-buttons-cs/_static/image16.png)）</span><span class="sxs-lookup"><span data-stu-id="aec53-187">**Figure 10**: Add a RadioButton Web Control to the `ItemTemplate` ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image16.png))</span></span>

<span data-ttu-id="aec53-188">透過設計工具進行這些新增之後，GridView 的標記看起來應該如下所示：</span><span class="sxs-lookup"><span data-stu-id="aec53-188">After making these additions through the Designer, your GridView s markup should look similar to the following:</span></span>

[!code-aspx[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample3.aspx)]

<span data-ttu-id="aec53-189">選項按鈕的[`GroupName` 屬性](https://msdn.microsoft.com/library/system.web.ui.webcontrols.radiobutton.groupname(VS.80).aspx)是用來分組一系列選項按鈕的內容。</span><span class="sxs-lookup"><span data-stu-id="aec53-189">The RadioButton s [`GroupName` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.radiobutton.groupname(VS.80).aspx) is what is used to group a series of radio buttons.</span></span> <span data-ttu-id="aec53-190">所有具有相同 `GroupName` 值的選項按鈕控制項都會被視為群組;一個群組一次只能選取一個選項按鈕。</span><span class="sxs-lookup"><span data-stu-id="aec53-190">All RadioButton controls with the same `GroupName` value are considered grouped; only one radio button can be selected from a group at a time.</span></span> <span data-ttu-id="aec53-191">`GroupName` 屬性會指定呈現的選項按鈕 `name` 屬性的值。</span><span class="sxs-lookup"><span data-stu-id="aec53-191">The `GroupName` property specifies the value for the rendered radio button s `name` attribute.</span></span> <span data-ttu-id="aec53-192">瀏覽器會檢查 `name` 屬性的選項按鈕，以決定選項按鈕分組。</span><span class="sxs-lookup"><span data-stu-id="aec53-192">The browser examines the radio buttons `name` attributes to determine the radio button groupings.</span></span>

<span data-ttu-id="aec53-193">將選項按鈕 Web 控制項加入至 `ItemTemplate`之後，請透過瀏覽器造訪此頁面，然後按一下方格的資料列中的選項按鈕。</span><span class="sxs-lookup"><span data-stu-id="aec53-193">With the RadioButton Web control added to the `ItemTemplate`, visit this page through a browser and click on the radio buttons in the grid s rows.</span></span> <span data-ttu-id="aec53-194">請注意，選項按鈕如何分組，讓您可以選取所有資料列，如 [圖 11] 所示。</span><span class="sxs-lookup"><span data-stu-id="aec53-194">Notice how the radio buttons are not grouped, making it possible to select all of the rows, as Figure 11 shows.</span></span>

<span data-ttu-id="aec53-195">[![GridView 的選項按鈕未分組](adding-a-gridview-column-of-radio-buttons-cs/_static/image11.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="aec53-195">[![The GridView s Radio Buttons are Not Grouped](adding-a-gridview-column-of-radio-buttons-cs/_static/image11.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image17.png)</span></span>

<span data-ttu-id="aec53-196">**圖 11**： GridView 的選項按鈕不分組（[按一下以觀看完整大小的影像](adding-a-gridview-column-of-radio-buttons-cs/_static/image18.png)）</span><span class="sxs-lookup"><span data-stu-id="aec53-196">**Figure 11**: The GridView s Radio Buttons are Not Grouped ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image18.png))</span></span>

<span data-ttu-id="aec53-197">選項按鈕不會分組的原因是因為其呈現的 `name` 屬性不同，儘管有相同的 `GroupName` 屬性設定。</span><span class="sxs-lookup"><span data-stu-id="aec53-197">The reason the radio buttons are not grouped is because their rendered `name` attributes are different, despite having the same `GroupName` property setting.</span></span> <span data-ttu-id="aec53-198">若要查看這些差異，請從瀏覽器執行 View/Source，並檢查選項按鈕標記：</span><span class="sxs-lookup"><span data-stu-id="aec53-198">To see these differences, do a View/Source from the browser and examine the radio button markup:</span></span>

[!code-html[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample4.html)]

<span data-ttu-id="aec53-199">請注意，`name` 和 `id` 屬性不是屬性視窗中所指定的確切值，而是在前面加上一些其他 `ID` 值。</span><span class="sxs-lookup"><span data-stu-id="aec53-199">Notice how both the `name` and `id` attributes are not the exact values as specified in the Properties window, but are prepended with a number of other `ID` values.</span></span> <span data-ttu-id="aec53-200">在轉譯的 `id` 前加入的額外 `ID` 值和 `name` 屬性是選項按鈕的 `ID`，父元素會控制 `GridViewRow` s `ID`、GridView s `ID`、內容控制項 s `ID`和 Web 表單 s `ID`。</span><span class="sxs-lookup"><span data-stu-id="aec53-200">The additional `ID` values added to the front of the rendered `id` and `name` attributes are the `ID` s of the radio buttons parent controls the `GridViewRow` s `ID` s, the GridView s `ID`, the Content control s `ID`, and the Web Form s `ID`.</span></span> <span data-ttu-id="aec53-201">加入這些 `ID`，讓 GridView 中每個轉譯的 Web 控制項都有唯一的 `id` 和 `name` 值。</span><span class="sxs-lookup"><span data-stu-id="aec53-201">These `ID` s are added so that each rendered Web control in the GridView has a unique `id` and `name` values.</span></span>

<span data-ttu-id="aec53-202">每個呈現的控制項都需要不同的 `name` 和 `id`，因為這是瀏覽器如何唯一識別用戶端上的每個控制項，以及它如何識別 web 伺服器在回傳時所發生的動作或變更。</span><span class="sxs-lookup"><span data-stu-id="aec53-202">Each rendered control needs a different `name` and `id` because this is how the browser uniquely identifies each control on the client-side and how it identifies to the web server what action or change has occurred on postback.</span></span> <span data-ttu-id="aec53-203">例如，假設我們想要在選項按鈕的核取狀態變更時執行一些伺服器端程式碼。</span><span class="sxs-lookup"><span data-stu-id="aec53-203">For example, imagine that we wanted to run some server-side code whenever a RadioButton s checked state was changed.</span></span> <span data-ttu-id="aec53-204">我們可以將選項按鈕的 `AutoPostBack` 屬性設定為 `true` 並建立 `CheckChanged` 事件的事件處理常式，來達到這個目的。</span><span class="sxs-lookup"><span data-stu-id="aec53-204">We could accomplish this by setting the RadioButton s `AutoPostBack` property to `true` and creating an event handler for the `CheckChanged` event.</span></span> <span data-ttu-id="aec53-205">不過，如果呈現的 `name` 和所有選項按鈕的 `id` 值都相同，則在回傳時，我們無法判斷按一下哪個特定的選項按鈕。</span><span class="sxs-lookup"><span data-stu-id="aec53-205">However, if the rendered `name` and `id` values for all of the radio buttons were the same, on postback we could not determine what specific RadioButton was clicked.</span></span>

<span data-ttu-id="aec53-206">其中的簡短之處在于，我們無法使用選項按鈕 Web 控制項，在 GridView 中建立一個選項按鈕的資料行。</span><span class="sxs-lookup"><span data-stu-id="aec53-206">The short of it is that we cannot create a column of radio buttons in a GridView using the RadioButton Web control.</span></span> <span data-ttu-id="aec53-207">相反地，我們必須使用，而不是以陳舊的技術來確保將適當的標記插入每個 GridView 資料列。</span><span class="sxs-lookup"><span data-stu-id="aec53-207">Instead, we must use rather archaic techniques to ensure that the appropriate markup is injected into each GridView row.</span></span>

> [!NOTE]
> <span data-ttu-id="aec53-208">就像選項按鈕 Web 控制項一樣，在新增至範本時，選項按鈕 HTML 控制項將包含唯一的 `name` 屬性，使方格中的選項按鈕取消群組。</span><span class="sxs-lookup"><span data-stu-id="aec53-208">Like the RadioButton Web control, the radio button HTML control, when added to a template, will include the unique `name` attribute, making the radio buttons in the grid ungrouped.</span></span> <span data-ttu-id="aec53-209">如果您不熟悉 HTML 控制項，可以放心忽略這種情況，因為 HTML 控制項很少使用，特別是在 ASP.NET 2.0 中。</span><span class="sxs-lookup"><span data-stu-id="aec53-209">If you are not familiar with HTML controls, feel free to disregard this note, as HTML controls are rarely used, especially in ASP.NET 2.0.</span></span> <span data-ttu-id="aec53-210">但如果您有興趣深入瞭解，請參閱[Allen](http://odetocode.com/blogs/scott/default.aspx)的 Blog 專案[WEB 控制項和 HTML 控制項](http://www.odetocode.com/Articles/348.aspx)。</span><span class="sxs-lookup"><span data-stu-id="aec53-210">But if you are interested in learning more, see [K. Scott Allen](http://odetocode.com/blogs/scott/default.aspx) s blog entry [Web Controls and HTML Controls](http://www.odetocode.com/Articles/348.aspx).</span></span>

## <a name="using-a-literal-control-to-inject-radio-button-markup"></a><span data-ttu-id="aec53-211">使用常值控制項插入選項按鈕標記</span><span class="sxs-lookup"><span data-stu-id="aec53-211">Using a Literal Control to Inject Radio Button Markup</span></span>

<span data-ttu-id="aec53-212">為了正確地分組 GridView 內的所有選項按鈕，我們需要手動將選項按鈕標記插入 `ItemTemplate`。</span><span class="sxs-lookup"><span data-stu-id="aec53-212">In order to correctly group all of the radio buttons within the GridView, we need to manually inject the radio buttons markup into the `ItemTemplate`.</span></span> <span data-ttu-id="aec53-213">每個選項按鈕都需要相同的 `name` 屬性，但應具有唯一的 `id` 屬性（如果我們想要透過用戶端腳本存取選項按鈕）。</span><span class="sxs-lookup"><span data-stu-id="aec53-213">Each radio button needs the same `name` attribute, but should have a unique `id` attribute (in case we want to access a radio button via client-side script).</span></span> <span data-ttu-id="aec53-214">在使用者選取選項按鈕並回傳頁面之後，瀏覽器會傳回所選選項按鈕 `value` 屬性的值。</span><span class="sxs-lookup"><span data-stu-id="aec53-214">After a user selects a radio button and posts back the page, the browser will send back the value of the selected radio button s `value` attribute.</span></span> <span data-ttu-id="aec53-215">因此，每個選項按鈕都需要唯一的 `value` 屬性。</span><span class="sxs-lookup"><span data-stu-id="aec53-215">Therefore, each radio button will need a unique `value` attribute.</span></span> <span data-ttu-id="aec53-216">最後，在回傳時，我們必須確定將 `checked` 屬性加入至選取的選項按鈕，否則，當使用者選取並回傳後，選項按鈕就會回到其預設狀態（全部皆未選取）。</span><span class="sxs-lookup"><span data-stu-id="aec53-216">Finally, on postback we need to make sure to add the `checked` attribute to the one radio button that is selected, otherwise after the user makes a selection and posts back, the radio buttons will return to their default state (all unselected).</span></span>

<span data-ttu-id="aec53-217">有兩種方法可以採用，以將低層級的標記插入範本中。</span><span class="sxs-lookup"><span data-stu-id="aec53-217">There are two approaches that can be taken in order to inject low-level markup into a template.</span></span> <span data-ttu-id="aec53-218">其中一種是混合使用程式碼後置類別中所定義的格式化方法，並進行標記和呼叫。</span><span class="sxs-lookup"><span data-stu-id="aec53-218">One is to do a mix of markup and calls to formatting methods defined in the code-behind class.</span></span> <span data-ttu-id="aec53-219">這項技術是第一次在 GridView 控制項教學課程中[使用 TemplateFields](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md)的討論。</span><span class="sxs-lookup"><span data-stu-id="aec53-219">This technique was first discussed in the [Using TemplateFields in the GridView Control](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) tutorial.</span></span> <span data-ttu-id="aec53-220">在我們的案例中，它看起來可能像這樣：</span><span class="sxs-lookup"><span data-stu-id="aec53-220">In our case it might look something like:</span></span>

[!code-aspx[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample5.aspx)]

<span data-ttu-id="aec53-221">在這裡，`GetUniqueRadioButton` 和 `GetRadioButtonValue` 是在程式碼後置類別中定義的方法，其會針對每個選項按鈕傳回適當的 `id` 和 `value` 屬性值。</span><span class="sxs-lookup"><span data-stu-id="aec53-221">Here, `GetUniqueRadioButton` and `GetRadioButtonValue` would be methods defined in the code-behind class that returned the appropriate `id` and `value` attribute values for each radio button.</span></span> <span data-ttu-id="aec53-222">這種方法很適合用來指派 `id` 和 `value` 屬性，但在需要指定 `checked` 屬性值時，這是較短的，因為只有在資料第一次系結至 GridView 時，才會執行 databinding 語法。</span><span class="sxs-lookup"><span data-stu-id="aec53-222">This approach works well for assigning the `id` and `value` attributes, but falls short when needing to specify the `checked` attribute value because the databinding syntax is only executed when data is first bound to the GridView.</span></span> <span data-ttu-id="aec53-223">因此，如果 GridView 已啟用 view 狀態，則只有第一次載入頁面時（或當 GridView 明確地重新系結至資料來源時），才會引發格式化方法，因此不會在回傳時呼叫設定 `checked` 屬性的函數。</span><span class="sxs-lookup"><span data-stu-id="aec53-223">Therefore, if the GridView has view state enabled, the formatting methods will only fire when the page is first loaded (or when the GridView is explicitly rebound to the data source), and therefore the function that sets the `checked` attribute won't be called on postback.</span></span> <span data-ttu-id="aec53-224">這就是有點微妙的問題，而不是本文的討論範圍，所以我要把它放在這裡。</span><span class="sxs-lookup"><span data-stu-id="aec53-224">It s a rather subtle problem and a bit beyond the scope of this article, so I'll leave it at this.</span></span> <span data-ttu-id="aec53-225">不過，我也建議您嘗試使用上述方法，並將它工作到您要停滯的地方。</span><span class="sxs-lookup"><span data-stu-id="aec53-225">I do, however, encourage you to try using the above approach and work it through to the point where you'll get stuck.</span></span> <span data-ttu-id="aec53-226">雖然這類練習不會讓您更接近工作版本，但它有助於促進 GridView 和資料系結生命週期的深入瞭解。</span><span class="sxs-lookup"><span data-stu-id="aec53-226">While such an exercise won't get you any closer to a working version, it will help foster a deeper understanding of the GridView and the databinding lifecycle.</span></span>

<span data-ttu-id="aec53-227">另一種將自訂、低層級標記插入範本中的方法，以及我們將在本教學課程中使用的方法，就是將[常值控制項](https://msdn.microsoft.com/library/sz4949ks(VS.80).aspx)新增至範本。</span><span class="sxs-lookup"><span data-stu-id="aec53-227">The other approach to injecting custom, low-level markup in a template and the approach that we'll be using for this tutorial is to add a [Literal control](https://msdn.microsoft.com/library/sz4949ks(VS.80).aspx) to the template.</span></span> <span data-ttu-id="aec53-228">然後，在 GridView 的 `RowCreated` 或 `RowDataBound` 事件處理常式中，常值控制項可透過程式設計方式存取，並將其 `Text` 屬性設定為要發出的標記。</span><span class="sxs-lookup"><span data-stu-id="aec53-228">Then, in the GridView s `RowCreated` or `RowDataBound` event handler, the Literal control can be programmatically accessed and its `Text` property set to the markup to emit.</span></span>

<span data-ttu-id="aec53-229">一開始先從 TemplateField s `ItemTemplate`中移除選項按鈕，並將它取代為常值控制項。</span><span class="sxs-lookup"><span data-stu-id="aec53-229">Start by removing the RadioButton from the TemplateField s `ItemTemplate`, replacing it with a Literal control.</span></span> <span data-ttu-id="aec53-230">將 [常值控制] `ID` 設定為 [`RadioButtonMarkup`]。</span><span class="sxs-lookup"><span data-stu-id="aec53-230">Set the Literal control s `ID` to `RadioButtonMarkup`.</span></span>

<span data-ttu-id="aec53-231">[![將常值控制項加入至 ItemTemplate](adding-a-gridview-column-of-radio-buttons-cs/_static/image12.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="aec53-231">[![Add a Literal Control to the ItemTemplate](adding-a-gridview-column-of-radio-buttons-cs/_static/image12.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image19.png)</span></span>

<span data-ttu-id="aec53-232">**圖 12**：將常值控制項加入至 `ItemTemplate` （[按一下以查看完整大小的影像](adding-a-gridview-column-of-radio-buttons-cs/_static/image20.png)）</span><span class="sxs-lookup"><span data-stu-id="aec53-232">**Figure 12**: Add a Literal Control to the `ItemTemplate` ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image20.png))</span></span>

<span data-ttu-id="aec53-233">接下來，建立 GridView s `RowCreated` 事件的事件處理常式。</span><span class="sxs-lookup"><span data-stu-id="aec53-233">Next, create an event handler for the GridView s `RowCreated` event.</span></span> <span data-ttu-id="aec53-234">無論資料是否正在重新系結至 GridView，`RowCreated` 事件都會針對加入的每個資料列引發一次。</span><span class="sxs-lookup"><span data-stu-id="aec53-234">The `RowCreated` event fires once for every row added, whether or not the data is being rebound to the GridView.</span></span> <span data-ttu-id="aec53-235">這表示即使在從 view 狀態重載資料時，也會在回傳時引發 `RowCreated` 事件，而這就是我們使用它的原因，而不是 `RowDataBound` （這只會在資料明確系結至資料 Web 控制項時引發）。</span><span class="sxs-lookup"><span data-stu-id="aec53-235">That means that even on a postback when the data is reloaded from view state, the `RowCreated` event still fires and this is the reason we are using it instead of `RowDataBound` (which fires only when the data is explicitly bound to the data Web control).</span></span>

<span data-ttu-id="aec53-236">在此事件處理常式中，我們只想要在我們重新處理資料列時繼續進行。</span><span class="sxs-lookup"><span data-stu-id="aec53-236">In this event handler, we only want to proceed if we re dealing with a data row.</span></span> <span data-ttu-id="aec53-237">針對每個資料列，我們想要以程式設計方式參考 `RadioButtonMarkup` 的常值控制項，並將其 `Text` 屬性設定為要發出的標記。</span><span class="sxs-lookup"><span data-stu-id="aec53-237">For each data row we want to programmatically reference the `RadioButtonMarkup` Literal control and set its `Text` property to the markup to emit.</span></span> <span data-ttu-id="aec53-238">如下列程式碼所示，發出的標記會建立一個選項按鈕，其 `name` 屬性設為 `SuppliersGroup`，其 `id` 屬性設定為 `RowSelectorX`，其中*X*是 gridview 資料列的索引，而其 `value` 屬性設定為 gridview 資料列的索引。</span><span class="sxs-lookup"><span data-stu-id="aec53-238">As the following code shows, the markup emitted creates a radio button whose `name` attribute is set to `SuppliersGroup`, whose `id` attribute is set to `RowSelectorX`, where *X* is the index of the GridView row, and whose `value` attribute is set to the index of the GridView row.</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample6.cs)]

<span data-ttu-id="aec53-239">選取 GridView 資料列並進行回傳時，我們會對所選供應商的 `SupplierID` 感興趣。</span><span class="sxs-lookup"><span data-stu-id="aec53-239">When a GridView row is selected and a postback occurs, we are interested in the `SupplierID` of the selected supplier.</span></span> <span data-ttu-id="aec53-240">因此，您可能會認為每個選項按鈕的值都應該是實際的 `SupplierID` （而不是 GridView 資料列的索引）。</span><span class="sxs-lookup"><span data-stu-id="aec53-240">Therefore, one might think that the value of each radio button should be the actual `SupplierID` (rather than the index of the GridView row).</span></span> <span data-ttu-id="aec53-241">雖然這在某些情況下可能會有作用，但還是會有一項安全性風險，可以盲目接受和處理 `SupplierID`。</span><span class="sxs-lookup"><span data-stu-id="aec53-241">While this may work in certain circumstances, it would be a security risk to blindly accept and process a `SupplierID`.</span></span> <span data-ttu-id="aec53-242">例如，我們的 GridView 只會列出美國的供應商。</span><span class="sxs-lookup"><span data-stu-id="aec53-242">Our GridView, for example, lists only those suppliers in the USA.</span></span> <span data-ttu-id="aec53-243">不過，如果直接從選項按鈕傳遞 `SupplierID`，會阻止 mischievous 使用者操作回傳時傳回的 `SupplierID` 值？</span><span class="sxs-lookup"><span data-stu-id="aec53-243">However, if the `SupplierID` is passed directly from the radio button, what s to stop a mischievous user from manipulating the `SupplierID` value sent back on postback?</span></span> <span data-ttu-id="aec53-244">藉由使用資料列索引做為 `value`，然後在從 `DataKeys` 集合回傳時取得 `SupplierID`，我們可以確保使用者只使用其中一個 GridView 資料列相關聯的 `SupplierID` 值。</span><span class="sxs-lookup"><span data-stu-id="aec53-244">By using the row index as the `value`, and then getting the `SupplierID` on postback from the `DataKeys` collection, we can ensure that the user is only using one of the `SupplierID` values associated with one of the GridView rows.</span></span>

<span data-ttu-id="aec53-245">加入這個事件處理常式程式碼之後，請花幾分鐘的時間在瀏覽器中測試頁面。</span><span class="sxs-lookup"><span data-stu-id="aec53-245">After adding this event handler code, take a minute to test out the page in a browser.</span></span> <span data-ttu-id="aec53-246">首先，請注意，一次只能選取方格中的一個選項按鈕。</span><span class="sxs-lookup"><span data-stu-id="aec53-246">First, note that only one radio button in the grid can be selected at a time.</span></span> <span data-ttu-id="aec53-247">不過，當選取選項按鈕並按一下其中一個按鈕時，就會發生回傳，而且選項按鈕會全部還原成其初始狀態（也就是在回傳時，不會再選取選取的選項按鈕）。</span><span class="sxs-lookup"><span data-stu-id="aec53-247">However, when selecting a radio button and clicking one of the buttons, a postback occurs and the radio buttons all revert to their initial state (that is, on postback, the selected radio button is no longer selected).</span></span> <span data-ttu-id="aec53-248">若要修正此問題，我們必須擴充 `RowCreated` 事件處理常式，使其檢查從回傳傳送的選取選項按鈕索引，並將 `checked="checked"` 屬性加入至資料列索引相符專案的發出標記。</span><span class="sxs-lookup"><span data-stu-id="aec53-248">To fix this, we need to augment the `RowCreated` event handler so that it inspects the selected radio button index sent from the postback and adds the `checked="checked"` attribute to the emitted markup of the row index matches.</span></span>

<span data-ttu-id="aec53-249">當回傳時，瀏覽器會傳回選取之選項按鈕的 `name` 和 `value`。</span><span class="sxs-lookup"><span data-stu-id="aec53-249">When a postback occurs, the browser sends back the `name` and `value` of the selected radio button.</span></span> <span data-ttu-id="aec53-250">此值可以使用 `Request.Form["name"]`以程式設計方式抓取。</span><span class="sxs-lookup"><span data-stu-id="aec53-250">The value can be programmatically retrieved using `Request.Form["name"]`.</span></span> <span data-ttu-id="aec53-251">[`Request.Form` 屬性](https://msdn.microsoft.com/library/system.web.httprequest.form.aspx)提供代表表單變數的[`NameValueCollection`](https://msdn.microsoft.com/library/system.collections.specialized.namevaluecollection.aspx) 。</span><span class="sxs-lookup"><span data-stu-id="aec53-251">The [`Request.Form` property](https://msdn.microsoft.com/library/system.web.httprequest.form.aspx) provides a [`NameValueCollection`](https://msdn.microsoft.com/library/system.collections.specialized.namevaluecollection.aspx) representing the form variables.</span></span> <span data-ttu-id="aec53-252">表單變數是網頁中表單域的名稱和值，每當回傳接踵而來時，網頁瀏覽器就會送回。</span><span class="sxs-lookup"><span data-stu-id="aec53-252">The form variables are the names and values of the form fields in the web page, and are sent back by the web browser whenever a postback ensues.</span></span> <span data-ttu-id="aec53-253">由於 GridView 中選項按鈕的轉譯 `name` 屬性是 `SuppliersGroup`，因此當網頁回傳時，瀏覽器會將 `SuppliersGroup=valueOfSelectedRadioButton` 傳送回 web 伺服器（連同其他表單欄位）。</span><span class="sxs-lookup"><span data-stu-id="aec53-253">Because the rendered `name` attribute of the radio buttons in the GridView is `SuppliersGroup`, when the web page is posted back the browser will send `SuppliersGroup=valueOfSelectedRadioButton` back to the web server (along with the other form fields).</span></span> <span data-ttu-id="aec53-254">然後您可以使用： `Request.Form["SuppliersGroup"]`，從 `Request.Form` 屬性存取此資訊。</span><span class="sxs-lookup"><span data-stu-id="aec53-254">This information can then be accessed from the `Request.Form` property using: `Request.Form["SuppliersGroup"]`.</span></span>

<span data-ttu-id="aec53-255">由於我們只需要判斷在 `RowCreated` 事件處理常式中所選取的選項按鈕索引，而是在按鈕 Web 控制項的 `Click` 事件處理常式中，因此，請將 `SuppliersSelectedIndex` 屬性加入至會傳回 `-1` 的程式碼後置類別，如果未選取任何選項按鈕，則為選取的索引，如果選取了其中一個選項按鈕，則會傳回該專案。</span><span class="sxs-lookup"><span data-stu-id="aec53-255">Since we'll need to determine the selected radio button index not only in the `RowCreated` event handler, but in the `Click` event handlers for the Button Web controls, let s add a `SuppliersSelectedIndex` property to the code-behind class that returns `-1` if no radio button was selected and the selected index if one of the radio buttons is selected.</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample7.cs)]

<span data-ttu-id="aec53-256">加入這個屬性之後，我們知道當 `SuppliersSelectedIndex` 等於 `e.Row.RowIndex`時，會在 `RowCreated` 事件處理常式中加入 `checked="checked"` 標記。</span><span class="sxs-lookup"><span data-stu-id="aec53-256">With this property added, we know to add the `checked="checked"` markup in the `RowCreated` event handler when `SuppliersSelectedIndex` equals `e.Row.RowIndex`.</span></span> <span data-ttu-id="aec53-257">更新事件處理常式以包含下列邏輯：</span><span class="sxs-lookup"><span data-stu-id="aec53-257">Update the event handler to include this logic:</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample8.cs)]

<span data-ttu-id="aec53-258">透過這種變更，在回傳之後，選取的選項按鈕會保持選取狀態。</span><span class="sxs-lookup"><span data-stu-id="aec53-258">With this change, the selected radio button remains selected after a postback.</span></span> <span data-ttu-id="aec53-259">既然我們已經能夠指定要選取的選項按鈕，我們可以變更行為，以便在第一次流覽頁面時選取第一個 GridView 資料列 s 選項按鈕（而不是預設選取的選項按鈕，這是目前的行為）。</span><span class="sxs-lookup"><span data-stu-id="aec53-259">Now that we have the ability to specify what radio button is selected, we could change the behavior so that when the page was first visited, the first GridView row s radio button was selected (rather than having no radio buttons selected by default, which is the current behavior).</span></span> <span data-ttu-id="aec53-260">若要預設選取第一個選項按鈕，只需將 `if (SuppliersSelectedIndex == e.Row.RowIndex)` 語句變更為下列： `if (SuppliersSelectedIndex == e.Row.RowIndex || (!Page.IsPostBack && e.Row.RowIndex == 0))`。</span><span class="sxs-lookup"><span data-stu-id="aec53-260">To have the first radio button selected by default, simply change the `if (SuppliersSelectedIndex == e.Row.RowIndex)` statement to the following: `if (SuppliersSelectedIndex == e.Row.RowIndex || (!Page.IsPostBack && e.Row.RowIndex == 0))`.</span></span>

<span data-ttu-id="aec53-261">此時，我們已將群組選項按鈕的資料行新增至 GridView，以允許在回傳之間選取並記住單一 GridView 資料列。</span><span class="sxs-lookup"><span data-stu-id="aec53-261">At this point we have added a column of grouped radio buttons to the GridView that allows for a single GridView row to be selected and remembered across postbacks.</span></span> <span data-ttu-id="aec53-262">接下來的步驟是顯示所選供應商所提供的產品。</span><span class="sxs-lookup"><span data-stu-id="aec53-262">Our next steps are to display the products provided by the selected supplier.</span></span> <span data-ttu-id="aec53-263">在步驟4中，我們將瞭解如何將使用者重新導向至另一個頁面，並沿著選取的 `SupplierID`傳送。</span><span class="sxs-lookup"><span data-stu-id="aec53-263">In Step 4 we'll see how to redirect the user to another page, sending along the selected `SupplierID`.</span></span> <span data-ttu-id="aec53-264">在步驟5中，我們將瞭解如何在同一個頁面上，將選取的供應商產品顯示在 GridView 中。</span><span class="sxs-lookup"><span data-stu-id="aec53-264">In Step 5, we'll see how to display the selected supplier s products in a GridView on the same page.</span></span>

> [!NOTE]
> <span data-ttu-id="aec53-265">我們可以建立自訂的 `DataControlField` 類別來呈現適當的使用者介面和功能，而不是使用 TemplateField （此冗長步驟3的焦點）。</span><span class="sxs-lookup"><span data-stu-id="aec53-265">Rather than using a TemplateField (the focus of this lengthy Step 3), we could create a custom `DataControlField` class that renders the appropriate user interface and functionality.</span></span> <span data-ttu-id="aec53-266">[`DataControlField` 類別](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datacontrolfield.aspx)是 BoundField、CheckBoxField、TemplateField 和其他內建 GridView 和 DetailsView 欄位衍生來源的基類。</span><span class="sxs-lookup"><span data-stu-id="aec53-266">The [`DataControlField` class](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datacontrolfield.aspx) is the base class from which the BoundField, CheckBoxField, TemplateField, and other built-in GridView and DetailsView fields derive.</span></span> <span data-ttu-id="aec53-267">建立自訂的 `DataControlField` 類別，表示只能使用宣告式語法來新增選項按鈕的資料行，也可以讓您更輕鬆地在其他網頁和其他 web 應用程式上複寫功能。</span><span class="sxs-lookup"><span data-stu-id="aec53-267">Creating a custom `DataControlField` class would mean that the column of radio buttons could be added just using declarative syntax, and would also make replicating the functionality on other web pages and other web applications significantly easier.</span></span>

<span data-ttu-id="aec53-268">不過，如果您在 ASP.NET 中建立了自訂的編譯控制項，那麼您知道這麼做需要相當跑腿活兒的，並且攜帶一系列必須謹慎處理的微妙差異和 edge 案例。</span><span class="sxs-lookup"><span data-stu-id="aec53-268">If you ve ever created custom, compiled controls in ASP.NET, however, you know that doing so requires a fair amount of legwork and carries with it a host of subtleties and edge cases that must be carefully handled.</span></span> <span data-ttu-id="aec53-269">因此，我們會放棄將選項按鈕的資料行實作為現在的自訂 `DataControlField` 類別，並使用 TemplateField 選項。</span><span class="sxs-lookup"><span data-stu-id="aec53-269">Therefore, we will forgo implementing a column of radio buttons as a custom `DataControlField` class for now and stick with the TemplateField option.</span></span> <span data-ttu-id="aec53-270">也許我們有機會在未來的教學課程中探索如何建立、使用和部署自訂的 `DataControlField` 類別！</span><span class="sxs-lookup"><span data-stu-id="aec53-270">Perhaps we'll have the chance to explore creating, using, and deploying custom `DataControlField` classes in a future tutorial!</span></span>

## <a name="step-4-displaying-the-selected-supplier-s-products-in-a-separate-page"></a><span data-ttu-id="aec53-271">步驟4：在不同的頁面中顯示選取的供應商產品</span><span class="sxs-lookup"><span data-stu-id="aec53-271">Step 4: Displaying the Selected Supplier s Products in a Separate Page</span></span>

<span data-ttu-id="aec53-272">在使用者選取 GridView 資料列之後，我們必須顯示選取的供應商產品。</span><span class="sxs-lookup"><span data-stu-id="aec53-272">After the user has selected a GridView row, we need to show the selected supplier s products.</span></span> <span data-ttu-id="aec53-273">在某些情況下，我們可能會想要在不同的頁面中顯示這些產品，我們可能會偏好在相同的頁面中執行。</span><span class="sxs-lookup"><span data-stu-id="aec53-273">In some circumstances, we may want to display these products in a separate page, in others we might prefer to do it in the same page.</span></span> <span data-ttu-id="aec53-274">讓我們先檢查如何在不同的頁面中顯示產品;在步驟5中，我們將探討如何將 GridView 新增至 `RadioButtonField.aspx`，以顯示選取的供應商產品。</span><span class="sxs-lookup"><span data-stu-id="aec53-274">Let s first examine how to display the products in a separate page; in Step 5 we'll look at adding a GridView to `RadioButtonField.aspx` to display the selected supplier s products.</span></span>

<span data-ttu-id="aec53-275">目前頁面上有兩個按鈕 Web 控制項 `ListProducts` 和 `SendToProducts`。</span><span class="sxs-lookup"><span data-stu-id="aec53-275">Currently there are two Button Web controls on the page `ListProducts` and `SendToProducts`.</span></span> <span data-ttu-id="aec53-276">按一下 [`SendToProducts`] 按鈕時，我們會想要將使用者傳送至 `~/Filtering/ProductsForSupplierDetails.aspx`。</span><span class="sxs-lookup"><span data-stu-id="aec53-276">When the `SendToProducts` Button is clicked, we want to send the user to `~/Filtering/ProductsForSupplierDetails.aspx`.</span></span> <span data-ttu-id="aec53-277">此頁面是在[兩個頁面教學課程的主要/詳細資料篩選](../masterdetail/master-detail-filtering-across-two-pages-cs.md)中建立的，而且會顯示供應商的產品，其 `SupplierID` 是透過名為 `SupplierID`的 querystring 欄位來傳遞。</span><span class="sxs-lookup"><span data-stu-id="aec53-277">This page was created in the [Master/Detail Filtering Across Two Pages](../masterdetail/master-detail-filtering-across-two-pages-cs.md) tutorial and displays the products for the supplier whose `SupplierID` is passed through the querystring field named `SupplierID`.</span></span>

<span data-ttu-id="aec53-278">若要提供這種功能，請建立 `SendToProducts` 按鈕 s `Click` 事件的事件處理常式。</span><span class="sxs-lookup"><span data-stu-id="aec53-278">To provide this functionality, create an event handler for the `SendToProducts` Button s `Click` event.</span></span> <span data-ttu-id="aec53-279">在步驟3中，我們新增了 `SuppliersSelectedIndex` 屬性，它會傳回已選取選項按鈕之資料列的索引。</span><span class="sxs-lookup"><span data-stu-id="aec53-279">In Step 3 we added the `SuppliersSelectedIndex` property, which returns the index of the row whose radio button is selected.</span></span> <span data-ttu-id="aec53-280">您可以從 GridView 的 `DataKeys` 集合中抓取對應的 `SupplierID`，然後可以使用 `Response.Redirect("url")`將使用者傳送至 `~/Filtering/ProductsForSupplierDetails.aspx?SupplierID=SupplierID`。</span><span class="sxs-lookup"><span data-stu-id="aec53-280">The corresponding `SupplierID` can be retrieved from the GridView s `DataKeys` collection and the user can then be sent to `~/Filtering/ProductsForSupplierDetails.aspx?SupplierID=SupplierID` using `Response.Redirect("url")`.</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample9.cs)]

<span data-ttu-id="aec53-281">只要從 GridView 選取其中一個選項按鈕，此程式碼就會運作 wonderfully。</span><span class="sxs-lookup"><span data-stu-id="aec53-281">This code works wonderfully as long as one of the radio buttons is selected from the GridView.</span></span> <span data-ttu-id="aec53-282">如果一開始，GridView 並未選取任何選項按鈕，而使用者按一下 [`SendToProducts`] 按鈕，`SuppliersSelectedIndex` 將會 `-1`，這會導致擲回例外狀況，因為 `-1` 超出 `DataKeys` 集合的索引範圍。</span><span class="sxs-lookup"><span data-stu-id="aec53-282">If, initially, the GridView does not have any radio buttons selected, and the user clicks the `SendToProducts` button, `SuppliersSelectedIndex` will be `-1`, which will cause an exception to be thrown since `-1` is out of the index range of the `DataKeys` collection.</span></span> <span data-ttu-id="aec53-283">不過，如果您決定要更新步驟3中所討論的 `RowCreated` 事件處理常式，以便一開始選取 GridView 中的第一個選項按鈕，這就不是問題。</span><span class="sxs-lookup"><span data-stu-id="aec53-283">This is not a concern, however, if you decided to update the `RowCreated` event handler as discussed in Step 3 so as to have the first radio button in the GridView initially selected.</span></span>

<span data-ttu-id="aec53-284">若要配合 `-1`的 `SuppliersSelectedIndex` 值，請將標籤 Web 控制項新增至 GridView 上方的頁面。</span><span class="sxs-lookup"><span data-stu-id="aec53-284">To accommodate a `SuppliersSelectedIndex` value of `-1`, add a Label Web control to the page above the GridView.</span></span> <span data-ttu-id="aec53-285">將其 [`ID`] 屬性設定為 [`ChooseSupplierMsg`]、其 [`CssClass`] 屬性設為 [`Warning`]、將其 [`EnableViewState`] 和 [`Visible`] 屬性設定為 [`false`]，並將其 [`Text`] 屬性</span><span class="sxs-lookup"><span data-stu-id="aec53-285">Set its `ID` property to `ChooseSupplierMsg`, its `CssClass` property to `Warning`, its `EnableViewState` and `Visible` properties to `false`, and its `Text` property to Please choose a supplier from the grid.</span></span> <span data-ttu-id="aec53-286">CSS 類別 `Warning` 以紅色、斜體、粗體、大字型來顯示文字，並在 `Styles.css`中定義。</span><span class="sxs-lookup"><span data-stu-id="aec53-286">The CSS class `Warning` displays text in a red, italic, bold, large font and is defined in `Styles.css`.</span></span> <span data-ttu-id="aec53-287">藉由將 [`EnableViewState`] 和 [`Visible`] 屬性設定為 [`false`]，就不會轉譯標籤，只會轉譯控制項 s `Visible` 屬性以程式設計方式設定為 `true`的那些回傳。</span><span class="sxs-lookup"><span data-stu-id="aec53-287">By setting the `EnableViewState` and `Visible` properties to `false`, the Label is not rendered except for only those postbacks where the control s `Visible` property is programmatically set to `true`.</span></span>

<span data-ttu-id="aec53-288">[![在 GridView 上方新增標籤 Web 控制項](adding-a-gridview-column-of-radio-buttons-cs/_static/image13.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="aec53-288">[![Add a Label Web Control Above the GridView](adding-a-gridview-column-of-radio-buttons-cs/_static/image13.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image21.png)</span></span>

<span data-ttu-id="aec53-289">**圖 13**：在 GridView 上方新增標籤 Web 控制項（[按一下以觀看完整大小的影像](adding-a-gridview-column-of-radio-buttons-cs/_static/image22.png)）</span><span class="sxs-lookup"><span data-stu-id="aec53-289">**Figure 13**: Add a Label Web Control Above the GridView ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image22.png))</span></span>

<span data-ttu-id="aec53-290">接下來，如果 `SuppliersSelectedIndex` 小於零，請擴大 `Click` 事件處理常式以顯示 `ChooseSupplierMsg` 標籤，然後將使用者重新導向至 `~/Filtering/ProductsForSupplierDetails.aspx?SupplierID=SupplierID`，否則為。</span><span class="sxs-lookup"><span data-stu-id="aec53-290">Next, augment the `Click` event handler to display the `ChooseSupplierMsg` Label if `SuppliersSelectedIndex` is less than zero, and redirect the user to `~/Filtering/ProductsForSupplierDetails.aspx?SupplierID=SupplierID` otherwise.</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample10.cs)]

<span data-ttu-id="aec53-291">請造訪瀏覽器中的頁面，然後按一下 [`SendToProducts`] 按鈕，然後再從 GridView 選取供應商。</span><span class="sxs-lookup"><span data-stu-id="aec53-291">Visit the page in a browser and click the `SendToProducts` button before selecting a supplier from the GridView.</span></span> <span data-ttu-id="aec53-292">如 [圖 14] 所示，這會顯示 [`ChooseSupplierMsg`] 標籤。</span><span class="sxs-lookup"><span data-stu-id="aec53-292">As Figure 14 shows, this displays the `ChooseSupplierMsg` label.</span></span> <span data-ttu-id="aec53-293">接下來，選取供應商，然後按一下 [`SendToProducts`] 按鈕。</span><span class="sxs-lookup"><span data-stu-id="aec53-293">Next, select a supplier and click the `SendToProducts` button.</span></span> <span data-ttu-id="aec53-294">這會 whisk 您到一個頁面，其中列出所選供應商所提供的產品。</span><span class="sxs-lookup"><span data-stu-id="aec53-294">This will whisk you to a page that lists the products supplied by the selected supplier.</span></span> <span data-ttu-id="aec53-295">[圖 15] 顯示選取 Bigfoot Breweries 供應商時的 `ProductsForSupplierDetails.aspx` 頁面。</span><span class="sxs-lookup"><span data-stu-id="aec53-295">Figure 15 shows the `ProductsForSupplierDetails.aspx` page when the Bigfoot Breweries supplier was selected.</span></span>

<span data-ttu-id="aec53-296">[![如果未選取任何供應商，則會顯示 [ChooseSupplierMsg] 標籤](adding-a-gridview-column-of-radio-buttons-cs/_static/image14.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="aec53-296">[![The ChooseSupplierMsg Label is Displayed if No Supplier is Selected](adding-a-gridview-column-of-radio-buttons-cs/_static/image14.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image23.png)</span></span>

<span data-ttu-id="aec53-297">**圖 14**：如果未選取供應商，就會顯示 [`ChooseSupplierMsg`] 標籤（[按一下以查看完整大小的影像](adding-a-gridview-column-of-radio-buttons-cs/_static/image24.png)）</span><span class="sxs-lookup"><span data-stu-id="aec53-297">**Figure 14**: The `ChooseSupplierMsg` Label is Displayed if No Supplier is Selected ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image24.png))</span></span>

<span data-ttu-id="aec53-298">[![選取的供應商產品會顯示在 ProductsForSupplierDetails 中](adding-a-gridview-column-of-radio-buttons-cs/_static/image15.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="aec53-298">[![The Selected Supplier s Products are Displayed in ProductsForSupplierDetails.aspx](adding-a-gridview-column-of-radio-buttons-cs/_static/image15.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image25.png)</span></span>

<span data-ttu-id="aec53-299">**圖 15**：選取的供應商產品會顯示在 `ProductsForSupplierDetails.aspx` （[按一下以觀看完整大小的影像](adding-a-gridview-column-of-radio-buttons-cs/_static/image26.png)）</span><span class="sxs-lookup"><span data-stu-id="aec53-299">**Figure 15**: The Selected Supplier s Products are Displayed in `ProductsForSupplierDetails.aspx` ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image26.png))</span></span>

## <a name="step-5-displaying-the-selected-supplier-s-products-on-the-same-page"></a><span data-ttu-id="aec53-300">步驟5：在相同的頁面上顯示選取的供應商產品</span><span class="sxs-lookup"><span data-stu-id="aec53-300">Step 5: Displaying the Selected Supplier s Products on the Same Page</span></span>

<span data-ttu-id="aec53-301">在步驟4中，我們看到如何將使用者傳送至另一個網頁，以顯示選取的供應商產品。</span><span class="sxs-lookup"><span data-stu-id="aec53-301">In Step 4 we saw how to send the user to another web page to display the selected supplier s products.</span></span> <span data-ttu-id="aec53-302">或者，選取的供應商產品可以顯示在相同的頁面上。</span><span class="sxs-lookup"><span data-stu-id="aec53-302">Alternatively, the selected supplier s products can be displayed on the same page.</span></span> <span data-ttu-id="aec53-303">為了說明這一點，我們會將另一個 GridView 新增至 `RadioButtonField.aspx`，以顯示選取的供應商產品。</span><span class="sxs-lookup"><span data-stu-id="aec53-303">To illustrate this, we'll add another GridView to `RadioButtonField.aspx` to display the selected supplier s products.</span></span>

<span data-ttu-id="aec53-304">因為我們只想要在選取供應商之後顯示這一 GridView 的產品，請在 `Suppliers` GridView 底下新增面板 Web 控制項，將其 `ID` 設定為 `ProductsBySupplierPanel`，並將其 `Visible` 屬性設為 [`false`]。</span><span class="sxs-lookup"><span data-stu-id="aec53-304">Since we only want this GridView of products to display once a supplier has been selected, add a Panel Web control beneath the `Suppliers` GridView, setting its `ID` to `ProductsBySupplierPanel` and its `Visible` property to `false`.</span></span> <span data-ttu-id="aec53-305">在面板中，新增所選供應商的文字產品，後面接著名為 `ProductsBySupplier`的 GridView。</span><span class="sxs-lookup"><span data-stu-id="aec53-305">Within the Panel, add the text Products for the Selected Supplier, followed by a GridView named `ProductsBySupplier`.</span></span> <span data-ttu-id="aec53-306">從 GridView 的智慧標籤中，選擇將其系結至名為 `ProductsBySupplierDataSource`的新 ObjectDataSource。</span><span class="sxs-lookup"><span data-stu-id="aec53-306">From the GridView s smart tag, choose to bind it to a new ObjectDataSource named `ProductsBySupplierDataSource`.</span></span>

<span data-ttu-id="aec53-307">[![將 ProductsBySupplier GridView 系結至新的 ObjectDataSource](adding-a-gridview-column-of-radio-buttons-cs/_static/image16.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="aec53-307">[![Bind the ProductsBySupplier GridView to a New ObjectDataSource](adding-a-gridview-column-of-radio-buttons-cs/_static/image16.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image27.png)</span></span>

<span data-ttu-id="aec53-308">**圖 16**：將 `ProductsBySupplier` GridView 系結至新的 ObjectDataSource （[按一下以查看完整大小的影像](adding-a-gridview-column-of-radio-buttons-cs/_static/image28.png)）</span><span class="sxs-lookup"><span data-stu-id="aec53-308">**Figure 16**: Bind the `ProductsBySupplier` GridView to a New ObjectDataSource ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image28.png))</span></span>

<span data-ttu-id="aec53-309">接下來，設定 ObjectDataSource 以使用 `ProductsBLL` 類別。</span><span class="sxs-lookup"><span data-stu-id="aec53-309">Next, configure the ObjectDataSource to use the `ProductsBLL` class.</span></span> <span data-ttu-id="aec53-310">因為我們只想要取出所選供應商所提供的產品，請指定 ObjectDataSource 應叫用 `GetProductsBySupplierID(supplierID)` 方法來抓取其資料。</span><span class="sxs-lookup"><span data-stu-id="aec53-310">Since we only want to retrieve those products provided by the selected supplier, specify that the ObjectDataSource should invoke the `GetProductsBySupplierID(supplierID)` method to retrieve its data.</span></span> <span data-ttu-id="aec53-311">從 [更新]、[插入] 和 [刪除] 索引標籤的下拉式清單中，選取 [（無）]。</span><span class="sxs-lookup"><span data-stu-id="aec53-311">Select (None) from the drop-down lists in the UPDATE, INSERT, and DELETE tabs.</span></span>

<span data-ttu-id="aec53-312">[![將 ObjectDataSource 設定為使用 GetProductsBySupplierID （已加入供應商）方法](adding-a-gridview-column-of-radio-buttons-cs/_static/image17.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="aec53-312">[![Configure the ObjectDataSource to Use the GetProductsBySupplierID(supplierID) Method](adding-a-gridview-column-of-radio-buttons-cs/_static/image17.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image29.png)</span></span>

<span data-ttu-id="aec53-313">**圖 17**：設定 ObjectDataSource 以使用 `GetProductsBySupplierID(supplierID)` 方法（[按一下以查看完整大小的影像](adding-a-gridview-column-of-radio-buttons-cs/_static/image30.png)）</span><span class="sxs-lookup"><span data-stu-id="aec53-313">**Figure 17**: Configure the ObjectDataSource to Use the `GetProductsBySupplierID(supplierID)` Method ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image30.png))</span></span>

<span data-ttu-id="aec53-314">[![在 [更新]、[插入] 和 [刪除] 索引標籤中，將下拉式清單設定為 [（無）]](adding-a-gridview-column-of-radio-buttons-cs/_static/image18.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="aec53-314">[![Set the Drop-Down Lists to (None) in the UPDATE, INSERT, and DELETE Tabs](adding-a-gridview-column-of-radio-buttons-cs/_static/image18.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image31.png)</span></span>

<span data-ttu-id="aec53-315">**圖 18**：在 [更新]、[插入] 和 [刪除] 索引標籤中，將下拉式清單設定為 [（無）] （[按一下以查看完整大小的影像](adding-a-gridview-column-of-radio-buttons-cs/_static/image32.png)）</span><span class="sxs-lookup"><span data-stu-id="aec53-315">**Figure 18**: Set the Drop-Down Lists to (None) in the UPDATE, INSERT, and DELETE Tabs ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image32.png))</span></span>

<span data-ttu-id="aec53-316">設定 [選取、更新、插入和刪除] 索引標籤之後，按 [下一步]。</span><span class="sxs-lookup"><span data-stu-id="aec53-316">After configuring the SELECT, UPDATE, INSERT, and DELETE tabs, click Next.</span></span> <span data-ttu-id="aec53-317">由於 `GetProductsBySupplierID(supplierID)` 方法需要輸入參數，因此 [建立資料來源] wizard 會提示我們指定參數 s 值的來源。</span><span class="sxs-lookup"><span data-stu-id="aec53-317">Since the `GetProductsBySupplierID(supplierID)` method expects an input parameter, the Create Data Source wizard prompts us to specify the source for the parameter s value.</span></span>

<span data-ttu-id="aec53-318">在這裡，我們有幾個選項來指定參數 s 值的來源。</span><span class="sxs-lookup"><span data-stu-id="aec53-318">We have a couple of options here in specifying the source of the parameter s value.</span></span> <span data-ttu-id="aec53-319">我們可以使用預設參數物件，並以程式設計方式將 `SuppliersSelectedIndex` 屬性的值指派給 ObjectDataSource s `Selecting` 事件處理常式中的參數 s `DefaultValue` 屬性。</span><span class="sxs-lookup"><span data-stu-id="aec53-319">We could use the default Parameter object, and programmatically assign the value of the `SuppliersSelectedIndex` property to the Parameter s `DefaultValue` property in the ObjectDataSource s `Selecting` event handler.</span></span> <span data-ttu-id="aec53-320">以程式設計方式[設定 objectdatasource 的參數值](../basic-reporting/programmatically-setting-the-objectdatasource-s-parameter-values-cs.md)教學課程，以程式設計方式將值指派給 objectdatasource s 參數，以進行切換。</span><span class="sxs-lookup"><span data-stu-id="aec53-320">Refer back to the [Programmatically Setting the ObjectDataSource's Parameter Values](../basic-reporting/programmatically-setting-the-objectdatasource-s-parameter-values-cs.md) tutorial for a refresher on programmatically assigning values to the ObjectDataSource s parameters.</span></span>

<span data-ttu-id="aec53-321">或者，我們可以使用 ControlParameter，並參考 `Suppliers` GridView 的[`SelectedValue` 屬性](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedvalue.aspx)（請參閱 [圖 19]）。</span><span class="sxs-lookup"><span data-stu-id="aec53-321">Alternatively, we can use a ControlParameter and refer to the `Suppliers` GridView s [`SelectedValue` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedvalue.aspx) (see Figure 19).</span></span> <span data-ttu-id="aec53-322">GridView 的 `SelectedValue` 屬性會傳回對應至[`SelectedIndex` 屬性](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedindex.aspx)的 `DataKey` 值。</span><span class="sxs-lookup"><span data-stu-id="aec53-322">The GridView s `SelectedValue` property returns the `DataKey` value corresponding to the [`SelectedIndex` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedindex.aspx).</span></span> <span data-ttu-id="aec53-323">為了讓這個選項能夠正常執行，我們需要在按一下 [`ListProducts`] 按鈕時，以程式設計方式將 GridView 的 `SelectedIndex` 屬性設定為選取的資料列。</span><span class="sxs-lookup"><span data-stu-id="aec53-323">In order for this option to work, we need to programmatically set the GridView s `SelectedIndex` property to the selected row when the `ListProducts` button is clicked.</span></span> <span data-ttu-id="aec53-324">藉由設定 `SelectedIndex`，選取的記錄將會採用 `DataWebControls` 主題中定義的 `SelectedRowStyle` （黃色背景），這是一項額外的好處。</span><span class="sxs-lookup"><span data-stu-id="aec53-324">As an added benefit, by setting the `SelectedIndex`, the selected record will take on the `SelectedRowStyle` defined in the `DataWebControls` Theme (a yellow background).</span></span>

<span data-ttu-id="aec53-325">[![使用 ControlParameter 來指定 GridView s SelectedValue 做為參數來源](adding-a-gridview-column-of-radio-buttons-cs/_static/image19.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image33.png)</span><span class="sxs-lookup"><span data-stu-id="aec53-325">[![Use a ControlParameter to Specify the GridView s SelectedValue as the Parameter Source](adding-a-gridview-column-of-radio-buttons-cs/_static/image19.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image33.png)</span></span>

<span data-ttu-id="aec53-326">**圖 19**：使用 ControlParameter 指定 GridView s SelectedValue 做為參數來源（[按一下以查看完整大小的影像](adding-a-gridview-column-of-radio-buttons-cs/_static/image34.png)）</span><span class="sxs-lookup"><span data-stu-id="aec53-326">**Figure 19**: Use a ControlParameter to Specify the GridView s SelectedValue as the Parameter Source ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image34.png))</span></span>

<span data-ttu-id="aec53-327">完成此嚮導後，Visual Studio 會自動為產品的資料欄位加入欄位。</span><span class="sxs-lookup"><span data-stu-id="aec53-327">Upon completing the wizard, Visual Studio will automatically add fields for the product s data fields.</span></span> <span data-ttu-id="aec53-328">移除除了 `ProductName`、`CategoryName`和 `UnitPrice` BoundFields 的所有內容，並將 `HeaderText` 屬性變更為 [產品]、[類別] 和 [價格]。</span><span class="sxs-lookup"><span data-stu-id="aec53-328">Remove all but the `ProductName`, `CategoryName`, and `UnitPrice` BoundFields, and change the `HeaderText` properties to Product, Category, and Price.</span></span> <span data-ttu-id="aec53-329">設定 `UnitPrice` BoundField，使其值格式化為貨幣。</span><span class="sxs-lookup"><span data-stu-id="aec53-329">Configure the `UnitPrice` BoundField so that its value is formatted as a currency.</span></span> <span data-ttu-id="aec53-330">進行這些變更之後，Panel、GridView 和 ObjectDataSource 的宣告式標記看起來應該如下所示：</span><span class="sxs-lookup"><span data-stu-id="aec53-330">After making these changes, the Panel, GridView, and ObjectDataSource s declarative markup should look like the following:</span></span>

[!code-aspx[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample11.aspx)]

<span data-ttu-id="aec53-331">若要完成此練習，我們必須將 GridView 的 `SelectedIndex` 屬性設為 `SelectedSuppliersIndex`，並將 `ProductsBySupplierPanel` 面板 s `Visible` 屬性設定為按一下 [`true`] 按鈕時的 `ListProducts`。</span><span class="sxs-lookup"><span data-stu-id="aec53-331">To complete this exercise, we need to set the GridView s `SelectedIndex` property to the `SelectedSuppliersIndex` and the `ProductsBySupplierPanel` Panel s `Visible` property to `true` when the `ListProducts` button is clicked.</span></span> <span data-ttu-id="aec53-332">若要完成這項操作，請為 `ListProducts` 按鈕 Web 控制項 `Click` 事件建立事件處理常式，並新增下列程式碼：</span><span class="sxs-lookup"><span data-stu-id="aec53-332">To accomplish this, create an event handler for the `ListProducts` Button Web control s `Click` event and add the following code:</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample12.cs)]

<span data-ttu-id="aec53-333">如果尚未從 GridView 選取供應商，則會顯示 [`ChooseSupplierMsg`] 標籤，並隱藏 [`ProductsBySupplierPanel`] 面板。</span><span class="sxs-lookup"><span data-stu-id="aec53-333">If a supplier has not been selected from the GridView, the `ChooseSupplierMsg` Label is displayed and the `ProductsBySupplierPanel` Panel hidden.</span></span> <span data-ttu-id="aec53-334">否則，如果已選取供應商，則會顯示 `ProductsBySupplierPanel`，並更新 GridView 的 `SelectedIndex` 屬性。</span><span class="sxs-lookup"><span data-stu-id="aec53-334">Otherwise, if a supplier has been selected, the `ProductsBySupplierPanel` is displayed and the GridView s `SelectedIndex` property is updated.</span></span>

<span data-ttu-id="aec53-335">[圖 20] 顯示已選取 Bigfoot Breweries 供應商，並按一下 [在頁面上顯示產品] 按鈕之後的結果。</span><span class="sxs-lookup"><span data-stu-id="aec53-335">Figure 20 shows the results after the Bigfoot Breweries supplier has been selected and the Show Products on Page button has been clicked.</span></span>

<span data-ttu-id="aec53-336">[![Bigfoot Breweries 所提供的產品會列在相同的頁面上](adding-a-gridview-column-of-radio-buttons-cs/_static/image20.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image35.png)</span><span class="sxs-lookup"><span data-stu-id="aec53-336">[![The Products Supplied by Bigfoot Breweries are Listed on the Same Page](adding-a-gridview-column-of-radio-buttons-cs/_static/image20.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image35.png)</span></span>

<span data-ttu-id="aec53-337">**圖 20**： Bigfoot Breweries 所提供的產品會列在相同的頁面上（[按一下以觀看完整大小的影像](adding-a-gridview-column-of-radio-buttons-cs/_static/image36.png)）</span><span class="sxs-lookup"><span data-stu-id="aec53-337">**Figure 20**: The Products Supplied by Bigfoot Breweries are Listed on the Same Page ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image36.png))</span></span>

## <a name="summary"></a><span data-ttu-id="aec53-338">總結</span><span class="sxs-lookup"><span data-stu-id="aec53-338">Summary</span></span>

<span data-ttu-id="aec53-339">如[使用可選取的主要 GridView 與詳細資料 detailview 之](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md)教學課程中所討論的主要/詳細資料，您可以使用 CommandField （其 `ShowSelectButton` 屬性設為 `true`）從 GridView 選取記錄。</span><span class="sxs-lookup"><span data-stu-id="aec53-339">As discussed in the [Master/Detail Using a Selectable Master GridView with a Details DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) tutorial, records can be selected from a GridView using a CommandField whose `ShowSelectButton` property is set to `true`.</span></span> <span data-ttu-id="aec53-340">但是 CommandField 會將其按鈕顯示為一般的推播按鈕、連結或影像。</span><span class="sxs-lookup"><span data-stu-id="aec53-340">But the CommandField displays its buttons either as regular push buttons, links, or images.</span></span> <span data-ttu-id="aec53-341">另一個資料列選取的使用者介面是在每個 GridView 資料列中提供選項按鈕或核取方塊。</span><span class="sxs-lookup"><span data-stu-id="aec53-341">An alternative row-selection user interface is to provide a radio button or checkbox in each GridView row.</span></span> <span data-ttu-id="aec53-342">在本教學課程中，我們已檢查如何新增選項按鈕的資料行。</span><span class="sxs-lookup"><span data-stu-id="aec53-342">In this tutorial we examined how to add a column of radio buttons.</span></span>

<span data-ttu-id="aec53-343">可惜的是，加入選項按鈕的資料行並不像預期般簡單明瞭。</span><span class="sxs-lookup"><span data-stu-id="aec53-343">Unfortunately, adding a column of radio buttons isn t as straightforward or simple as one might expect.</span></span> <span data-ttu-id="aec53-344">在按一下按鈕時，沒有內建的 RadioButtonField 可以加入，而且在 TemplateField 中使用選項按鈕 Web 控制項會引進自己的問題集。</span><span class="sxs-lookup"><span data-stu-id="aec53-344">There is no built-in RadioButtonField that can be added at the click of a button, and using the RadioButton Web control within a TemplateField introduces its own set of problems.</span></span> <span data-ttu-id="aec53-345">最後，若要提供這類介面，我們必須建立自訂 `DataControlField` 類別，或在 `RowCreated` 事件期間，將適當的 HTML 插入 TemplateField 中。</span><span class="sxs-lookup"><span data-stu-id="aec53-345">In the end, to provide such an interface we either have to create a custom `DataControlField` class or resort to injecting the appropriate HTML into a TemplateField during the `RowCreated` event.</span></span>

<span data-ttu-id="aec53-346">探索如何新增選項按鈕的資料行，讓我們將注意力轉變成加入核取方塊的資料行。</span><span class="sxs-lookup"><span data-stu-id="aec53-346">Having explored how to add a column of radio buttons, let us turn our attention to adding a column of checkboxes.</span></span> <span data-ttu-id="aec53-347">使用核取方塊的資料行時，使用者可以選取一或多個 GridView 資料列，然後在所有選取的資料列上執行一些作業（例如，從網頁型電子郵件用戶端選取一組電子郵件，然後選擇刪除所有選取的電子郵件）。</span><span class="sxs-lookup"><span data-stu-id="aec53-347">With a column of checkboxes, a user can select one or more GridView rows and then perform some operation on all of the selected rows (such as selecting a set of emails from a web-based email client, and then choosing to delete all selected emails).</span></span> <span data-ttu-id="aec53-348">在下一個教學課程中，我們將瞭解如何加入這類資料行。</span><span class="sxs-lookup"><span data-stu-id="aec53-348">In the next tutorial we'll see how to add such a column.</span></span>

<span data-ttu-id="aec53-349">快樂的程式設計！</span><span class="sxs-lookup"><span data-stu-id="aec53-349">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="aec53-350">關於作者</span><span class="sxs-lookup"><span data-stu-id="aec53-350">About the Author</span></span>

<span data-ttu-id="aec53-351">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml)，自1998起，有七個 ASP/ASP. NET 書籍和創辦人的[4GuysFromRolla.com](http://www.4guysfromrolla.com)。</span><span class="sxs-lookup"><span data-stu-id="aec53-351">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="aec53-352">Scott 以獨立的顧問、訓練員和作者的身分運作。</span><span class="sxs-lookup"><span data-stu-id="aec53-352">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="aec53-353">他的最新著作是[*在24小時內讓自己的 ASP.NET 2.0*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)。</span><span class="sxs-lookup"><span data-stu-id="aec53-353">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="aec53-354">他可以在mitchell@4GuysFromRolla.com觸達[。](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="aec53-354">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="aec53-355">或者透過他的 blog，可以在[http://ScottOnWriting.NET](http://ScottOnWriting.NET)找到。</span><span class="sxs-lookup"><span data-stu-id="aec53-355">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="aec53-356">特別感謝</span><span class="sxs-lookup"><span data-stu-id="aec53-356">Special Thanks To</span></span>

<span data-ttu-id="aec53-357">本教學課程系列已由許多有用的審核者所審查。</span><span class="sxs-lookup"><span data-stu-id="aec53-357">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="aec53-358">本教學課程的領導審查者是 David Suru。</span><span class="sxs-lookup"><span data-stu-id="aec53-358">Lead reviewer for this tutorial was David Suru.</span></span> <span data-ttu-id="aec53-359">有興趣複習我即將發行的 MSDN 文章嗎？</span><span class="sxs-lookup"><span data-stu-id="aec53-359">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="aec53-360">若是如此，請在mitchell@4GuysFromRolla.com的那一行下拉式[。](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="aec53-360">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="aec53-361">下一個</span><span class="sxs-lookup"><span data-stu-id="aec53-361">Next</span></span>](adding-a-gridview-column-of-checkboxes-cs.md)
