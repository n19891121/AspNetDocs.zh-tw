---
ms.openlocfilehash: c3b00951d2f9e22a1c677a88261a36238d2b12fc
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/01/2019
ms.locfileid: "57061545"
---
# <a name="cookie-sharing-sample-app"></a><span data-ttu-id="12d57-101">Cookie 共用範例應用程式</span><span class="sxs-lookup"><span data-stu-id="12d57-101">Cookie Sharing Sample App</span></span>

<span data-ttu-id="12d57-102">此範例會說明在使用 cookie 驗證的三個應用程式之間共用的 cookie:</span><span class="sxs-lookup"><span data-stu-id="12d57-102">The sample illustrates cookie sharing across three apps that use cookie authentication:</span></span>

| <span data-ttu-id="12d57-103">專案</span><span class="sxs-lookup"><span data-stu-id="12d57-103">Project</span></span>                             | <span data-ttu-id="12d57-104">描述</span><span class="sxs-lookup"><span data-stu-id="12d57-104">Description</span></span> |
| ----------------------------------- | ----------- |
| <span data-ttu-id="12d57-105">CookieAuth.Core</span><span class="sxs-lookup"><span data-stu-id="12d57-105">CookieAuth.Core</span></span>                     | <span data-ttu-id="12d57-106">ASP.NET Core Razor 頁面應用程式，而不使用 ASP.NET Core 身分識別</span><span class="sxs-lookup"><span data-stu-id="12d57-106">ASP.NET Core Razor Pages app without using ASP.NET Core Identity</span></span> |
| <span data-ttu-id="12d57-107">CookieAuthWithIdentity.Core</span><span class="sxs-lookup"><span data-stu-id="12d57-107">CookieAuthWithIdentity.Core</span></span>         | <span data-ttu-id="12d57-108">使用 ASP.NET Core 身分識別的 ASP.NET Core MVC 應用程式</span><span class="sxs-lookup"><span data-stu-id="12d57-108">ASP.NET Core MVC app with ASP.NET Core Identity</span></span> |
| <span data-ttu-id="12d57-109">CookieAuthWithIdentity.NETFramework</span><span class="sxs-lookup"><span data-stu-id="12d57-109">CookieAuthWithIdentity.NETFramework</span></span> | <span data-ttu-id="12d57-110">使用 ASP.NET Identity 的 ASP.NET Framework MVC 應用程式</span><span class="sxs-lookup"><span data-stu-id="12d57-110">ASP.NET Framework MVC app with ASP.NET Identity</span></span> |

<span data-ttu-id="12d57-111">指示：</span><span class="sxs-lookup"><span data-stu-id="12d57-111">Instructions:</span></span>

1. <span data-ttu-id="12d57-112">執行 CookieAuth.Core 應用程式。</span><span class="sxs-lookup"><span data-stu-id="12d57-112">Run the CookieAuth.Core app.</span></span> <span data-ttu-id="12d57-113">註冊的使用者。</span><span class="sxs-lookup"><span data-stu-id="12d57-113">Register a user.</span></span> <span data-ttu-id="12d57-114">註冊使用者時，應用程式會驗證使用者。</span><span class="sxs-lookup"><span data-stu-id="12d57-114">The app authenticates the user when the user is registered.</span></span> <span data-ttu-id="12d57-115">將使用者登出。</span><span class="sxs-lookup"><span data-stu-id="12d57-115">Sign the user out.</span></span>
1. <span data-ttu-id="12d57-116">相同的瀏覽器工作階段中，執行 CookieAuthWithIdentity.Core 應用程式。</span><span class="sxs-lookup"><span data-stu-id="12d57-116">In the same browser session, run the CookieAuthWithIdentity.Core app.</span></span> <span data-ttu-id="12d57-117">使用與核心應用程式註冊相同的使用者。</span><span class="sxs-lookup"><span data-stu-id="12d57-117">Register the same user as used with the Core app.</span></span> <span data-ttu-id="12d57-118">註冊使用者時，應用程式會驗證使用者。</span><span class="sxs-lookup"><span data-stu-id="12d57-118">The app authenticates the user when the user is registered.</span></span> <span data-ttu-id="12d57-119">將使用者登出。</span><span class="sxs-lookup"><span data-stu-id="12d57-119">Sign the user out.</span></span>
1. <span data-ttu-id="12d57-120">相同的瀏覽器工作階段中，執行 CookieAuthWithIdentity.NETFramework 應用程式。</span><span class="sxs-lookup"><span data-stu-id="12d57-120">In the same browser session, run the CookieAuthWithIdentity.NETFramework app.</span></span> <span data-ttu-id="12d57-121">使用與其他應用程式註冊相同的使用者。</span><span class="sxs-lookup"><span data-stu-id="12d57-121">Register the same user as used with the other apps.</span></span> <span data-ttu-id="12d57-122">註冊使用者時，應用程式會驗證使用者。</span><span class="sxs-lookup"><span data-stu-id="12d57-122">The app authenticates the user when the user is registered.</span></span> <span data-ttu-id="12d57-123">將使用者登出。</span><span class="sxs-lookup"><span data-stu-id="12d57-123">Sign the user out.</span></span>
1. <span data-ttu-id="12d57-124">三個應用程式的任何使用者登入。</span><span class="sxs-lookup"><span data-stu-id="12d57-124">Sign in the user to any of the three apps.</span></span> <span data-ttu-id="12d57-125">驗證 cookie 會在應用程式間共用。</span><span class="sxs-lookup"><span data-stu-id="12d57-125">The authentication cookie is shared among the apps.</span></span> <span data-ttu-id="12d57-126">請注意，使用者會自動登入的其他兩個應用程式。</span><span class="sxs-lookup"><span data-stu-id="12d57-126">Note that the user is automatically signed into the other two apps.</span></span>
1. <span data-ttu-id="12d57-127">從任何應用程式，將使用者登入。</span><span class="sxs-lookup"><span data-stu-id="12d57-127">Sign out the user from any of the apps.</span></span> <span data-ttu-id="12d57-128">請注意，使用者會自動登出其他兩個應用程式。</span><span class="sxs-lookup"><span data-stu-id="12d57-128">Note that the user is automatically signed out of the other two apps.</span></span>

<span data-ttu-id="12d57-129">這個範例會示範中所述的功能[應用程式間共用 cookie](https://docs.microsoft.com/aspnet/core/security/cookie-sharing)主題。</span><span class="sxs-lookup"><span data-stu-id="12d57-129">This sample demonstrates the features described in the [Share cookies among apps](https://docs.microsoft.com/aspnet/core/security/cookie-sharing) topic.</span></span>
